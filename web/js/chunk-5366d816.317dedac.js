(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5366d816"],{"004f":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{attrs:{id:"parking-list"}},[a("div",{staticClass:"top"},[a("div",{staticClass:"main"},[a("div",{staticClass:"common-left"},[a("span",{staticClass:"common-chose-info",on:{click:function(a){return t.$refs.showFilterVillage.showDialog()}}},[a("i",{staticClass:"iconfont icondaqu"}),t._v(" "+t._s(t.choseVillageInfo.name)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:"common-input",attrs:{type:"text",placeholder:"输入停车场名称/编号查询"},domProps:{value:t.searchVal},on:{input:function(a){a.target.composing||(t.searchVal=a.target.value)}}}),a("el-button",{staticClass:"common-button",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(a){return t.keySearch(!0)}}},[t._v(" 查询 ")])],1)])]),a("div",{staticClass:"main-wp"},[a("div",{staticClass:"table-wp"},[a("cus-table",{attrs:{datas:t.tableData,cusColums:t.columns,cusConf:t.conf,ispaging:!0},on:{sizeChange:t.sizeChange,currentChange:t.currentChange}})],1)]),a("filter-village",{ref:"showFilterVillage",attrs:{vid:t.choseVillageInfo.vid},on:{choseInfo:t.filterVillage}})],1)},s=[],l=(e("5948"),e("c6141")),i={name:"parkingList",data(){return{urlObj:{carparklistbyhk:this.$api.state.Car.carparklistbyhk.url},choseVillageInfo:{name:"全部项目",vid:0},searchVal:"",tableData:[],columns:l.list,conf:{loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0}}},mounted(){let t=sessionStorage.getItem("vid"),a=sessionStorage.getItem("vname");t&&(this.choseVillageInfo.vid=t,this.choseVillageInfo.name=a),this.tableLoad()},methods:{filterVillage(t){this.choseVillageInfo.name=t.name,this.choseVillageInfo.vid=t.vid,this.searchVal="",this.conf={loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},this.tableLoad()},tableLoad(){this.conf.loadStatus=!0;let t={page:this.conf.curPage,limit:this.conf.limit,vid:this.choseVillageInfo.vid,keywords:this.searchVal};this.$axios.post(this.urlObj.carparklistbyhk,t).then(t=>{200===t.Code?(this.conf.dataTotal=t.Data.total,this.tableData=t.Data.data,this.conf.loadStatus=!1,this.conf.emptyText=""):204===t.Code?(this.$message({message:t.Message,type:"error"}),this.$router.push({path:this.$common.state.loginPath})):(this.tableData=[],this.conf.emptyText=t.Message,this.conf.dataTotal=0,this.conf.loadStatus=!1)}).catch(()=>{this.tableData=[],this.conf.emptyText="服务器连接失败...",this.conf.dataTotal=0,this.conf.loadStatus=!1})},keySearch(){this.conf={loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},this.tableLoad(!0)},sizeChange(t){this.conf.limit=t,this.tableLoad()},currentChange(t){this.conf.curPage=t,this.tableLoad()}}},r=i,c=(e("b00f"),e("1805")),n=Object(c["a"])(r,o,s,!1,null,null,null);a["default"]=n.exports},"3ff2":function(t,a,e){},b00f:function(t,a,e){"use strict";e("3ff2")},c6141:function(t){t.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"停车场编号","prop":"parkCode","show":true,"color":"#999"},{"label":"停车场名称","prop":"parkName","show":true},{"label":"总车位数","prop":"totalPlot","show":true,"color":"#69da61"},{"label":"剩余车位数","prop":"leftPlot","show":true,"color":"#ffcb3c"},{"label":"固定车位数","prop":"totalFixedPlot","show":true,"color":"#999"},{"label":"固定车位剩余数","prop":"leftFixedPlot","show":true},{"label":"免费停车时长","prop":"freeTime","show":true,"color":"#999"},{"label":"充电车位数","prop":"chargeTotalNum","show":true,"color":"#999"},{"label":"充电剩余车位数","prop":"chargeLeftNum","show":true},{"label":"停车场地址","prop":"parkingAddress","show":true,"color":"#999"},{"label":"可预约总数","prop":"totalBookPlot","show":true,"color":"#69da61"},{"label":"可预约剩余数","prop":"leftBookPlot","show":true,"color":"#ffcb3c"}]}')}}]);