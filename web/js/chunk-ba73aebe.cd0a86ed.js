(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba73aebe"],{"0f90":function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var T=null;function n(){try{var t=navigator.userAgent;if(null!=t.match(/Windows\sPhone/i))return!0;if(null!=t.match(/iPhone|iPod/i))return!0;if(null!=t.match(/Android/i))return!0;if(null!=t.match(/Edge\D?\d+/i))return!0;var e=t.match(/Trident\D?\d+/i),o=t.match(/MSIE\D?\d+/i),T=t.match(/OPR\D?\d+/i),n=t.match(/Firefox\D?\d+/i),a=t.match(/x64/i);if(null==e&&null==o&&null!==a)return!0;if(null!==n){if(n=n[0].match(/\d+/),n[0]>=41||null!==a)return!0}else if(null!==T){if(T=T[0].match(/\d+/),T[0]>=32)return!0}else if(null==e&&null==o){var i=t.match(/Chrome\D?\d+/i);if(null!==i&&(i=i[0].match(/\d+/),i[0]>=41))return!0}return!1}catch(l){return!0}}if(n()){var a=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.src="http://localhost:8000/CLodopfuncs.js?priority=1",a.insertBefore(i,a.firstChild),i=document.createElement("script"),i.src="http://localhost:18000/CLodopfuncs.js?priority=0",a.insertBefore(i,a.firstChild)}function l(t,e){var o,a="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='http://www.lodop.net/download.html' target='_blank'>执行安装</a>,安装后请刷新页面或重新进入。</font>",i="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='http://www.lodop.net/download.html' target='_blank'>执行升级</a>,升级后请重新进入。</font>",l="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='http://www.lodop.net/download.html' target='_blank'>执行安装</a>,安装后请刷新页面或重新进入。</font>",s="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='http://www.lodop.net/download.html' target='_blank'>执行升级</a>,升级后请重新进入。</font>",r="<br><br><font color='#FF00FF'>（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）</font>",_="<br><br><font color='#FF00FF'>(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）</font>",E="<br><font color='#FF00FF'>CLodop云打印服务(localhost本地)未安装启动!点击这里<a href='http://www.lodop.net/download.html' target='_blank'>执行安装</a>,安装后请刷新页面。</font>",c="<br><font color='#FF00FF'>CLodop云打印服务需升级!点击这里<a href='http://www.lodop.net/download.html' target='_blank'>执行升级</a>,升级后请刷新页面。</font>";try{var h=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0;if(n()){try{o=getCLodop()}catch(S){}if(!o&&"complete"!==document.readyState)return void alert("C-Lodop没准备好，请稍后再试！");if(!o)return void(h?document.write(E):document.body.innerHTML=E+document.body.innerHTML);CLODOP.CVERSION<"3.0.2.8"&&(h?document.write(c):document.body.innerHTML=c+document.body.innerHTML),e&&e.parentNode&&e.parentNode.removeChild(e),t&&t.parentNode&&t.parentNode.removeChild(t)}else{var u=h&&navigator.userAgent.indexOf("x64")>=0;if(void 0!=t||void 0!=e?o=h?t:e:null==T?(o=document.createElement("object"),o.setAttribute("width",0),o.setAttribute("height",0),o.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),h?o.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):o.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(o),T=o):o=T,null==o||"undefined"==typeof o.VERSION)return navigator.userAgent.indexOf("Chrome")>=0&&(document.body.innerHTML=_+document.body.innerHTML),navigator.userAgent.indexOf("Firefox")>=0&&(document.body.innerHTML=r+document.body.innerHTML),u?document.write(l):h?document.write(a):document.body.innerHTML=a+document.body.innerHTML,o}return o.VERSION<"6.2.2.0"?(n()||(u?document.write(s):h?document.write(i):document.body.innerHTML=i+document.body.innerHTML),o):o}catch(S){alert("getLodop出错:"+S)}}},"1c36":function(t){t.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"资源名称","prop":"resources_name","show":true,"color":"#999"},{"label":"业主姓名","prop":"oname","show":true},{"label":"欠费科目","prop":"subject_name","show":true,"color":"#999"},{"label":"欠费周期","prop":"time","show":true},{"label":"详情","prop":"use_info","show":true,"color":"#999"},{"label":"欠费金额","prop":"all_money","show":true,"color":"#ffcb3c"},{"label":"操作","prop":"","width":120,"type":"button","show":true,"btns":[{"name":"生成订单","type":"primary","size":"small","round":true,"action":"print","role":"print","token":"Btn-xMjCHCCFJlKaSMqnV74dnK5m"}]}]}')},7270:function(t){t.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"订单号","prop":"sn","show":true,"color":"#999"},{"label":"订单状态","prop":"status_text","show":true,"color":"#69da61"},{"label":"房号","prop":"roomnum","show":true,"color":"#999"},{"label":"业主姓名","prop":"realname","show":true},{"label":"欠费科目","prop":"subject_name","show":true,"color":"#999"},{"label":"欠费周期","prop":"time","show":true,"width":200},{"label":"详情","prop":"remark","show":true,"color":"#999","width":200},{"label":"欠费金额","prop":"money","show":true,"color":"#ffcb3c"},{"label":"操作","prop":"","width":120,"type":"button","show":true,"btns":[{"name":"打印收据","type":"primary","size":"small","round":true,"action":"print","role":"print","token":"Btn-wbkTqEEeKP2s8f2nD4f22r23"}]}]}')},cae3:function(t,e,o){"use strict";var T,n=o("0f90");function a(t,e,o){if(""==t||void 0==t)return"";t=t||0,e=isNaN(e=Math.abs(e))?2:e,o=void 0!==o?o:"￥";var T=t<0?"-":"",n=parseInt(t=Math.abs(+t||0).toFixed(e),10)+"",a=(a=n.length)>3?a%3:0;return o+T+(a?n.substr(0,a)+",":"")+n.substr(a).replace(/(\d{3})(?=\d)/g,"$1,")+(e?"."+Math.abs(t-n).toFixed(e).slice(2):"")}function i(t){l(t),T.PREVIEW()}function l(t){if(T=Object(n["a"])(),"electronic"===t.receipt_type){T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(130,120,150,20,"小区名称："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(130,180,150,20,t.villagename),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(160,120,150,20,"收费项目"),T.SET_PRINT_STYLE("FontColor","#0000FF");for(var e=0;e<t.subject_detail.length;e++){var o=20;t.subject_detail.length>4&&(o=17),T.ADD_PRINT_TEXT(parseInt(180+o*e),120,170,70,t.subject_detail[e].project),T.ADD_PRINT_TEXT(parseInt(180+o*e),220,330,70,t.subject_detail[e].zy),T.SET_PRINT_STYLEA(0,"Alignment",2),0!=t.subject_detail[e].hzzz&&T.ADD_PRINT_TEXT(parseInt(180+o*e),550,100,70,a(t.subject_detail[e].mainmoney,2,"￥"))}T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(160,250,250,20,"摘      要："),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(160,540,80,20,"金额："),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(130,300,180,20,"房号/姓名："),T.SET_PRINT_STYLE("FontColor","#0000FF"),t.roomnum==t.owner_name?T.ADD_PRINT_TEXT(130,370,150,20,t.roomnum):t.owner_name?T.ADD_PRINT_TEXT(130,370,150,20,t.roomnum+"/"+t.owner_name.substr(0,5)+" \n"+t.owner_name.substr(5,t.owner_name.length)):T.ADD_PRINT_TEXT(130,370,150,20,t.roomnum+"/"),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(130,500,150,20,"日期："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(130,540,150,20,t.date),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(300,130,300,20,"合计："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(300,170,300,20,a(t.money,2,"￥")),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(300,240,300,20,"人民币(大写)："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(300,330,300,20,t.capitalization_money),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(300,460,300,20,"渠道："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(300,500,300,20,t.pay_type),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(340,120,150,20,"收款单位："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(340,180,150,40,t.payee),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(340,320,150,20,"收款人："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(340,370,150,20,t.creater),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(340,440,150,20,"交款人："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(340,490,150,20,t.owner_name),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","12"),T.ADD_PRINT_TEXT(55,540,150,20,"状态："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(55,590,150,20,t.receipt_status_yext),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","13"),T.ADD_PRINT_TEXT(75,500,150,20,"No"),T.SET_PRINT_STYLEA(0,"PreviewOnly",!1),T.SET_PRINT_STYLE("FontColor","#800000"),T.ADD_PRINT_TEXT(75,520,150,20,t.receipt_num),T.SET_PRINT_STYLEA(0,"PreviewOnly",!1),T.ADD_PRINT_SHAPE(2,100,100,540,290,0),T.SET_PRINT_STYLEA(0,"PreviewOnly",!1),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","20"),T.SET_PRINT_STYLE("FontWeight","800"),T.ADD_PRINT_TEXT(60,350,390,20,"收据"),T.SET_PRINT_STYLEA(0,"PreviewOnly",!1),T.SET_PRINT_STYLEA(0,"TransColor","#FFFFFF"),T.ADD_PRINT_IMAGE(320,220,"100%","100%","<img src='"+t.seal_image+"' style='width: 80px;height:80px;' />"),T.SET_PRINT_STYLEA(0,"TransColor","#FFFFFF"),T.ADD_PRINT_IMAGE(290,550,"100%","100%",`<img src="${t.qrcode_base64}" style="width: 80px;height:80px;"/>`),T.SET_PRINT_STYLEA(0,"TransColor","#FFFFFF")}else{T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(70,120,150,20,"小区名称："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(70,180,150,20,t.villagename),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(100,120,150,20,"收费项目"),T.SET_PRINT_STYLE("FontColor","#0000FF");for(e=0;e<t.subject_detail.length;e++){o=20;t.subject_detail.length>4&&(o=17),T.ADD_PRINT_TEXT(parseInt(120+o*e),120,170,70,t.subject_detail[e].project),T.ADD_PRINT_TEXT(parseInt(120+o*e),220,330,70,t.subject_detail[e].zy),T.SET_PRINT_STYLEA(0,"Alignment",2),0!=t.subject_detail[e].hzzz&&T.ADD_PRINT_TEXT(parseInt(120+o*e),550,100,70,a(t.subject_detail[e].mainmoney,2,"￥"))}T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(100,250,250,20,"摘      要："),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(100,540,80,20,"金额："),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(70,300,180,20,"房号/姓名："),T.SET_PRINT_STYLE("FontColor","#0000FF"),t.roomnum==t.owner_name?T.ADD_PRINT_TEXT(70,370,150,20,t.roomnum):t.owner_name?T.ADD_PRINT_TEXT(70,370,150,20,t.roomnum+"/"+t.owner_name.substr(0,5)+" \n"+t.owner_name.substr(5,t.owner_name.length)):T.ADD_PRINT_TEXT(70,370,150,20,t.roomnum+"/"),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(70,500,150,20,"日期："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(70,540,150,20,t.date),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(220,130,300,20,"合计："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(220,170,300,20,a(t.money,2,"￥")),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(220,280,300,20,"人民币(大写)："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(220,370,300,20,t.capitalization_money),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(220,500,300,20,"渠道："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(220,540,300,20,t.pay_type),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(260,120,150,20,"收款单位："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(260,180,150,40,t.payee),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(260,340,150,20,"收款人："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(260,390,150,20,t.creater),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(260,460,150,20,"交款人："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(260,510,150,20,t.owner_name),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","13"),T.ADD_PRINT_TEXT(15,500,150,20,"No"),T.SET_PRINT_STYLEA(0,"PreviewOnly",!0),T.SET_PRINT_STYLE("FontColor","#800000"),T.ADD_PRINT_TEXT(15,520,150,20,t.receipt_num),T.SET_PRINT_STYLEA(0,"PreviewOnly",!0),T.ADD_PRINT_SHAPE(2,40,100,540,290,0),T.SET_PRINT_STYLEA(0,"PreviewOnly",!0),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","20"),T.SET_PRINT_STYLE("FontWeight","800"),T.ADD_PRINT_TEXT(0,350,390,20,"收据"),T.SET_PRINT_STYLEA(0,"PreviewOnly",!0),T.SET_PRINT_STYLEA(0,"TransColor","#FFFFFF")}}function s(t){T=Object(n["a"])(),T.PRINT_INIT(""),T.SET_PRINT_PAGESIZE(1,2100,1300,"");for(var e=0;e<t.length;e++){T.NewPageA();const n=t[e];if("electronic"===n.receipt_type){T.SET_PRINT_STYLE("FontSize","9"),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(130,120,150,20,"小区名称："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(130,180,150,20,n.villagename),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(160,120,150,20,"收费项目"),T.SET_PRINT_STYLE("FontColor","#0000FF");for(var o=0;o<n.subject_detail.length;o++){var i=20;n.subject_detail.length>4&&(i=17),T.ADD_PRINT_TEXT(parseInt(180+i*o),120,170,70,n.subject_detail[o].project),T.ADD_PRINT_TEXT(parseInt(180+i*o),220,330,70,n.subject_detail[o].zy),T.SET_PRINT_STYLEA(0,"Alignment",2),0!=n.subject_detail[o].hzzz&&T.ADD_PRINT_TEXT(parseInt(180+i*o),550,100,70,a(n.subject_detail[o].mainmoney,2,"￥"))}T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(160,250,250,20,"摘      要："),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(160,540,80,20,"金额："),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(130,300,180,20,"房号/姓名："),T.SET_PRINT_STYLE("FontColor","#0000FF"),n.roomnum==n.owner_name?T.ADD_PRINT_TEXT(130,370,150,20,n.roomnum):n.owner_name?T.ADD_PRINT_TEXT(130,370,150,20,n.roomnum+"/"+n.owner_name.substr(0,5)+" \n"+n.owner_name.substr(5,n.owner_name.length)):T.ADD_PRINT_TEXT(130,370,150,20,n.roomnum+"/"),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(130,500,150,20,"日期："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(130,540,150,20,n.date),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(300,130,300,20,"合计："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(300,170,300,20,a(n.money,2,"￥")),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(300,240,300,20,"人民币(大写)："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(300,330,300,20,n.capitalization_money),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(300,460,300,20,"渠道："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(300,500,300,20,n.pay_type),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(340,120,150,20,"收款单位："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(340,180,150,40,n.payee),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(340,320,150,20,"收款人："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(340,370,150,20,n.creater),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(340,440,150,20,"交款人："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(340,490,150,20,n.owner_name),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","12"),T.ADD_PRINT_TEXT(55,540,150,20,"状态："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(55,590,150,20,n.receipt_status_yext),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","13"),T.ADD_PRINT_TEXT(75,500,150,20,"No"),T.SET_PRINT_STYLEA(0,"PreviewOnly",!1),T.SET_PRINT_STYLE("FontColor","#800000"),T.ADD_PRINT_TEXT(75,520,150,20,n.receipt_num),T.SET_PRINT_STYLEA(0,"PreviewOnly",!1),T.ADD_PRINT_SHAPE(2,100,100,540,290,0),T.SET_PRINT_STYLEA(0,"PreviewOnly",!1),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","20"),T.SET_PRINT_STYLE("FontWeight","800"),T.ADD_PRINT_TEXT(60,350,390,20,"收据"),T.SET_PRINT_STYLEA(0,"PreviewOnly",!1),T.SET_PRINT_STYLEA(0,"TransColor","#FFFFFF"),T.ADD_PRINT_IMAGE(320,220,"100%","100%","<img src='"+n.seal_image+"' style='width: 80px;height:80px;' />"),T.SET_PRINT_STYLEA(0,"TransColor","#FFFFFF"),T.ADD_PRINT_IMAGE(290,550,"100%","100%",`<img src="${n.qrcode_base64}" style="width: 80px;height:80px;"/>`),T.SET_PRINT_STYLEA(0,"TransColor","#FFFFFF")}else{T.SET_PRINT_STYLE("FontSize","9"),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(70,120,150,20,"小区名称："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(70,180,150,20,n.villagename),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(100,120,150,20,"收费项目"),T.SET_PRINT_STYLE("FontColor","#0000FF");for(o=0;o<n.subject_detail.length;o++){i=20;n.subject_detail.length>4&&(i=17),T.ADD_PRINT_TEXT(parseInt(120+i*o),120,170,70,n.subject_detail[o].project),T.ADD_PRINT_TEXT(parseInt(120+i*o),220,330,70,n.subject_detail[o].zy),T.SET_PRINT_STYLEA(0,"Alignment",2),0!=n.subject_detail[o].hzzz&&T.ADD_PRINT_TEXT(parseInt(120+i*o),550,100,70,a(n.subject_detail[o].mainmoney,2,"￥"))}T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(100,250,250,20,"摘      要："),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(100,540,80,20,"金额："),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.SET_PRINT_STYLEA(0,"Alignment",2),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(70,300,180,20,"房号/姓名："),T.SET_PRINT_STYLE("FontColor","#0000FF"),n.roomnum==n.owner_name?T.ADD_PRINT_TEXT(70,370,150,20,n.roomnum):n.owner_name?T.ADD_PRINT_TEXT(70,370,150,20,n.roomnum+"/"+n.owner_name.substr(0,5)+" \n"+n.owner_name.substr(5,n.owner_name.length)):T.ADD_PRINT_TEXT(70,370,150,20,n.roomnum+"/"),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(70,500,150,20,"日期："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(70,540,150,20,n.date),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(220,130,300,20,"合计："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(220,170,300,20,a(n.money,2,"￥")),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(220,280,300,20,"人民币(大写)："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(220,370,300,20,n.capitalization_money),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(220,500,300,20,"渠道："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(220,540,300,20,n.pay_type),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(260,120,150,20,"收款单位："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(260,180,150,40,n.payee),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(260,340,150,20,"收款人："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(260,390,150,20,n.creater),T.SET_PRINT_STYLE("FontColor","#000000"),T.ADD_PRINT_TEXT(260,460,150,20,"交款人："),T.SET_PRINT_STYLE("FontColor","#0000FF"),T.ADD_PRINT_TEXT(260,510,150,20,n.owner_name),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","13"),T.ADD_PRINT_TEXT(15,500,150,20,"No"),T.SET_PRINT_STYLEA(0,"PreviewOnly",!0),T.SET_PRINT_STYLE("FontColor","#800000"),T.ADD_PRINT_TEXT(15,520,150,20,n.receipt_num),T.SET_PRINT_STYLEA(0,"PreviewOnly",!0),T.ADD_PRINT_SHAPE(2,40,100,540,290,0),T.SET_PRINT_STYLEA(0,"PreviewOnly",!0),T.SET_PRINT_STYLE("FontColor","#000000"),T.SET_PRINT_STYLE("FontSize","20"),T.SET_PRINT_STYLE("FontWeight","800"),T.ADD_PRINT_TEXT(0,350,390,20,"收据"),T.SET_PRINT_STYLEA(0,"PreviewOnly",!0),T.SET_PRINT_STYLEA(0,"TransColor","#FFFFFF")}}T.PREVIEW()}e["a"]={startLodop:i,startMorePrintLodop:s}},e678:function(t,e,o){},fcbf:function(t,e,o){"use strict";o.r(e);var T=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"batch-gathering"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"main"},[e("div",{staticClass:"common-left"},[e("span",{staticClass:"common-chose-info",on:{click:function(e){return t.$refs.showFilterVillage.showDialog()}}},[e("i",{staticClass:"iconfont icondaqu"}),t._v(" "+t._s(t.choseVillageInfo.name)+" ")]),e("el-select",{attrs:{placeholder:"请选择缴费科目"},on:{change:t.tableLoad},model:{value:t.subjectVal,callback:function(e){t.subjectVal=e},expression:"subjectVal"}},t._l(t.subOptions,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),e("el-select",{staticClass:"typeSelect",on:{change:t.typeChange},model:{value:t.typeVal,callback:function(e){t.typeVal=e},expression:"typeVal"}},t._l(t.typeOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),"2"==t.typeVal?e("el-date-picker",{staticStyle:{"margin-right":"20px"},attrs:{type:"month",placeholder:"欠费截止时间","value-format":"yyyyMM"},on:{change:t.tableChange},model:{value:t.ymonth,callback:function(e){t.ymonth=e},expression:"ymonth"}}):t._e(),e("el-button",{staticClass:"common-button",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.tableLoad}},[t._v(" 查询 ")])],1)])]),e("div",{staticClass:"main-wp"},[e("div",{staticClass:"select-wp"},[e("el-select",{attrs:{multiple:"","collapse-tags":"",clearable:"",placeholder:"请选择楼栋"},on:{change:t.buildChange},model:{value:t.buildVal,callback:function(e){t.buildVal=e},expression:"buildVal"}},t._l(t.buildOptions,(function(t){return e("el-option",{key:t.id,attrs:{label:t.block,value:t.id}})})),1),e("el-select",{attrs:{multiple:"","collapse-tags":"",clearable:"",placeholder:"请选择单元"},on:{change:t.tableLoad},model:{value:t.unitVal,callback:function(e){t.unitVal=e},expression:"unitVal"}},t._l(t.unitOptions,(function(t){return e("el-option",{key:t.id,attrs:{label:t.block+"-"+t.unit,value:t.id}})})),1)],1),e("div",{staticClass:"table-wp"},[e("cus-table",{attrs:{datas:t.tableData,cusColums:t.columns,cusConf:t.conf,ispaging:!0,check:!0},on:{sizeChange:t.sizeChange,currentChange:t.currentChange,print:t.tablePrint,selectionChange:t.selectionChange}}),e("div",{staticClass:"btn-wp"},[1==t.typeVal&&t.$menu.getters.judgeRole("Btn-wbkTqEEeKP2s8f2nD4f22r23")?e("el-button",{staticClass:"empty",attrs:{disabled:0===t.tableSelected.length,type:"primary",round:""},on:{click:t.batchPrint}},[t._v(" 打印收据已选("+t._s(t.tableSelected.length)+")本 ")]):t._e(),1!=t.typeVal&&t.$menu.getters.judgeRole("Btn-xMjCHCCFJlKaSMqnV74dnK5m")?e("el-button",{staticClass:"empty",attrs:{disabled:0===t.tableSelected.length,type:"primary",round:""},on:{click:t.batchPrint}},[t._v(" 生成订单已选("+t._s(t.tableSelected.length)+")本 ")]):t._e()],1)],1)]),e("filter-village",{ref:"showFilterVillage",attrs:{vid:t.choseVillageInfo.vid},on:{choseInfo:t.filterVillage}}),e("el-dialog",{staticClass:"gatheringDialog",attrs:{visible:t.showGatheringDialog,title:"生成订单",width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.showGatheringDialog=e}}},[e("el-scrollbar",{staticStyle:{height:"100%"}},[e("div",{staticClass:"title"},[t._v("选择支付方式")]),e("div",{staticClass:"payments"},[e("el-radio-group",{model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}},t._l(t.paymentList,(function(o){return e("el-radio",{key:o.id,attrs:{label:o.id}},[t._v(" "+t._s(o.name)+" ")])})),1)],1),e("div",{staticClass:"title"},[t._v("选择支付时间")]),e("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"请选择支付时间"},model:{value:t.dateVal,callback:function(e){t.dateVal=e},expression:"dateVal"}})],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{loading:t.isCommit,type:"primary",round:""},on:{click:t.confirm}},[t._v(" 提交保存 ")]),e("el-button",{attrs:{loading:t.isCommit,type:"info",round:""},on:{click:function(e){t.showGatheringDialog=!1}}},[t._v(" 取消 ")])],1)],1)],1)},n=[],a=(o("5948"),o("cae3")),i=o("7270"),l=o("1c36"),s={name:"batchGathering",data(){return{urlObj:{subjectbytype:this.$api.state.Public.subjectbytype.url,buildOfVillage:this.$api.state.Public.buildOfVillage.url,searchUnit:this.$api.state.Public.searchUnit.url,resourcetypeid:this.$api.state.Assist.resourcetypeid.url,subjectarrears:this.$api.state.Assist.subjectarrears.url,haspayorder:this.$api.state.Assist.haspayorder.url,getpaymenttype:this.$api.state.Charge.getpaymenttype.url,batchopenpaysn:this.$api.state.Assist.batchopenpaysn.url,issueReceipt:this.$api.state.Charge.issueReceipt.url,batchprint:this.$api.state.Assist.batchprint.url},choseVillageInfo:{name:"全部项目",vid:0},subjectVal:"",ymonth:"",subOptions:[],typeVal:2,typeOptions:[{label:"生成订单",value:2},{label:"打印收据",value:1}],tableData:[],conf:{loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},buildVal:[],buildOptions:[],unitVal:[],unitOptions:[],tableSelected:[],currentIndex:0,isBatch:!1,showGatheringDialog:!1,radioVal:"",paymentList:[],dateVal:"",isCommit:!1}},computed:{columns(){return 1==this.typeVal?i.list:l.list}},mounted(){let t=sessionStorage.getItem("vid"),e=sessionStorage.getItem("vname");t&&(this.choseVillageInfo.vid=t,this.choseVillageInfo.name=e),this.getSubjectList(),this.getBuildList()},methods:{filterVillage(t){this.choseVillageInfo.name=t.name,this.choseVillageInfo.vid=t.vid,this.subjectVal="",this.subOptions=[],this.typeVal=1,this.ymonth="",this.buildVal=[],this.buildOptions=[],this.unitVal=[],this.unitOptions=[],this.conf={loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},this.getSubjectList(),this.getBuildList()},getSubjectList(){let t={vid:this.choseVillageInfo.vid};this.$axios.post(this.urlObj.subjectbytype,t).then(t=>{if(200===t.Code)this.subOptions=t.Data?t.Data:[],this.subjectVal=t.Data&&t.Data[0]?t.Data[0].id:"",this.subjectVal&&this.tableLoad();else{let e=t.Message?t.Message:"获取缴费科目失败！";this.$message({message:e,type:"error"})}}).catch(()=>{})},getBuildList(){let t={vid:this.choseVillageInfo.vid};this.$axios.post(this.urlObj.buildOfVillage,t).then(t=>{if(200===t.Code)this.buildOptions=t.Data?t.Data:[];else{let e=t.Message?t.Message:"获取楼栋数据失败！";this.$message({message:e,type:"error"})}}).catch(()=>{})},getUnitList(){let t={bids:this.buildVal};this.$axios.post(this.urlObj.searchUnit,t).then(t=>{if(200===t.Code)this.unitOptions=t.Data?t.Data:[];else{let e=t.Message?t.Message:"获取单元数据失败！";this.$message({message:e,type:"error"})}}).catch(()=>{})},buildChange(t){this.unitVal=[],this.unitOptions=[],t.length>0&&this.getUnitList(),this.tableLoad()},tableLoad(){let t=1==this.typeVal?this.urlObj.haspayorder:this.urlObj.subjectarrears;this.conf.loadStatus=!0;let e={page:this.conf.curPage,limit:this.conf.limit,vid:this.choseVillageInfo.vid,subject_id:this.subjectVal,bids:this.buildVal,ymonth:this.ymonth,units:this.unitVal};this.$axios.post(t,e).then(t=>{200===t.Code?(2==this.typeVal?t.Data.data.forEach(t=>{t.oname=t.owner.realname,t.subject_name=t.subject.name}):t.Data.data.forEach(t=>{t.status_text=0==t.status?"未交":"已交";let e=[];t.sndetails&&t.sndetails.length>0&&t.sndetails.forEach(t=>{t.subject&&t.subject.name&&e.push(t.subject.name)}),t.subject_name=e.join("、")}),this.conf.dataTotal=t.Data.total,this.tableData=t.Data.data,this.conf.loadStatus=!1,this.conf.emptyText=""):204===t.Code?(this.$message({message:t.Message,type:"error"}),this.$router.push({path:this.$common.state.loginPath})):(this.datas=[],this.conf.emptyText=t.Message,this.conf.dataTotal=0,this.conf.loadStatus=!1)}).catch(()=>{this.datas=[],this.conf.emptyText="服务器连接失败...",this.conf.dataTotal=0,this.conf.loadStatus=!1})},typeChange(){this.ymonth="",this.tableLoad()},sizeChange(t){this.conf.limit=t,this.tableLoad()},currentChange(t){this.conf.curPage=t,this.tableLoad()},tableChange(){this.conf.curPage=1,this.tableLoad()},selectionChange(t){this.tableSelected=t},tablePrint(t){this.currentIndex=t,1==this.typeVal?this.$confirm("确定要打印当前收据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let e={id:this.tableData[t].id,ymonth:this.ymonth,type:2};this.printCommit(e)}).catch(()=>{}):(this.isBatch=!1,this.radioVal="",this.dateVal="",this.getPaymentType(),this.showGatheringDialog=!0)},batchPrint(){1==this.typeVal?this.$confirm("确定要打印当前选择的票据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=this.tableSelected.map(t=>t.id),e={ymonth:this.ymonth,ids:t};this.batchPrintCommit(e)}).catch(()=>{}):(this.isBatch=!0,this.radioVal="",this.dateVal="",this.getPaymentType(),this.showGatheringDialog=!0)},printCommit(t){this.$axios.post(this.urlObj.issueReceipt,t).then(e=>{if(200===e.Code)e.Data.id=t.id,a["a"].startLodop(e.Data);else{let t=e.Message?e.Message:"获取打印收据失败！";this.$message({message:t,type:"error"})}}).catch(()=>{})},batchPrintCommit(t){this.$axios.post(this.urlObj.batchprint,t).then(t=>{if(200===t.Code)a["a"].startMorePrintLodop(t.Data);else{let e=t.Message?t.Message:"获取打印收据失败！";this.$message({message:e,type:"error"})}}).catch(()=>{})},getPaymentType(){let t={vid:this.choseVillageInfo.vid};this.$axios.post(this.urlObj.getpaymenttype,t).then(t=>{if(200===t.Code)this.paymentList=t.Data?t.Data:[];else{let e=t.Message?t.Message:"获取支付方式失败！";this.$message({message:e,type:"error"})}}).catch(()=>{})},confirm(){if(this.radioVal&&this.dateVal){this.isCommit=!0;let t=[];this.isBatch?this.tableSelected.forEach(e=>{let o={resources_id:e.resourcesmodel_id,resources_name:e.resources_name,resources_type:e.resourcesmodel_type,oid:e.oid,subject_id:e.subject_village_id,time:e.time,use_info:e.use_info};t.push(o)}):t=[{resources_id:this.tableData[this.currentIndex].resourcesmodel_id,resources_name:this.tableData[this.currentIndex].resources_name,resources_type:this.tableData[this.currentIndex].resourcesmodel_type,oid:this.tableData[this.currentIndex].oid,subject_id:this.tableData[this.currentIndex].subject_village_id,time:this.tableData[this.currentIndex].time,use_info:this.tableData[this.currentIndex].use_info}];let e={vid:this.choseVillageInfo.vid,ymonth:this.ymonth,pay_type:this.radioVal,pay_time:this.dateVal/1e3,data:t};this.$axios.post(this.urlObj.batchopenpaysn,e).then(t=>{if(200===t.Code)this.$message({message:"生成订单成功！",type:"success"}),this.showGatheringDialog=!1,this.tableLoad();else{let e=t.Message?t.Message:"生成订单失败！";this.$message({message:e,type:"error"})}this.isCommit=!1}).catch(()=>{this.isCommit=!1})}else this.radioVal||this.dateVal?this.radioVal?this.$message({type:"warning",message:"请选择支付时间！"}):this.$message({type:"warning",message:"请选择支付方式！"}):this.$message({type:"warning",message:"请选择支付方式和支付时间！"})}}},r=s,_=(o("fe84"),o("1805")),E=Object(_["a"])(r,T,n,!1,null,null,null);e["default"]=E.exports},fe84:function(t,e,o){"use strict";o("e678")}}]);