(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12ae58ec"],{"0a2b":function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"序号","width":"80","prop":"index","show":true},{"label":"小区名称","prop":"villagename","show":true},{"label":"楼栋名称","prop":"building","show":true,"color":"#999"},{"label":"房屋全称","prop":"roomnum","show":true},{"label":"建筑面积","prop":"buildareas","show":true,"color":"#999"},{"label":"业主姓名、电话","prop":"username","width":"170","show":true},{"label":"使用关系","prop":"type","show":true,"color":"#69da61"}]}')},"203a":function(e,t,a){"use strict";a("9622")},"23fd":function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"序号","width":"80","prop":"index","show":true},{"label":"小区名称","prop":"villagename","width":"130","show":true},{"label":"占地面积","prop":"allacreage","width":"100","show":true,"color":"#999"},{"label":"建筑面积","prop":"buildacreage","width":"100","show":true,"color":"#999"},{"label":"使用面积","prop":"useacreage","width":"100","show":true,"color":"#999"},{"label":"未售","prop":"vacancy_num","show":true,"color":"#ffcb3c"},{"label":"已售","prop":"no_vacancy_num","show":true,"color":"#69da61"},{"label":"已交房","prop":"check_num","show":true,"color":"#999"},{"label":"未交房","prop":"no_check_num","show":true},{"label":"交房率","prop":"deliver_rate","show":true},{"label":"已入住","prop":"has_intohouse_num","show":true},{"label":"未入住","prop":"not_intohouse_num","show":true},{"label":"入住率","prop":"intohouse_proportion","show":true},{"label":"已装修","prop":"has_isdecorate_num","show":true,"color":"#999"},{"label":"装修中","prop":"in_isdecorate_num","show":true},{"label":"未装修","prop":"no_isdecorate_num","show":true,"color":"#999"},{"label":"固定车位","prop":"car_num","show":true},{"label":"启用","prop":"car_bind_num","show":true,"color":"#69da61"},{"label":"月租车位","prop":"carmonth_num","show":true,"color":"#ffcb3c"},{"label":"备注","prop":"remarks","show":true,"color":"#999","width":180}]}')},"40a5":function(e,t,a){"use strict";a("e90e")},"834e":function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"序号","width":"80","prop":"index","show":true},{"label":"小区名称","prop":"villageName","show":true},{"label":"资源名称","prop":"resourcestype","show":true,"color":"#999"},{"label":"车牌号","prop":"plates","show":true,"color":"#69da61"},{"label":"所属人","prop":"owner","action":"setVal","role":"edit","show":true},{"label":"联系电话","prop":"car_tel","show":true,"color":"#999"},{"label":"备注","prop":"remark","show":true,"color":"#999"},{"label":"周期","prop":"use_date","show":true,"color":"#999","cstcolor":"statusColor"},{"label":"状态","prop":"status_text","show":true,"color":"#999","cstcolor":"statusColor"}]}')},"869e":function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"序号","width":"80","prop":"index","show":true},{"label":"小区名称","prop":"villageName","show":true},{"label":"员工姓名","prop":"non_owner_name","show":true},{"label":"联系电话","prop":"non_owner_tel","show":true,"color":"#999"},{"label":"车牌号 ","prop":"plates","show":true,"color":"#999"},{"label":"使用周期","prop":"use_date","show":true}]}')},"8e44":function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"序号","width":"80","prop":"index","show":true},{"label":"小区名称","prop":"villageName","show":true},{"label":"资源类别","prop":"type","show":true,"color":"#999"},{"label":"车位编号","prop":"stall","show":true,"color":"#69da61"},{"label":"车牌号","prop":"plates","show":true,"color":"#333"},{"label":"面积","prop":"area","show":true,"color":"#999"},{"label":"业主姓名","prop":"owner","show":true},{"label":"联系电话","prop":"car_tel","show":true},{"label":"车位类别","prop":"resourceType","show":true,"color":"#999"},{"label":"周期","prop":"use_date","show":true,"color":"#999","cstcolor":"statusColor"},{"label":"状态","prop":"status_text","show":true,"color":"#999","cstcolor":"statusColor"}]}')},"94ce":function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"序号","width":"80","prop":"index","show":true},{"label":"小区名称","prop":"villageName","show":true},{"label":"资源名称","prop":"resourcestype","show":true,"color":"#999"},{"label":"车辆类型","prop":"type_name","show":true,"color":"#69da61"},{"label":"所属人","prop":"owner","action":"setVal","role":"edit","show":true}]}')},9622:function(e,t,a){},a152:function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"序号","width":"80","prop":"index","show":true},{"label":"小区名称","prop":"villageName","width":"130","show":true},{"label":"资源类别","prop":"resourceType","show":true,"color":"#999"},{"label":"房号","prop":"roomNum","show":true,"color":"#69da61"},{"label":"装修开始时间","prop":"fitment","show":true,"width":160},{"label":"装修结束时间","prop":"endtime","show":true,"width":160},{"label":"建筑面积","prop":"buildArea","show":true,"color":"#999"},{"label":"使用面积","prop":"useArea","show":true,"color":"#999"},{"label":"楼栋名称","prop":"buildName","show":true,"color":"#999"},{"label":"业主姓名","prop":"owner","show":true,"width":120},{"label":"联系电话","prop":"ownerTel","show":true,"width":120},{"label":"入场时间","prop":"approach_time","show":true,"width":160,"color":"#999"},{"label":"装修状态","prop":"fitmentStatus","show":true,"color":"#999"},{"label":"交房状态","prop":"deliveryStatus","show":true},{"label":"入住状态","prop":"houseStatus","show":true},{"label":"备注","prop":"remark","show":true,"color":"#999","width":180}]}')},a3c4:function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"序号","width":"80","prop":"index","show":true},{"label":"小区名称","prop":"villagename","show":true},{"label":"资源类别","prop":"name","show":true},{"label":"资源数量","prop":"resources_num","show":true,"color":"#ffcb3c"},{"label":"建筑面积 ","prop":"buildareas","show":true,"color":"#999"},{"label":"已交房","prop":"has_check","show":true,"color":"#999"},{"label":"未交房","prop":"no_check","show":true,"color":"#69da61"},{"label":"未装修","prop":"no_isdecorate","show":true,"color":"#999"},{"label":"装修中","prop":"in_isdecorate","show":true},{"label":"已装修","prop":"has_isdecorate","show":true,"color":"#999"}]}')},b48e:function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{id:"area-village-select","element-loading-text":"数据加载中，请稍等"}},[t("div",{staticClass:"select-content"},[t("div",{staticClass:"title"},[e._v(e._s(e.title))]),t("div",{staticClass:"select-item"},[t("div",{staticClass:"name"},[e._v("选择大区")]),t("el-select",{attrs:{clearable:"",placeholder:"请选择大区"},on:{change:e.areaChange},model:{value:e.areaValue,callback:function(t){e.areaValue=t},expression:"areaValue"}},e._l(e.areaOptions,(function(e){return t("el-option",{key:e.deptid,attrs:{label:e.deptname,value:e.deptid}})})),1)],1),t("div",{staticClass:"select-item"},[t("div",{staticClass:"name"},[e._v("选择项目")]),t("el-select",{attrs:{clearable:"",multiple:e.multiple,placeholder:"请选择项目","no-data-text":e.villageLoading?"加载中...":"无数据"},model:{value:e.villageValue,callback:function(t){e.villageValue=t},expression:"villageValue"}},e._l(e.villageOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("div",{staticClass:"btn-wp"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:e.registerStart}},[e._v(" "+e._s(e.btnName)+" ")])],1)])])},o=[],s={name:"AreaVillageSelect",props:{title:{type:String,default:""},btnName:{type:String,default:"开始登记"},multiple:{type:Boolean,default:!1}},data(){return{urlObj:{bigarea:this.$api.state.Public.bigarea.url,village:this.$api.state.Public.village.url},isRegister:!1,areaValue:"",areaOptions:[],villageLoading:!1,villageValue:this.multiple?[]:"",villageOptions:[],isLoading:!1}},created(){this.isLoading=!0,this.getAreaData()},methods:{getAreaData(){this.$axios.post(this.urlObj.bigarea,{vill_limit:!0}).then(e=>{if(200===e.Code){let t=sessionStorage.getItem("bid");t?(this.areaValue=Number(t),this.getVillageData(!0)):this.isLoading=!1,this.areaOptions=e.Data}else this.$message({type:"error",message:"大区数据获取失败！"}),this.isLoading=!1}).catch(e=>{this.$message({type:"error",message:"大区数据获取失败！"}),this.isLoading=!1})},areaChange(){this.villageOptions=[],this.villageValue=this.multiple?[]:"",this.areaValue&&this.getVillageData()},getVillageData(e){this.villageLoading=!0,this.$axios.post(this.urlObj.village,{id:this.areaValue}).then(t=>{if(200===t.Code){if(e){let e=sessionStorage.getItem("vid");e&&(this.villageValue=this.multiple?[Number(e)]:Number(e))}this.villageOptions=t.Data}else this.$message({type:"error",message:"项目数据获取失败！"});this.villageLoading=!1,this.isLoading=!1}).catch(e=>{this.$message({type:"error",message:"项目数据获取失败！"}),this.villageLoading=!1,this.isLoading=!1})},registerStart(){let e="",t=this.multiple?this.villageValue.length>0:this.villageValue;if(this.areaValue||t)if(this.areaValue){if(t){let e={aid:this.areaValue,vid:this.villageValue};return void this.$emit("registerPass",e)}e="请选择项目！"}else e="请选择大区！";else e="请选择大区和项目！";this.$message({type:"warning",message:e})}}},l=s,i=(a("40a5"),a("1805")),n=Object(i["a"])(l,r,o,!1,null,null,null);t["a"]=n.exports},c171:function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"序号","width":"80","prop":"index","show":true},{"label":"小区名称","prop":"villageName","show":true},{"label":"客户姓名","prop":"owner","show":true},{"label":"身份证号码","prop":"idcard","width":"170","show":true,"color":"#999"},{"label":"联系电话 ","prop":"tel","width":"120","show":true,"color":"#999"},{"label":"拥有房屋","prop":"rooms","show":true,"width":120},{"label":"使用关系","prop":"type","show":true,"color":"#69da61","width":120},{"label":"拥有车位","prop":"carports","show":true,"width":150},{"label":"月租车位","prop":"monthCar","show":true,"width":120},{"label":"月租车位数","prop":"monthNum","show":true,"color":"#69da61","width":120},{"label":"备注","prop":"remark","show":true,"color":"#999","width":180}]}')},c4e9:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"statement"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRegister,expression:"!isRegister"}],staticClass:"pre-selection"},[t("area-village-select",{attrs:{title:"选择查询条件",btnName:"开始查询",multiple:!0,"collapse-tags":!1},on:{registerPass:e.registerPass}})],1),e.isRegister?t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading||e.isExport,expression:"isLoading || isExport"}],staticClass:"main-wp",attrs:{"element-loading-text":e.isExport?"数据导出中...":"数据获取中..."}},[t("div",{staticClass:"op-wp"},[e.$menu.getters.judgeRole("Btn-09PybPlVOKiwTItZAPNfaNr1")?t("span",{class:["export",e.isExport||e.isLoading?"disable":""],on:{click:function(t){return e.getTableData(!0)}}},[t("workIcon",{staticClass:"common-right-icon",attrs:{name:"export",title:"导出"}})],1):e._e(),t("el-button",{staticClass:"empty",attrs:{icon:"el-icon-search",type:"primary",round:""},on:{click:function(t){e.isRegister=!1}}},[e._v(" 重新查询 ")])],1),t("el-tabs",{attrs:{stretch:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tableList,(function(a,r){return t("el-tab-pane",{key:r,attrs:{label:a.label,name:a.name}},[t("div",{staticClass:"filter-wp"},["third"==e.activeName||"seven"==e.activeName?t("el-select",{attrs:{clearable:"",placeholder:"请选择楼栋"},on:{change:e.buildChange},model:{value:e.buildVal,callback:function(t){e.buildVal=t},expression:"buildVal"}},e._l(e.buildOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.villagename+"-"+e.block,value:e.id}})})),1):e._e(),"seven"==e.activeName?t("el-select",{attrs:{clearable:"",placeholder:"请选择单元"},on:{change:function(t){return e.getTableData(!1)}},model:{value:e.unitVal,callback:function(t){e.unitVal=t},expression:"unitVal"}},e._l(e.unitOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.unit,value:e.id}})})),1):e._e(),"third"==e.activeName||"fourth"==e.activeName||"five"==e.activeName||"eight"==e.activeName?t("el-select",{attrs:{clearable:"",placeholder:"请选择资源类型"},on:{change:function(t){return e.getTableData(!1)}},model:{value:e.resourceVal,callback:function(t){e.resourceVal=t},expression:"resourceVal"}},e._l(e.resourceOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):e._e(),"fourth"==e.activeName||"five"==e.activeName||"eight"==e.activeName||"nine"==e.activeName?t("el-select",{attrs:{clearable:"",placeholder:"请选择状态"},on:{change:function(t){return e.getTableData(!1)}},model:{value:e.statusVal,callback:function(t){e.statusVal=t},expression:"statusVal"}},[t("el-option",{attrs:{label:"正常",value:1}}),t("el-option",{attrs:{label:"即将超期",value:2}}),t("el-option",{attrs:{label:"已超期",value:3}})],1):e._e(),"seven"==e.activeName?t("el-select",{attrs:{clearable:"",placeholder:"请选择使用关系"},on:{change:function(t){return e.getTableData(!1)}},model:{value:e.relationVal,callback:function(t){e.relationVal=t},expression:"relationVal"}},e._l(e.relationOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),"third"==e.activeName?t("el-date-picker",{attrs:{type:"daterange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始装修开始日期","end-placeholder":"开始装修结束日期"},on:{change:function(t){return e.getTableData(!1)}},model:{value:e.sdtime,callback:function(t){e.sdtime=t},expression:"sdtime"}}):e._e(),"third"==e.activeName?t("el-date-picker",{attrs:{type:"daterange","value-format":"timestamp","range-separator":"至","start-placeholder":"结束装修开始日期","end-placeholder":"结束装修结束日期"},on:{change:function(t){return e.getTableData(!1)}},model:{value:e.edtime,callback:function(t){e.edtime=t},expression:"edtime"}}):e._e(),"third"==e.activeName?t("el-date-picker",{attrs:{type:"daterange","value-format":"timestamp","range-separator":"至","start-placeholder":"进场开始日期","end-placeholder":"进场结束日期"},on:{change:function(t){return e.getTableData(!1)}},model:{value:e.enterTime,callback:function(t){e.enterTime=t},expression:"enterTime"}}):e._e(),"third"==e.activeName||"fourth"==e.activeName||"five"==e.activeName||"six"==e.activeName||"seven"==e.activeName||"nine"==e.activeName?t("el-input",{attrs:{placeholder:"输入关键字查询","prefix-icon":"el-icon-search"},on:{change:function(t){return e.getTableData(!1)}},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}):e._e()],1),t("cus-table",{class:[e.ispaging?"":"nopaging","first"==e.activeName||"second"==e.activeName?"":"search"],attrs:{datas:a.tableData,cusColums:a.columns,cusConf:e.conf,ispaging:e.ispaging},on:{sizeChange:e.sizeChange,currentChange:e.currentChange}})],1)})),1)],1):e._e()])},o=[],s=(a("5948"),a("4698")),l=a("23fd"),i=a("a3c4"),n=a("a152"),c=a("8e44"),u=a("834e"),h=a("c171"),p=a("0a2b"),m=a("94ce"),d=a("869e"),b=a("b48e"),g={name:"statement",components:{areaVillageSelect:b["a"],workIcon:s["a"]},data(){return{urlObj:{villageTable:this.$api.state.Means.villageTable.url,resourceTable:this.$api.state.Means.resourceTable.url,roomTable:this.$api.state.Means.roomTable.url,carportTable:this.$api.state.Means.carportTable.url,otherTable:this.$api.state.Means.otherTable.url,clientTable:this.$api.state.Means.clientTable.url,houseClientTable:this.$api.state.Means.houseClientTable.url,carnonmotorlist:this.$api.state.Means.carnonmotorlist.url,carinsidelist:this.$api.state.Means.carinsidelist.url,searchBuild:this.$api.state.Public.searchBuild.url,unitOfBuild:this.$api.state.Public.unitOfBuild.url,carType:this.$api.state.Means.carType.url,userType:this.$api.state.Means.userType.url},isRegister:!1,aid:"",vids:[],isLoading:!1,activeName:"first",conf:{},ispaging:!0,tableList:[],isExport:!1,buildVal:"",buildOptions:[],unitVal:"",unitOptions:[],resourceVal:"",resourceOptions:[],statusVal:"",statusOptions:[],relationVal:"",relationOptions:"",searchVal:"",sdtime:[],edtime:[],enterTime:[]}},watch:{activeName(){this.conf={loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},this.buildVal="",this.unitVal="",this.resourceVal="",this.statusVal="",this.relationVal="",this.searchVal="",this.sdtime=[],this.edtime=[],this.enterTime=[],this.getTableData(),"third"==this.activeName?this.getResources({type:"house"}):"fourth"==this.activeName?this.getResources({type:"carfixed"}):"five"==this.activeName?this.getResources({type:"carmonth"}):"eight"==this.activeName&&this.getResources({type:"car_nonmotor"})},isRegister(e){if(e){let e=document.getElementById("means");e.classList.add("register")}else{let e=document.getElementById("means");e.classList.remove("register")}}},methods:{init(){this.activeName="first",this.conf={loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},this.tableList=[{label:"小区对比表",name:"first",tableData:[],columns:l.list},{label:"资源类别表",name:"second",tableData:[],columns:i.list},{label:"房产明细表",name:"third",tableData:[],columns:n.list},{label:"车位明细表",name:"fourth",tableData:[],columns:c.list},{label:"月租车位明细表",name:"five",tableData:[],columns:u.list},{label:"客户明细表",name:"six",tableData:[],columns:h.list},{label:"房源客户明细表",name:"seven",tableData:[],columns:p.list},{label:"非机动车位明细表",name:"eight",tableData:[],columns:m.list},{label:"内部员工车辆报表",name:"nine",tableData:[],columns:d.list}]},registerPass(e){this.aid=e.aid,this.vids=e.vid,this.init(),this.isRegister=!0,this.getTableData(),this.getBuildList()},tableDataHandle(e,t){e.total?(this.ispaging=!0,this.conf.dataTotal=e.total):this.ispaging=!1;let a=[];switch(this.activeName){case"first":e.data.forEach((e,t)=>{e.index=(this.conf.curPage-1)*this.conf.limit+t+1}),a=e.data;break;case"second":e.forEach((e,t)=>{e.index=(this.conf.curPage-1)*this.conf.limit+t+1}),a=e;break;case"third":e.data.forEach((e,t)=>{let r={};r.id=e.id,r.index=(this.conf.curPage-1)*this.conf.limit+t+1,r.villageName=e.village?e.village.villagename:"--",r.resourceType=e.resourcestype?e.resourcestype.name:"",r.roomNum=e.roomnum,r.fitment=e.renovation&&e.renovation.length>0?e.renovation[0].startime:"",r.endtime=e.renovation&&e.renovation.length>0&&e.renovation[0].endtime?e.renovation[0].endtime:"",r.buildArea=e.buildareas,r.useArea=e.useareas,r.buildName=e.unit&&e.unit.building?e.unit.building.block:"--",r.owner="",r.ownerTel="",r.approach_time=e.renovation&&e.renovation.length>0&&e.renovation[0].approach_time_str?e.renovation[0].approach_time_str:"",r.fitmentStatus=0==e.isdecorate?"未装修":1==e.isdecorate?"已装修":"装修中",r.deliveryStatus=0==e.check?"未交房":"已交房",r.houseStatus=0==e.into_house?"未入住":"已入住",r.remark=e.remark,e.ownerrooms&&e.ownerrooms.length?e.ownerrooms.forEach(e=>{let t=e.owner&&e.owner.realname?e.owner.realname:"",a=e.owner&&e.owner.tel?e.owner.tel:"";r.owner=r.owner?r.owner+"、"+t:r.owner+t,r.ownerTel=r.ownerTel?r.ownerTel+"、"+a:r.ownerTel+a}):r.owner="--",a.push(r)});break;case"fourth":e.data.forEach((e,t)=>{let r=[];e.carmotor&&e.carmotor.length>0&&e.carmotor.forEach(e=>{r.push(e.plates)});let o={};o.id=e.id,o.index=(this.conf.curPage-1)*this.conf.limit+t+1,o.villageName=e.village.villagename,o.type="车位类型",o.stall=e.name?e.name:"--",o.plates=r.length>0?r.join("、"):"--",o.area=e.area,o.owner=e.owner?e.owner.realname:"--",o.car_tel=e.car_tel?e.car_tel:"--",o.resourceType=e.resourcestype?e.resourcestype.name:"--",o.use_date=e.use_date?e.use_date:"--",o.statusColor="danger"==e.use_date_type?"#f56c6c":"warning"==e.use_date_type?"#ffcb3c":"#333",o.status_text="danger"==e.use_date_type?"已超期":"warning"==e.use_date_type?"即将超期":"normal"==e.use_date_type?"正常":"无",a.push(o)});break;case"five":e.data.forEach((e,t)=>{let r={};r.id=e.id,r.index=(this.conf.curPage-1)*this.conf.limit+t+1,r.villageName=e.village.villagename,r.resourcestype=e.resourcestype.name,r.owner=e.owner?e.owner.realname:"--",r.resourceType=e.resourcestype.name,r.plates=e.carmotor.map(e=>e.plates).join("、"),r.use_date=e.use_date?e.use_date:"--",r.car_tel=e.car_tel?e.car_tel:"--",r.remark=e.remark?e.remark:"--",r.statusColor="danger"==e.use_date_type?"#f56c6c":"warning"==e.use_date_type?"#ffcb3c":"stop"==e.use_date_type?"#909399":"#333",r.status_text="danger"==e.use_date_type?"已超期":"warning"==e.use_date_type?"即将超期":"stop"==e.use_date_type?"停用":"normal"==e.use_date_type?"正常":"无",a.push(r)});break;case"six":e.data.forEach((e,t)=>{let r={};if(r.id=e.id,r.index=(this.conf.curPage-1)*this.conf.limit+t+1,r.villageName=e.village.villagename,r.owner=e.realname,r.idcard=e.idcard,r.tel=e.tel,r.rooms="",r.type="",r.carports="",r.monthCar="--",r.monthNum=0,r.remark=e.remark,e.owner_rooms&&e.owner_rooms.length>0?e.owner_rooms.forEach(e=>{r.rooms=r.rooms?r.rooms+"/"+e.rooms.roomnum:r.rooms+e.rooms.roomnum,r.type=r.type?r.type+"/"+e.type.name:r.type+e.type.name}):r.rooms="--",e.car&&e.car.length>0?e.car.forEach(e=>{r.carports=r.carports?r.carports+"/"+e.sort:r.carports+e.sort}):r.carports="--",e.carmonth&&e.carmonth.length>0){let t=[];e.carmonth.forEach(e=>{e.carmotor&&e.carmotor.length>0&&e.carmotor.forEach(e=>{t.push(e.plates)})}),r.monthCar=t.length>0?t.join("/"):"--",r.monthNum=e.carmonth.length}a.push(r)});break;case"seven":e.data.forEach((e,t)=>{e.index=(this.conf.curPage-1)*this.conf.limit+t+1}),a=e.data;break;case"eight":e.data.forEach((e,t)=>{e.index=(this.conf.curPage-1)*this.conf.limit+t+1,e.villageName=e.village.villagename,e.resourcestype=e.resourcestype.name,e.owner=e.owner.realname}),a=e.data;break;case"nine":e.data.forEach((e,t)=>{let a=[];e.carmotor&&e.carmotor.length>0&&e.carmotor.forEach(e=>{a.push(e.plates)}),e.index=(this.conf.curPage-1)*this.conf.limit+t+1,e.villageName=e.village.villagename,e.plates=a.length>0?a.join("、"):"--"}),a=e.data;break}this.tableList[t].tableData=a},getTableData(e){e?this.isExport=!0:this.isLoading=!0;let t="",a=0,r={page:this.conf.curPage,limit:this.conf.limit,vids:this.vids};switch(this.activeName){case"first":t=this.urlObj.villageTable,a=0;break;case"second":t=this.urlObj.resourceTable,a=1;break;case"third":r.bid=this.buildVal,r.resources_type_id=this.resourceVal,r.keywords=this.searchVal,this.sdtime&&this.sdtime.length>0&&(r.renovation_starttime_start=this.sdtime[0]/1e3,r.renovation_starttime_end=this.sdtime[1]/1e3),this.edtime&&this.edtime.length>0&&(r.renovation_endtime_start=this.edtime[0]/1e3,r.renovation_endtime_end=this.edtime[1]/1e3),this.enterTime&&this.enterTime.length>0&&(r.renovation_approach_time_start=this.enterTime[0]/1e3,r.renovation_approach_time_end=this.enterTime[1]/1e3),t=this.urlObj.roomTable,a=2;break;case"fourth":r.status=this.statusVal,r.resources_type_id=this.resourceVal,r.keywords=this.searchVal,t=this.urlObj.carportTable,a=3;break;case"five":r.status=this.statusVal,r.resources_type_id=this.resourceVal,r.keywords=this.searchVal,t=this.urlObj.otherTable,a=4;break;case"six":r.keywords=this.searchVal,t=this.urlObj.clientTable,a=5;break;case"seven":r.bid=this.buildVal,r.unit=this.unitVal,r.type_id=this.relationVal,r.keywords=this.searchVal,t=this.urlObj.houseClientTable,a=6,this.getUserType();break;case"eight":r.status=this.statusVal,r.resources_type_id=this.resourceVal,t=this.urlObj.carnonmotorlist,a=7;break;case"nine":r.status=this.statusVal,r.keywords=this.searchVal,t=this.urlObj.carinsidelist,a=8;break}e&&(r.is_excel=1),this.$axios.post(t,r).then(t=>{if(200===t.Code)e?this.exportExcel(t.Data):this.tableDataHandle(t.Data,a);else{let e=t.Message?t.Message:"表格数据获取失败！";this.$message({type:"error",message:e})}this.isLoading=!1,this.isExport=!1}).catch(t=>{e&&this.$message({type:"error",message:"报表导出失败！"}),this.isLoading=!1,this.isExport=!1})},sizeChange(e){this.conf.limit=e,this.getTableData()},currentChange(e){this.conf.curPage=e,this.getTableData()},exportExcel(e){let t="",r=[],o=[];switch(this.activeName){case"first":t="小区对比表",r=["序号","小区名称","占地面积","建筑面积","使用面积","未售","已售","已交房","未交房","交房率","已装修","装修中","未装修","固定车位","启用","月租车位","备注"],e.forEach((e,t)=>{let a=[(this.conf.curPage-1)*this.conf.limit+t+1,e.villagename,e.allacreage,e.buildacreage,e.useacreage,e.vacancy_num,e.no_vacancy_num,e.check_num,e.no_check_num,e.deliver_rate,e.has_isdecorate_num,e.in_isdecorate_num,e.no_isdecorate_num,e.car_num,e.car_bind_num,e.carmonth_num,e.remarks];o.push(a)});break;case"second":t="资源类别表",r=["序号","小区名称","资源类别","资源数量","建筑面积","已交房","未交房","未装修","装修中","已装修"],e.forEach((e,t)=>{let a=[(this.conf.curPage-1)*this.conf.limit+t+1,e.villagename,e.name,e.resources_num,e.buildareas,e.has_check,e.no_check,e.no_isdecorate,e.in_isdecorate,e.has_isdecorate];o.push(a)});break;case"third":t="房产明细表",r=["序号","小区名称","资源类别","房号","装修开始时间","装修结束时间","建筑面积","使用面积","楼栋名称","业主姓名","联系电话","入场时间","装修状态","交房状态","备注"],e.forEach((e,t)=>{e.owner="",e.ownerTel="",e.ownerrooms&&e.ownerrooms.length?e.ownerrooms.forEach(t=>{e.owner=e.owner?e.owner+"、"+t.owner.realname:e.owner+t.owner.realname,e.ownerTel=e.ownerTel?e.ownerTel+"、"+t.owner.tel:e.ownerTel+t.owner.tel}):e.owner="--";let a=[(this.conf.curPage-1)*this.conf.limit+t+1,e.village?e.village.villagename:"",e.resourcestype?e.resourcestype.name:"",e.roomnum,e.renovation&&e.renovation.length>0?e.renovation[0].startime:"",e.renovation&&e.renovation.length>0&&e.renovation[0].endtime?e.renovation[0].endtime:"",e.buildareas,e.useareas,e.unit?e.unit.building.block:"",e.owner,e.ownerTel,e.renovation&&e.renovation.length>0&&e.renovation[0].approach_time_str?e.renovation[0].approach_time_str:"",0==e.isdecorate?"未装修":1==e.isdecorate?"已装修":"装修中",0==e.check?"未交房":"已交房",e.remark];o.push(a)});break;case"fourth":t="车位明细表",r=["序号","小区名称","资源类别","车位id","车位编号","车牌号","面积","业主姓名","联系电话","车位类别","周期","状态"],e.forEach((e,t)=>{let a=[];e.carmotor&&e.carmotor.length>0&&e.carmotor.forEach(e=>{a.push(e.plates)});let r=[(this.conf.curPage-1)*this.conf.limit+t+1,e.village.villagename,"车位类型",e.id,e.name?e.name:"--",a.length>0?a.join("、"):"--",e.area,e.owner?e.owner.realname:"--",e.car_tel?e.car_tel:"--",e.resourcestype?e.resourcestype.name:"--",e.use_date?e.use_date:"--","danger"==e.use_date_type?"已超期":"warning"==e.use_date_type?"即将超期":"normal"==e.use_date_type?"正常":"无"];o.push(r)});break;case"five":t="月租车位明细表",r=["序号","小区名称","资源名称","车牌号","所属人","联系电话","备注","周期","状态"],e.forEach((e,t)=>{let a=[(this.conf.curPage-1)*this.conf.limit+t+1,e.village.villagename,e.resourcestype.name,e.carmotor.map(e=>e.plates).join("、"),e.owner?e.owner.realname:"--",e.car_tel?e.car_tel:"--",e.remark?e.remark:"--",e.use_date?e.use_date:"--","danger"==e.use_date_type?"已超期":"warning"==e.use_date_type?"即将超期":"stop"==e.use_date_type?"停用":"normal"==e.use_date_type?"正常":"无"];o.push(a)});break;case"six":t="客户明细表",r=["序号","小区名称","客户姓名","客户id","省份证号码","联系电话","拥有房屋","使用关系","拥有车位","月租车位","月租车位数","备注"],e.forEach((e,t)=>{if(e.rooms="",e.type="",e.carports="",e.rooms="",e.owner_rooms&&e.owner_rooms.length>0?e.owner_rooms.forEach(t=>{e.rooms=e.rooms?e.rooms+"/"+t.rooms.roomnum:e.rooms+t.rooms.roomnum,e.type=e.type?e.type+"/"+t.type.name:e.type+t.type.name}):e.rooms="--",e.car&&e.car.length>0?e.car.forEach(t=>{e.carports=e.carports?e.carports+"/"+t.sort:e.carports+t.sort}):e.carports="--",e.carmonth&&e.carmonth.length>0){let t=[];e.carmonth.forEach(e=>{e.carmotor&&e.carmotor.length>0&&e.carmotor.forEach(e=>{t.push(e.plates)})}),e.monthCar=t.length>0?t.join("/"):"--",e.monthNum=e.carmonth.length}let a=[(this.conf.curPage-1)*this.conf.limit+t+1,e.village.villagename,e.realname,e.id,e.idcard,e.tel,e.rooms,e.type,e.carports,e.monthCar,e.monthNum,e.remark];o.push(a)});break;case"seven":t="房源客户明细表",r=["序号","小区名称","楼栋名称","房屋全称","建筑面积","业主姓名、电话","使用关系"],e.forEach((e,t)=>{let a=[(this.conf.curPage-1)*this.conf.limit+t+1,e.villagename,e.building,e.roomnum,e.buildareas,e.username,e.type];o.push(a)});break;case"eight":t="非机动车位明细表",r=["序号","小区名称","资源名称","车辆类型","所属人"],e.forEach((e,t)=>{let a=[(this.conf.curPage-1)*this.conf.limit+t+1,e.village.villagename,e.resourcestype.name,e.type_name,e.owner?e.owner.realname:"--"];o.push(a)});break;case"nine":t="内部员工车辆报表",r=["序号","小区名称","员工姓名","联系电话","车牌号","使用周期"],e.forEach((e,t)=>{let a=[];e.carmotor&&e.carmotor.length>0&&e.carmotor.forEach(e=>{a.push(e.plates)});let r=[(this.conf.curPage-1)*this.conf.limit+t+1,e.village.villagename,e.non_owner_name,e.non_owner_tel,a.length>0?a.join("、"):"--",e.use_date];o.push(r)});break}try{Promise.all([a.e("chunk-3a869cfb"),a.e("chunk-2a5081b0"),a.e("chunk-3a96421c")]).then((()=>{let{export_json_to_excel:e}=a("628d");e(r,o,t)}).bind(null,a)).catch(a.oe),this.$notify({type:"success",title:"温馨提示",message:"导出报表成功",duration:1500})}catch(s){this.$notify({type:"error",title:"温馨提示",message:"导出报表失败",duration:1500})}},getBuildList(){let e={vids:this.vids};this.$axios.post(this.urlObj.searchBuild,e).then(e=>{if(200===e.Code)this.buildOptions=e.Data?e.Data:[];else{let t=e.Message?e.Message:"获取楼栋数据失败！";this.$message({message:t,type:"error"})}}).catch(()=>{})},getUnitList(){let e={bid:this.buildVal};this.$axios.post(this.urlObj.unitOfBuild,e).then(e=>{if(200===e.Code)this.unitOptions=e.Data?e.Data:[];else{let t=e.Message?e.Message:"获取单元数据失败！";this.$message({message:t,type:"error"})}}).catch(()=>{})},buildChange(e){"seven"==this.activeName&&(this.unitVal="",this.unitOptions=[],e&&this.getUnitList()),this.getTableData()},getResources(e){this.$axios.post(this.urlObj.carType,e).then(e=>{if(200===e.Code)this.resourceOptions=e.Data?e.Data:[];else{let t=e.Message?e.Message:"资源数据获取失败！";this.$message({type:"error",message:t})}}).catch(()=>{})},getUserType(){this.$axios.post(this.urlObj.userType).then(e=>{if(200===e.Code)this.relationOptions=e.Data;else{let t=e.Message?e.Message:"使用关系数据获取失败！";this.$message({type:"error",message:t})}}).catch(()=>{})}}},w=g,v=(a("203a"),a("1805")),_=Object(v["a"])(w,r,o,!1,null,null,null);t["default"]=_.exports},e90e:function(e,t,a){}}]);