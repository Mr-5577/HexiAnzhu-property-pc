(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26f8f1db"],{"0e97":function(a,t,e){"use strict";e("ddc8")},"4da2":function(a){a.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"通告标题","prop":"name","show":true},{"label":"模板名称","prop":"bigareaname","show":true,"color":"#999"},{"label":"创建人","prop":"cname","show":true,"color":"#999"},{"label":"创建时间","prop":"create_time","show":true,"color":"#999"},{"label":"是否置顶","prop":"is_top","type":"checkbox","action":"totop","role":"totop","show":true,"token":"Btn-OCZ4pAtPpbet3GI4Cp4rcnga"},{"label":"是否开启","prop":"is_show","type":"checkbox","action":"open","role":"open","show":true,"token":"Btn-OCZ4pAtPpbet3GI4Cp4rcnga"},{"label":"操作","prop":"","width":200,"type":"button","show":true,"btns":[{"name":"编辑","type":"primary","size":"small","round":true,"action":"edit","role":"edit","token":"Btn-yLHizr3FGlCwcTcHDRr6toBf"},{"name":"删除","type":"danger","size":"small","round":true,"action":"delInvoice","role":"delInvoice","token":"Btn-VrSczfheKWLqyxuBFeno16kB"}]}]}')},c9a3:function(a,t,e){"use strict";e.r(t);var l=function(){var a=this,t=a._self._c;a._self._setupProxy;return t("div",{attrs:{id:"active-manage"}},[t("div",{staticClass:"top"},[t("div",{staticClass:"main"},[t("div",{staticClass:"common-left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.searchVal,expression:"searchVal"}],staticClass:"common-input",attrs:{type:"text",placeholder:"请输入票据单号"},domProps:{value:a.searchVal},on:{input:function(t){t.target.composing||(a.searchVal=t.target.value)}}}),t("el-button",{staticClass:"common-button",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return a.keySearch(!0)}}},[a._v(" 查询 ")])],1),t("div",{staticClass:"common-right"},[t("el-button",{attrs:{type:"primary",round:"",plain:"",icon:"el-icon-search"},on:{click:function(t){return a.dialogInit("entering")}}},[a._v(" 录入发票 ")])],1)])]),t("div",{staticClass:"main-wp"},[t("div",{staticClass:"select-wp"},[t("el-select",{attrs:{clearable:"",placeholder:"请选择发票状态"},model:{value:a.statusVal,callback:function(t){a.statusVal=t},expression:"statusVal"}},a._l(a.statusOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1),t("el-select",{attrs:{clearable:"",placeholder:"请选择发票面值"},model:{value:a.faceVal,callback:function(t){a.faceVal=t},expression:"faceVal"}},a._l(a.faceOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1),t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:a.dateVal,callback:function(t){a.dateVal=t},expression:"dateVal"}})],1),t("div",{staticClass:"table-wp"},[t("cus-table",{attrs:{datas:a.tableData,cusColums:a.columns,cusConf:a.conf,ispaging:!0},on:{sizeChange:a.sizeChange,currentChange:a.currentChange,send:a.invoiceSend}}),t("div",{staticClass:"btn-wp"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return a.dialogInit("custom")}}},[a._v(" 自定义发放 ")]),t("el-button",{staticClass:"empty",attrs:{type:"primary",round:""},on:{click:function(t){return a.dialogInit("grant")}}},[a._v(" 发放已选(20)本 ")])],1)],1)]),t("el-dialog",{class:["entering"==a.type?"entering":"custom"==a.type?"custom":""],attrs:{visible:a.showDialog,title:a.dialogTitle,width:"36%","close-on-click-modal":!1},on:{"update:visible":function(t){a.showDialog=t}}},["entering"==a.type?t("div",{staticClass:"entering-wp"},[t("div",{staticClass:"input-wp"},[t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("发票代码")]),t("el-input",{attrs:{placeholder:"请输入发票代码"},model:{value:a.dialogData.invoiceCode,callback:function(t){a.$set(a.dialogData,"invoiceCode",t)},expression:"dialogData.invoiceCode"}})],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("发票面值")]),t("el-select",{attrs:{clearable:"",placeholder:"请选择发票面值"},model:{value:a.dialogData.faceValue,callback:function(t){a.$set(a.dialogData,"faceValue",t)},expression:"dialogData.faceValue"}},a._l(a.dialogData.faceOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("首张单号")]),t("el-input",{attrs:{placeholder:"请输入发票代码"},model:{value:a.dialogData.firstBill,callback:function(t){a.$set(a.dialogData,"firstBill",t)},expression:"dialogData.firstBill"}})],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("末张单号")]),t("el-input",{attrs:{placeholder:"请输入发票代码"},model:{value:a.dialogData.lastBill,callback:function(t){a.$set(a.dialogData,"lastBill",t)},expression:"dialogData.lastBill"}})],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("本数")]),t("el-input",{attrs:{placeholder:"请输入发票代码"},model:{value:a.dialogData.sheetNum,callback:function(t){a.$set(a.dialogData,"sheetNum",t)},expression:"dialogData.sheetNum"}})],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("发放大区")]),t("el-select",{attrs:{clearable:"",placeholder:"请选择发放大区"},model:{value:a.dialogData.area,callback:function(t){a.$set(a.dialogData,"area",t)},expression:"dialogData.area"}},a._l(a.dialogData.areaOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)])]):"custom"==a.type?t("div",{staticClass:"grant-custom"},[t("div",{staticClass:"input-wp"},[t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("发票代码")]),t("el-input",{attrs:{placeholder:"请输入发票代码"},model:{value:a.dialogData.invoiceCode,callback:function(t){a.$set(a.dialogData,"invoiceCode",t)},expression:"dialogData.invoiceCode"}})],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("发票面值")]),t("el-select",{attrs:{clearable:"",placeholder:"请选择发票面值"},model:{value:a.dialogData.faceValue,callback:function(t){a.$set(a.dialogData,"faceValue",t)},expression:"dialogData.faceValue"}},a._l(a.dialogData.faceOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("首张单号")]),t("el-input",{attrs:{placeholder:"请输入发票代码"},model:{value:a.dialogData.firstBill,callback:function(t){a.$set(a.dialogData,"firstBill",t)},expression:"dialogData.firstBill"}})],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("末张单号")]),t("el-input",{attrs:{placeholder:"请输入发票代码"},model:{value:a.dialogData.lastBill,callback:function(t){a.$set(a.dialogData,"lastBill",t)},expression:"dialogData.lastBill"}})],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("发放大区")]),t("el-select",{attrs:{clearable:"",placeholder:"请选择发放项目"},model:{value:a.dialogData.village,callback:function(t){a.$set(a.dialogData,"village",t)},expression:"dialogData.village"}},a._l(a.dialogData.villageOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("发放人员")]),t("el-select",{attrs:{clearable:"",placeholder:"请选择发放大区"},model:{value:a.dialogData.grantUser,callback:function(t){a.$set(a.dialogData,"grantUser",t)},expression:"dialogData.grantUser"}},a._l(a.dialogData.userOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)]),t("div",{staticClass:"sheet"},[a._v(" 总计本数: "),t("span",[a._v(a._s(a.dialogData.sheetNum))])]),t("div",{staticClass:"total"},[a._v(" 总计数量: "),t("span",[a._v(a._s(a.dialogData.total))])])]):t("div",{staticClass:"grant-wp"},[t("div",{staticClass:"input-wp"},[t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("发放项目")]),t("el-select",{attrs:{clearable:"",placeholder:"请选择发票面值"},model:{value:a.dialogData.village,callback:function(t){a.$set(a.dialogData,"village",t)},expression:"dialogData.village"}},a._l(a.dialogData.villageOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1),t("div",{staticClass:"input-item"},[t("div",{staticClass:"name"},[a._v("发放人员")]),t("el-select",{attrs:{clearable:"",placeholder:"请选择发放大区"},model:{value:a.dialogData.grantUser,callback:function(t){a.$set(a.dialogData,"grantUser",t)},expression:"dialogData.grantUser"}},a._l(a.dialogData.userOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)])]),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{loading:a.isCommit,type:"primary",round:""},on:{click:a.confirm}},[a._v(" 提交保存 ")]),t("el-button",{attrs:{loading:a.isCommit,type:"info",round:""},on:{click:function(t){a.showDialog=!1}}},[a._v(" 取消 ")])],1)])],1)},i=[],s=(e("5948"),e("4da2")),o={name:"activeManage",data(){return{urlObj:{villages:this.$api.state.System.village.list.url},searchVal:"",tableData:[],columns:s.list,conf:{loadStatus:!1,emptyText:"",curPage:1,limit:10,dataTotal:0},statusVal:"",statusOptions:[],faceVal:"",faceOptions:[],dateVal:"",type:"",showDialog:!1,dialogTitle:"",dialogData:{faceValue:"",faceOptions:[],invoiceCode:"",firstBill:"",lastBill:"",village:"",villageOptions:[],grantUser:"",userOptions:[],sheetNum:120,total:240,area:"",areaOptions:[]},isCommit:!1}},mounted(){this.tableLoad()},methods:{tableLoad(a=!1){!0===a&&this.$set(this.conf,"curPage",1),this.conf.loadStatus=!0;let t={page:this.conf.curPage,limit:this.conf.limit,token:this.$api.state.System.village.list.token,keywords:this.searchVal};this.$axios.post(this.urlObj.villages,t).then(a=>{200===a.Code?(this.conf.dataTotal=a.Data.total,this.tableData=a.Data.datas,this.conf.loadStatus=!1,this.conf.emptyText=""):204===a.Code?(this.$message({message:a.Message,type:"error"}),this.$router.push({path:this.$common.state.loginPath})):(this.datas=[],this.conf.emptyText=a.Message,this.conf.dataTotal=0,this.conf.loadStatus=!1)}).catch(()=>{this.datas=[],this.conf.emptyText="服务器连接失败...",this.conf.dataTotal=0,this.conf.loadStatus=!1})},keySearch(){this.choseVillageInfo.name="全部项目",this.choseVillageInfo.vid=0,this.tableLoad(!0)},sizeChange(a){this.conf.limit=a,this.tableLoad()},currentChange(a){this.conf.curPage=a,this.tableLoad()},invoiceSend(){this.dialogInit("grant")},dialogInit(a){switch(this.type=a,a){case"entering":this.dialogTitle="录入发票";break;case"custom":this.dialogTitle="自定义发放";break;case"grant":this.dialogTitle="发票发放";break}this.showDialog=!0},confirm(){}}},n=o,c=(e("0e97"),e("1805")),r=Object(c["a"])(n,l,i,!1,null,null,null);t["default"]=r.exports},ddc8:function(a,t,e){}}]);