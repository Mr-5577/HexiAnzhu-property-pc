(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1992c6fc"],{"14e7":function(e,t,s){},"16ad":function(e,t,s){},"2da6":function(e,t,s){"use strict";var a=s("4db2"),i=s("1220"),r=s("d99f"),l=function(e){return i.slice(0,e.length)===e};e.exports=function(){return l("Bun/")?"BUN":l("Cloudflare-Workers")?"CLOUDFLARE":l("Deno/")?"DENO":l("Node.js/")?"NODE":a.Bun&&"string"==typeof Bun.version?"BUN":a.Deno&&"object"==typeof Deno.version?"DENO":"process"===r(a.process)?"NODE":a.window&&a.document?"BROWSER":"REST"}()},"2e96":function(e,t,s){},"30a9":function(e,t,s){"use strict";s("14e7")},"4e85":function(e,t,s){"use strict";s("c252")},"95f1":function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"tables"}},[t("el-button",{attrs:{type:"primary empty",disabled:e.tableArrys[this.currentIndex?this.currentIndex:0].isLoading},on:{click:function(t){return e.queryStart(1)}}},[e._v(" 再次查询 ")]),t("el-button",{attrs:{type:"primary empty",disabled:e.tableArrys[this.currentIndex?this.currentIndex:0].isLoading},on:{click:e.filterAgain}},[e._v(" 重新查询条件 ")]),t("div",{staticClass:"filter-wp"},[t("div",{staticClass:"content"},[e._v(" 条件: "+e._s(e.conditions.village.join("、")+(e.conditions.subject.length>0?";"+e.conditions.subject.join("、"):"")+(e.conditions.stime?";"+e.conditions.stime:"")+(e.conditions.etime?";"+e.conditions.etime:""))+" ")]),t("span",{staticClass:"btn",on:{click:function(t){e.showCondition=!e.showCondition}}},[e._v(" "+e._s(e.showCondition?"点击收起":"点击展开")+" ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showCondition,expression:"showCondition"}],staticClass:"condition"},[t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("查询项目")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.village.join("、")))])]),"reportstatistics"==e.tableType||"receivablestatistics"==e.tableType||"arrearsstatistics"==e.tableType||"advancecollectstatistics"==e.tableType||"arrearsanalysisstatistics"==e.tableType||"arrearsrecoverstatistics"==e.tableType||"arrearsdurationstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("查询楼栋")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.build.join("、")))])]):e._e(),"reportstatistics"==e.tableType||"receivablestatistics"==e.tableType||"arrearsstatistics"==e.tableType||"advancecollectstatistics"==e.tableType||"arrearsanalysisstatistics"==e.tableType||"arrearsrecoverstatistics"==e.tableType||"arrearsdurationstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("查询单元")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.unit.join("、")))])]):e._e(),"reportstatistics"==e.tableType||"receivablestatistics"==e.tableType||"arrearsstatistics"==e.tableType||"advancecollectstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("查询房号")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.room.join("、")))])]):e._e(),"reportstatistics"==e.tableType||"receivablestatistics"==e.tableType||"arrearsstatistics"==e.tableType||"refundstatistics"==e.tableType||"financemonthstatistics"==e.tableType||"combinationstatistics"==e.tableType||"wegcoststatistics"==e.tableType||"sharestatistics"==e.tableType||"taxescomputestatistics"==e.tableType||"depositstatistics"==e.tableType||"arrearsanalysisstatistics"==e.tableType||"arrearsrecoverstatistics"==e.tableType||"arrearsdurationstatistics"==e.tableType||"housekeepercostcountstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("查询科目")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.subject.join("、")))])]):e._e(),"advancecollectstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("预收科目")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.subject.join("、")))])]):e._e(),"reportstatistics"==e.tableType||"financemonthstatistics"==e.tableType||"combinationstatistics"==e.tableType||"budgetstatistics"==e.tableType||"advancecollectstatistics"==e.tableType||"sharestatistics"==e.tableType||"carrecordstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("收费方式")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.payment.join("、")))])]):e._e(),"reportstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("开具发票")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.invoice.join("、")))])]):e._e(),"combinationstatistics"==e.tableType||"housekeepercostcountstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("交房状态")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.check))])]):e._e(),"combinationstatistics"==e.tableType||"housekeepercostcountstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("查询模式")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.pattern))])]):e._e(),"budgetstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("年限范围")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.year))])]):e._e(),"arrearsanalysisstatistics"==e.tableType||"arrearsrecoverstatistics"==e.tableType||"arrearsdurationstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("分析年份数量")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.yearNum))])]):e._e(),"receivablestatistics"==e.tableType||"arrearsstatistics"==e.tableType||"combinationstatistics"==e.tableType||"wegcoststatistics"==e.tableType||"housekeepercostcountstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("应收开始时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.stime))])]):e._e(),"receivablestatistics"==e.tableType||"arrearsstatistics"==e.tableType||"combinationstatistics"==e.tableType||"wegcoststatistics"==e.tableType||"housekeepercostcountstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("应收结束时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.etime))])]):e._e(),"reportstatistics"==e.tableType||"cashaccountstatistics"==e.tableType||"combinationstatistics"==e.tableType||"housekeepercostcountstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("实收开始时间")]),t("div",{staticClass:"value"},[e._v(" "+e._s("combinationstatistics"==e.tableType||"housekeepercostcountstatistics"==e.tableType?e.conditions.sstime:e.conditions.stime)+" ")])]):e._e(),"reportstatistics"==e.tableType||"cashaccountstatistics"==e.tableType||"combinationstatistics"==e.tableType||"housekeepercostcountstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("实收结束时间")]),t("div",{staticClass:"value"},[e._v(" "+e._s("combinationstatistics"==e.tableType||"housekeepercostcountstatistics"==e.tableType?e.conditions.setime:e.conditions.etime)+" ")])]):e._e(),"arrearsstatistics"==e.tableType||"budgetstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("实收截止时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.endTime))])]):e._e(),"advancecollectstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("预收开始时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.stime))])]):e._e(),"advancecollectstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("预收结束时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.etime))])]):e._e(),"advancecollectstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("预收截止时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.endTime))])]):e._e(),"refundstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("退款开始时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.stime))])]):e._e(),"refundstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("退款结束时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.etime))])]):e._e(),"financemonthstatistics"==e.tableType||"taxescomputestatistics"==e.tableType||"arrearsanalysisstatistics"==e.tableType||"arrearsrecoverstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("开始时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.stime))])]):e._e(),"financemonthstatistics"==e.tableType||"taxescomputestatistics"==e.tableType||"arrearsanalysisstatistics"==e.tableType||"arrearsrecoverstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("结束时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.etime))])]):e._e(),"arrearsrecoverstatistics"==e.tableType||"arrearsdurationstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("收款开始时间")]),t("div",{staticClass:"value"},[e._v(" "+e._s("arrearsrecoverstatistics"==e.tableType?e.conditions.sstime:e.conditions.stime)+" ")])]):e._e(),"arrearsrecoverstatistics"==e.tableType||"arrearsdurationstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("收款结束时间")]),t("div",{staticClass:"value"},[e._v(" "+e._s("arrearsrecoverstatistics"==e.tableType?e.conditions.setime:e.conditions.etime)+" ")])]):e._e(),"arrearsanalysisstatistics"==e.tableType||"arrearsrecoverstatistics"==e.tableType||"arrearsdurationstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("截止时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.endTime))])]):e._e(),"sharestatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("月份开始时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.stime))])]):e._e(),"sharestatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("月份结束时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.etime))])]):e._e(),"carrecordstatistics"==e.tableType||"depositstatistics"==e.tableType||"advancedepositstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("缴费开始时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.stime))])]):e._e(),"carrecordstatistics"==e.tableType||"depositstatistics"==e.tableType||"advancedepositstatistics"==e.tableType?t("div",{staticClass:"condition-item"},[t("div",{staticClass:"name"},[e._v("缴费结束时间")]),t("div",{staticClass:"value"},[e._v(e._s(e.conditions.etime))])]):e._e()])]),t("span",{staticClass:"export",on:{click:e.exportExcel}},[t("workIcon",{staticClass:"common-right-icon",attrs:{name:"export",title:"导出"}})],1),t("el-tabs",{class:[2==e.tableArrys.length?"two":3==e.tableArrys.length?"three":4==e.tableArrys.length?"four":""],attrs:{stretch:"",type:"border-card"},on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tableArrys,(function(s,a){return t("el-tab-pane",{key:a,attrs:{label:s.label,name:s.name}},["financemonthstatistics"===e.tableType?t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"item.isLoading"}],ref:"financeTable",refInFor:!0,staticClass:"finance",attrs:{data:s.tableData,stripe:"","element-loading-text":"数据获取中...",height:"100%","cell-class-name":e.cellClassName},on:{"cell-click":e.cellClick}},[t("el-table-column",{attrs:{prop:"village",label:"项目","min-width":"150"}}),t("el-table-column",{attrs:{prop:"name",label:"科目名称","min-width":"150"}}),t("el-table-column",{attrs:{label:"期初余额"}},[t("el-table-column",{attrs:{prop:"wnqf",label:"往年欠费","min-width":"120"}}),t("el-table-column",{attrs:{prop:"wyqf",label:"往月欠费","min-width":"120"}}),t("el-table-column",{attrs:{prop:"wyys",label:"往月预收","min-width":"120"}})],1),t("el-table-column",{attrs:{label:"本月应收"}},[t("el-table-column",{attrs:{prop:"jzwn",label:"结转往年","min-width":"120"}}),t("el-table-column",{attrs:{prop:"jzwy",label:"结转往月","min-width":"120"}}),t("el-table-column",{attrs:{prop:"byxz",label:"本月新增","min-width":"120"}}),t("el-table-column",{attrs:{prop:"yszj",label:"应收总计","min-width":"120"}})],1),t("el-table-column",{attrs:{label:"本月实收"}},[t("el-table-column",{attrs:{prop:"sswn",label:"实收往年","min-width":"120"}}),t("el-table-column",{attrs:{prop:"sswy",label:"实收往月","min-width":"120"}}),t("el-table-column",{attrs:{prop:"ssby",label:"实收本月","min-width":"120"}}),t("el-table-column",{attrs:{prop:"byys",label:"本月预收","min-width":"120"}}),t("el-table-column",{attrs:{prop:"sszj",label:"实收总计","min-width":"120"}})],1),t("el-table-column",{attrs:{label:"期末余额","min-width":"420"}},[t("el-table-column",{attrs:{prop:"qm_wnqf",label:"往年欠费","min-width":"120"}}),t("el-table-column",{attrs:{prop:"qm_wyqf",label:"往月欠费","min-width":"120"}}),t("el-table-column",{attrs:{prop:"qm_byqf",label:"本月欠费","min-width":"120"}}),t("el-table-column",{attrs:{prop:"qm_byzys",label:"本月止预收","min-width":"120"}}),t("el-table-column",{attrs:{prop:"qm_byft",label:"本月分摊","min-width":"120"}})],1),t("el-table-column",{attrs:{label:"收缴率"}},[t("el-table-column",{attrs:{prop:"slsl",label:"收历史率","min-width":"120"}}),t("el-table-column",{attrs:{prop:"sbyl",label:"收本月率","min-width":"120"}})],1),t("el-table-column",{attrs:{label:"优惠统计"}},[t("el-table-column",{attrs:{prop:"byyh",label:"本月优惠","min-width":"120"}}),t("el-table-column",{attrs:{prop:"jzwyyh",label:"结转往月优惠","min-width":"120"}}),t("el-table-column",{attrs:{prop:"jzwnyh",label:"结转往年优惠","min-width":"120"}}),t("el-table-column",{attrs:{prop:"yhwy",label:"优惠往月","min-width":"120"}}),t("el-table-column",{attrs:{prop:"yhwn",label:"优惠往年","min-width":"120"}})],1)],1):e._e(),"taxescomputestatistics"===e.tableType?t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"item.isLoading"}],ref:"taxTable",refInFor:!0,staticClass:"finance",attrs:{data:s.tableData,stripe:"","element-loading-text":"数据获取中...",height:"100%"}},[t("el-table-column",{attrs:{"min-width":"120",prop:"villagename",label:"项目"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"subject_name",label:"科目名称"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"yqys",label:"以前预收"}}),t("el-table-column",{attrs:{label:"当月应收"}},[t("el-table-column",{attrs:{"min-width":"120",prop:"dyysws",label:"当月应收未收"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"dyysss",label:"当月应收实收"}})],1),t("el-table-column",{attrs:{"min-width":"120",prop:"dyys",label:"当月预收"}}),t("el-table-column",{attrs:{"min-width":"150",prop:"yqysdyys",label:"以前预收当月应收"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"ysye",label:"预收余额"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"nshj",label:"纳税合计"}})],1):e._e(),"wegcoststatistics"===e.tableType&&"count"===e.activeName?t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"item.isLoading"}],attrs:{data:s.tableData,stripe:"","element-loading-text":"数据获取中...",height:"100%"}},[s.tableTitles.length>0?t("el-table-column",{attrs:{prop:"villagename",label:"项目名称",width:130}}):e._e(),e._l(s.tableTitles,(function(e,s){return t("el-table-column",{key:s,attrs:{label:e.label}},[t("el-table-column",{attrs:{prop:"no_pay"+e.prop,label:"未收"}}),t("el-table-column",{attrs:{prop:"has_pay"+e.prop,label:"已收"}})],1)}))],2):e._e(),"wegcoststatistics"===e.tableType&&"count"===e.activeName&&0===s.tableTitles.length?t("div",{staticStyle:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)","font-size":"0.7rem",color:"#ccc"}},[e._v(" 暂无数据！ ")]):e._e(),"arrearsanalysisstatistics"===e.tableType&&"count"===e.activeName||"arrearsanalysisstatistics"===e.tableType&&"analysis"===e.activeName||"arrearsrecoverstatistics"===e.tableType&&"analysis"===e.activeName||"arrearsdurationstatistics"===e.tableType&&"count"===e.activeName||"arrearsdurationstatistics"===e.tableType&&"info"===e.activeName?t("div",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"item.isLoading"}],staticStyle:{height:"100%"},attrs:{"element-loading-text":"数据获取中..."}},["arrearsanalysisstatistics"===e.tableType&&"count"===e.activeName&&s.header?t("vxe-table",{attrs:{stripe:"",border:"","auto-resize":"",height:"auto","show-overflow":"","highlight-hover-row":"",data:s.tableData,align:"center","scroll-x":{enabled:!1}}},[t("vxe-column",{attrs:{title:"项目名称",field:"villagename","min-width":"120"}}),t("vxe-column",{attrs:{title:"欠费总计金额",field:"all_money","min-width":"100"}}),t("vxe-column",{attrs:{title:"户数",field:"resources_count","min-width":"100"}}),t("vxe-colgroup",{attrs:{title:"欠费原因"}},e._l(s.header,(function(e,s){return t("vxe-column",{key:s,attrs:{field:e.prop,title:e.title,"min-width":"100",sortable:""}})})),1)],1):e._e(),"arrearsanalysisstatistics"===e.tableType&&"analysis"===e.activeName&&s.header?t("vxe-table",{attrs:{stripe:"",border:"","auto-resize":"",height:"auto","show-overflow":"","highlight-hover-row":"",data:s.tableData,align:"center","scroll-x":{enabled:!1}}},[t("vxe-column",{attrs:{title:"项目名称",field:"villagename","min-width":"120"}}),t("vxe-column",{attrs:{title:"欠费总计金额",field:"all_money","min-width":"100"}}),t("vxe-column",{attrs:{title:"户数",field:"rooms_num","min-width":"100"}}),e._l(s.header,(function(e,s){return t("vxe-colgroup",{key:s,attrs:{title:e.title}},[t("vxe-column",{attrs:{field:e.prop,title:e.cycle,"min-width":"100",sortable:""}})],1)}))],2):e._e(),"arrearsrecoverstatistics"===e.tableType&&"analysis"===e.activeName&&s.header?t("vxe-table",{attrs:{stripe:"",border:"","auto-resize":"",height:"auto","show-overflow":"","highlight-hover-row":"",data:s.tableData,align:"center","scroll-x":{enabled:!1}}},[t("vxe-column",{attrs:{title:"项目名称",field:"villagename","min-width":"120"}}),t("vxe-column",{attrs:{title:"欠费总计金额",field:"all_money","min-width":"100"}}),t("vxe-column",{attrs:{title:"户数",field:"rooms_num","min-width":"100"}}),t("vxe-column",{attrs:{title:"欠费收回金额",field:"pay_money","min-width":"100"}}),e._l(s.header,(function(e,s){return t("vxe-colgroup",{key:s,attrs:{title:e.title}},[t("vxe-column",{attrs:{field:e.prop,title:e.cycle,"min-width":"100",sortable:""}})],1)}))],2):e._e(),"arrearsdurationstatistics"===e.tableType&&"count"===e.activeName&&s.cost_pay_num_header_year?t("vxe-table",{attrs:{stripe:"",border:"","auto-resize":"",height:"auto","show-overflow":"","highlight-hover-row":"",data:s.tableData,align:"center","scroll-x":{enabled:!1}}},[t("vxe-column",{attrs:{title:"项目名称",field:"villagename","min-width":"120"}}),t("vxe-colgroup",{attrs:{title:"欠费金额"}},[t("vxe-column",{attrs:{field:"all_cost_money",title:"欠费总额","min-width":"100",sortable:""}}),e._l(s.all_cost_header,(function(e,s){return t("vxe-colgroup",{key:s,attrs:{title:e.title}},[t("vxe-column",{attrs:{field:e.prop,title:e.cycle,"min-width":"120",sortable:""}})],1)}))],2),t("vxe-colgroup",{attrs:{title:"欠费金额收回情况"}},[t("vxe-column",{attrs:{field:"pay_cost_money",title:"累计回收欠费金额","min-width":"130",sortable:""}}),t("vxe-colgroup",{attrs:{title:"月份收回展示"}},e._l(s.pay_cost_header_month,(function(e,s){return t("vxe-column",{key:s,attrs:{field:e.prop,title:e.title,"min-width":"120",sortable:""}})})),1),e._l(s.pay_cost_header_year,(function(e,s){return t("vxe-colgroup",{key:s,attrs:{title:e.title}},[t("vxe-column",{attrs:{field:e.prop,title:e.cycle,"min-width":"120",sortable:""}})],1)}))],2),t("vxe-colgroup",{attrs:{title:"欠费户数"}},[t("vxe-column",{attrs:{field:"cost_num_num",title:"欠费总户数","min-width":"100",sortable:""}}),e._l(s.cost_num_header_year,(function(e,s){return t("vxe-colgroup",{key:s,attrs:{title:e.title}},[t("vxe-column",{attrs:{field:e.prop,title:e.cycle,"min-width":"120",sortable:""}})],1)}))],2),t("vxe-colgroup",{attrs:{title:"欠费户数收回情况"}},[t("vxe-column",{attrs:{field:"cost_pay_num_num",title:"累计回收欠费户数","min-width":"130",sortable:""}}),t("vxe-colgroup",{attrs:{title:"月份收回展示"}},e._l(s.cost_pay_num_header_month,(function(e,s){return t("vxe-column",{key:s,attrs:{field:e.prop,title:e.title,"min-width":"120",sortable:""}})})),1),e._l(s.cost_pay_num_header_year,(function(e,a){return t("vxe-colgroup",{key:a,attrs:{title:e.title}},[t("vxe-column",{attrs:{field:s.prop,title:e.cycle,"min-width":"120",sortable:""}})],1)}))],2)],1):e._e(),"arrearsdurationstatistics"===e.tableType&&"info"===e.activeName&&s.header?t("vxe-table",{attrs:{stripe:"",border:"","auto-resize":"",height:"auto","show-overflow":"","highlight-hover-row":"",data:s.tableData,align:"center","scroll-x":{enabled:!1}}},[t("vxe-column",{attrs:{title:"项目名称",field:"villagename","min-width":"120"}}),t("vxe-column",{attrs:{title:"房号",field:"resources_name","min-width":"100"}}),t("vxe-column",{attrs:{title:"楼栋",field:"block","min-width":"100"}}),t("vxe-column",{attrs:{title:"单元",field:"unit","min-width":"100"}}),t("vxe-column",{attrs:{title:"业主姓名",field:"owner_name","min-width":"100"}}),t("vxe-column",{attrs:{title:"业主电话",field:"owner_tel","min-width":"100"}}),t("vxe-column",{attrs:{title:"欠费周期",field:"cycle","min-width":"100"}}),e._l(s.header,(function(e,s){return t("vxe-colgroup",{key:s,attrs:{title:e.title}},[t("vxe-column",{attrs:{field:e.prop,title:e.cycle,"min-width":"100",sortable:""}})],1)})),t("vxe-column",{attrs:{title:"欠费金额",field:"cost_money",width:"100"}}),t("vxe-column",{attrs:{title:"收回金额",field:"pay_cost_money","min-width":"100"}}),t("vxe-column",{attrs:{title:"收回占比",field:"pay_proportion","min-width":"100"}})],2):e._e()],1):e._e(),"financemonthstatistics"==e.tableType||"wegcoststatistics"==e.tableType||"arrearsanalysisstatistics"==e.tableType||"arrearsrecoverstatistics"==e.tableType||"arrearsdurationstatistics"==e.tableType||"roomssubjectinfostatistics"===e.tableType||"housekeepercostcountstatistics"===e.tableType||s.static?e._e():t("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"item.isLoading"}],ref:"xeTable"+a,refInFor:!0,attrs:{stripe:"",border:"","auto-resize":"",height:"auto","show-overflow":"","highlight-hover-row":"",align:"center","element-loading-text":"数据获取中..."}},e._l(s.tableTitles,(function(e,s){return t("vxe-table-column",{key:s,attrs:{field:e.prop,title:e.label,"min-width":e.width?e.width:120,"show-overflow":""}})})),1),"roomssubjectinfostatistics"===e.tableType?t("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"item.isLoading"}],ref:"xeTable"+a,refInFor:!0,attrs:{stripe:"",border:"","auto-resize":"",height:"auto","show-overflow":"","highlight-hover-row":"",align:"center","element-loading-text":"数据获取中..."}},[e._l(s.tableTitles,(function(e,s){return t("vxe-column",{key:s,attrs:{field:e.prop,title:e.label,"min-width":e.width?e.width:120,"show-overflow":""}})})),e._l(s.dynamicTableTitles,(function(e,s){return t("vxe-colgroup",{key:e.pay_money,attrs:{title:e.label}},[t("vxe-column",{attrs:{field:e.pay_money,title:"收费金额","min-width":"100",sortable:""}}),t("vxe-column",{attrs:{field:e.refund_money,title:"退款金额","min-width":"100",sortable:""}})],1)}))],2):e._e(),"housekeepercostcountstatistics"===e.tableType&&"count"==e.activeName?t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"item.isLoading"}],ref:"taxTable",refInFor:!0,staticClass:"finance",attrs:{data:s.tableData,stripe:"","element-loading-text":"数据获取中...",height:"100%"}},[t("el-table-column",{attrs:{"min-width":"120",prop:"villagename",label:"项目名称"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"realname",label:"管家"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"unit_name",label:"楼栋"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"byysje",label:"本月应收金额"}}),t("el-table-column",{attrs:{label:"应收本月"}},[t("el-table-column",{attrs:{"min-width":"120",prop:"yswn",label:"应收往年"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"yswy",label:"应收往月"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"ysby",label:"应收本月"}})],1),t("el-table-column",{attrs:{label:"本月实收"}},[t("el-table-column",{attrs:{"min-width":"120",prop:"sswn",label:"实收往年"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"sswy",label:"实收往月"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"ssby",label:"实收本月"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"byys",label:"本月预收"}}),t("el-table-column",{attrs:{"min-width":"120",prop:"sszj",label:"实收总计"}})],1),t("el-table-column",{attrs:{"min-width":"120",prop:"sjl",label:"收缴率"}})],1):e._e(),"financemonthstatistics"!=e.tableType&&"taxescomputestatistics"!=e.tableType&&"arrearsdurationstatistics"!=e.tableType&&s.static?t("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"item.isLoading"}],ref:"xeTable"+a,refInFor:!0,attrs:{stripe:"",border:"","auto-resize":"",height:"auto","show-overflow":"","highlight-hover-row":"",align:"center","element-loading-text":"数据获取中..."}},e._l(s.columns,(function(e,s){return t("vxe-table-column",{key:s,attrs:{field:e.prop,title:e.label,"min-width":e.width?e.width:120,"show-overflow":""}})})),1):e._e(),"carrecordstatistics"===e.tableType?t("div",{staticClass:"create-info"},[t("span",{staticClass:"name"},[e._v("制表人：")]),t("span",{staticClass:"value"},[e._v(e._s(e.creater))]),t("span",{staticClass:"name"},[e._v("制表日期：")]),t("span",{staticClass:"value"},[e._v(e._s(e.createTime))])]):e._e()],1)})),1),t("el-dialog",{staticClass:"sourceDialog",attrs:{visible:e.showSourceDialog,title:"明细来源",width:"60%","close-on-click-modal":!1},on:{"update:visible":function(t){e.showSourceDialog=t}}},[t("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:e.sourceLoading,expression:"sourceLoading"}],ref:"sourceTable",attrs:{stripe:"",border:"","auto-resize":"",height:"auto","show-overflow":"","highlight-hover-row":"",align:"center","element-loading-text":"数据获取中..."}},[t("vxe-table-column",{attrs:{field:"resources_name",title:"资源名称","min-width":120,"show-overflow":""}}),t("vxe-table-column",{attrs:{field:"buildareas",title:"资源面积","min-width":120,"show-overflow":""}}),t("vxe-table-column",{attrs:{field:"owner_name",title:"客户名称","min-width":120,"show-overflow":""}}),t("vxe-table-column",{attrs:{field:"jzwy",title:"结转往月","min-width":120,"show-overflow":""}}),t("vxe-table-column",{attrs:{field:"jzwn",title:"结转往年","min-width":120,"show-overflow":""}}),t("vxe-table-column",{attrs:{field:"sswn",title:"实收往年","min-width":120,"show-overflow":""}}),t("vxe-table-column",{attrs:{field:"sswy",title:"实收往月","min-width":120,"show-overflow":""}}),t("vxe-table-column",{attrs:{field:"ssby",title:"实收本月","min-width":120,"show-overflow":""}}),t("vxe-table-column",{attrs:{field:"count",title:"小计","min-width":120,"show-overflow":""}})],1)],1)],1)},i=[],r=(s("5948"),s("97ba"),s("4698")),l={name:"tables",props:["tableType","filter","conditions","tableList"],components:{workIcon:r["a"]},data(){return{urlObj:{financemonthinfo:this.$api.state.Report.financemonthinfo.url},url:"",tableArrys:this.tableList,activeName:"",conf:{loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},ismultiple:!1,multiHeader:[],multiHeader2:[],multiHeader3:[],merges:[],creater:"",createTime:"",currentIndex:"",uid:"",uuid:"",socket:null,showCondition:!1,showSourceDialog:!1,sourceLoading:!1}},computed:{queryId(){return this.$store.state.queryId}},watch:{$route(){let e=JSON.parse(JSON.stringify(this.tableArrys));e.forEach(e=>{e.isLoading=!1}),this.tableArrys=e}},mounted(){switch(this.uid=sessionStorage.getItem("uid"),this.uuid=sessionStorage.getItem("uuid"),this.activeName="count",this.tableArrys.forEach(e=>{e.isLoading=!1,e.tableTitles=[],e.headers=[],e.datas=[],e.tableName=""}),this.tableType){case"budgetstatistics":this.activeName="net_receipts";break;case"sharestatistics":this.activeName="normal";break;case"carrecordstatistics":this.activeName="carport";break}"financemonthstatistics"===this.tableType||"housekeepercostcountstatistics"===this.tableType?(this.currentIndex=0,this.getTableData()):this.tabClick({index:0}),window.$socket2.onmessage=this.messageHandle},methods:{getYMDHMS(e){let t=new Date(e),s=t.getFullYear();const a=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),r=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0"),o=t.getSeconds().toString().padStart(2,"0");return s+"-"+a+"-"+i+" "+r+":"+l+":"+o},tabClick(e){if(""==this.currentIndex||this.currentIndex!=e.index)if("financemonthstatistics"!=this.tableType){let t=this.currentIndex?this.currentIndex:0,s=JSON.parse(JSON.stringify(this.tableArrys[t]));s.isLoading=!1,this.$set(this.tableArrys,t,s),this.queryId?this.$axios.post(this.$api.state.Report.delselectlist.url,{id:this.queryId}).then(t=>{this.$store.commit("setQueryid",""),this.tableInit(e)}):this.tableInit(e)}else this.tableInit(e)},tableInit(e){this.currentIndex=e.index,"ownerHouse"!=this.tableType&&"financemonthstatistics"!=this.tableType&&"carrecordstatistics"!=this.tableType&&(this.filter.type=this.activeName),0===this.tableArrys[e.index].tableData.length&&(this.conf={loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},"financemonthstatistics"==this.tableType?"count"===this.activeName?(this.tableArrys[0].tableName="财务含税月报表",this.tableArrys[0].datas=this.tableArrys[0].tableData.map(e=>[e.village,e.name,Number(e.wnqf)?Number(e.wnqf):0,Number(e.wyqf)?Number(e.wyqf):0,Number(e.wyys)?Number(e.wyys):0,Number(e.jzwn)?Number(e.jzwn):0,Number(e.jzwy)?Number(e.jzwy):0,Number(e.byxz)?Number(e.byxz):0,Number(e.yszj)?Number(e.yszj):0,Number(e.sswn)?Number(e.sswn):0,Number(e.sswy)?Number(e.sswy):0,Number(e.ssby)?Number(e.ssby):0,Number(e.byys)?Number(e.byys):0,Number(e.sszj)?Number(e.sszj):0,Number(e.qm_wnqf)?Number(e.qm_wnqf):0,Number(e.qm_wyqf)?Number(e.qm_wyqf):0,Number(e.qm_byqf)?Number(e.qm_byqf):0,Number(e.qm_byzys)?Number(e.qm_byzys):0,Number(e.qm_byft)?Number(e.qm_byft):0,e.slsl,e.sbyl])):(this.tableArrys[1].tableName="财务不含税月报表",this.tableArrys[1].datas=this.tableArrys[1].tableData.map(e=>[e.village,e.name,Number(e.wnqf)?Number(e.wnqf):0,Number(e.wyqf)?Number(e.wyqf):0,Number(e.wyys)?Number(e.wyys):0,Number(e.jzwn)?Number(e.jzwn):0,Number(e.jzwy)?Number(e.jzwy):0,Number(e.byxz)?Number(e.byxz):0,Number(e.yszj)?Number(e.yszj):0,Number(e.sswn)?Number(e.sswn):0,Number(e.sswy)?Number(e.sswy):0,Number(e.ssby)?Number(e.ssby):0,Number(e.byys)?Number(e.byys):0,Number(e.sszj)?Number(e.sszj):0,Number(e.qm_wnqf)?Number(e.qm_wnqf):0,Number(e.qm_wyqf)?Number(e.qm_wyqf):0,Number(e.qm_byqf)?Number(e.qm_byqf):0,Number(e.qm_byzys)?Number(e.qm_byzys):0,Number(e.qm_byft)?Number(e.qm_byft):0,e.slsl,e.sbyl])):this.getTableData())},detailCollectHandle(e,t,s){if("subject"===t){let t=[{label:"项目名称",prop:"vname",width:"150"}];e&&e.length>0&&e.forEach((e,s)=>{let a={label:e.name,prop:String(s+1),width:"120"};t.push(a)}),this.tableArrys[s].tableTitles=t;let a=[];e&&e.length>0&&(e[0].village.forEach(e=>{let t={vname:e.name};a.push(t)}),e.forEach((e,t)=>{e.village.forEach((e,s)=>{a[s][String(t+1)]=e.money})})),e=a}else if("count"===t&&"advancecollectstatistics"===this.tableType){let t=[{label:"项目名称",prop:"vname",width:"150"}];e&&e.length>0&&e.forEach((e,s)=>{let a={label:e.name,prop:String(s+1),width:"120"};t.push(a)}),this.tableArrys[s].tableTitles=t;let a=[];e&&e.length>0&&(e[0].village.forEach(e=>{let t={vname:e.name};a.push(t)}),e.forEach((e,t)=>{e.village.forEach((e,s)=>{a[s][String(t+1)]=e.money})})),e=a}return e},tableDataHandle(e,t){let s=0;switch(this.tableType){case"reportstatistics":if("info"===t)s=1,e=e.return_data,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="实收明细表",this.tableArrys[s].headers=["小区名称","资源名称","面积","资源类型","业主姓名","总金额","优惠金额","科目名称","备注","支付时间","订单号"],this.tableArrys[s].datas=e.map(e=>[e.villagename,e.name,Number(e.area)?Number(e.area):0,e.type,e.owner_name,Number(e.money)?Number(e.money):0,Number(e.discount_money)?Number(e.discount_money):0,e.subject_text,e.bz,e.pay_time,e.sn]);else if("subject"===t)s=2,e=this.detailCollectHandle(e,t,s),this.$refs["xeTable2"][0].loadData(e),this.tableArrys[s].tableName="实收科目汇总表",this.tableArrys[s].headers=this.tableArrys[s].tableTitles.map(e=>e.label),this.tableArrys[s].datas=e.map(e=>this.tableArrys[s].tableTitles.map(t=>Number(e[t.prop])?Number(e[t.prop]):e[t.prop]));else{s=0;const t=this.$refs["xeTable0"];t[0].loadData(e),this.tableArrys[s].tableName="实收统计表",this.tableArrys[s].headers=["管理区名称","实收总计","税前总计","税额总计"],this.tableArrys[s].datas=e.map(e=>[e.villagename,Number(e.real_money)?Number(e.real_money):0,Number(e.pre_tax_money)?Number(e.pre_tax_money):0,Number(e.tex_money)?Number(e.tex_money):0])}break;case"receivablestatistics":"info"===t?(s=1,e=e.return_data,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="应收明细表",this.tableArrys[s].headers=["小区名称","资源名称","面积","资源类型","业主姓名","总金额","科目名称","费用归属期间"],this.tableArrys[s].datas=e.map(e=>[e.villagename,e.name,Number(e.area)?Number(e.area):0,e.type,e.owner_name,Number(e.money)?Number(e.money):0,e.subject_text,e.ymonth])):"subject"===t?(s=2,e=this.detailCollectHandle(e,t,s),this.$refs["xeTable2"][0].loadData(e),this.tableArrys[s].tableName="应收科目汇总表",this.tableArrys[s].headers=this.tableArrys[s].tableTitles.map(e=>e.label),this.tableArrys[s].datas=e.map(e=>this.tableArrys[s].tableTitles.map(t=>Number(e[t.prop])?Number(e[t.prop]):e[t.prop]))):(s=0,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="应收统计表",this.tableArrys[s].headers=["管理区名称","应收总计","税前总计","税额总计"],this.tableArrys[s].datas=e.map(e=>[e.villagename,Number(e.real_money)?Number(e.real_money):0,Number(e.pre_tax_money)?Number(e.pre_tax_money):0,Number(e.tex_money)?Number(e.tex_money):0]));break;case"arrearsstatistics":"info"===t?(s=1,e=e.return_data,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="欠费明细表",this.tableArrys[s].headers=["小区名称","楼栋","单元","资源名称","面积","资源类型","销售状态","业主姓名","联系电话","总金额","往年欠费金额","当年欠费金额","科目名称","欠费年月","装修状态","交房状态","交房时间"],this.tableArrys[s].datas=e.map(e=>[e.villagename,e.block,e.unit,e.name,Number(e.area)?Number(e.area):0,e.type,e.isvacancy,e.owner_name,e.tel,Number(e.money)?Number(e.money):0,Number(e.pre_arrears_money)?Number(e.pre_arrears_money):0,Number(e.now_arrears_money)?Number(e.now_arrears_money):e.subject_text,e.ymonth,e.isdecorate,e.check,e.delivery_date])):"subject"===t?(s=2,e=this.detailCollectHandle(e,t,s),this.$refs["xeTable2"][0].loadData(e),this.tableArrys[s].tableName="欠费科目汇总表",this.tableArrys[s].headers=this.tableArrys[s].tableTitles.map(e=>e.label),this.tableArrys[s].datas=e.map(e=>this.tableArrys[s].tableTitles.map(t=>Number(e[t.prop])?Number(e[t.prop]):e[t.prop]))):"wg_count"===t?(s=3,this.$refs["xeTable3"][0].loadData(e),this.tableArrys[s].tableName="物业欠费统计表",this.tableArrys[s].headers=["项目名称","欠费金额","已交房欠费","未交房欠费","欠费户数","已交房户数","未交房户数","已装修户数","未装修户数"],this.tableArrys[s].datas=e.map(e=>[e.villagename,Number(e.money)?Number(e.money):0,Number(e.delivery_money)?Number(e.delivery_money):0,Number(e.not_delivery_money)?Number(e.not_delivery_money):0,Number(e.rooms_num)?Number(e.rooms_num):0,Number(e.delivery_num)?Number(e.delivery_num):0,Number(e.not_delivery_num)?Number(e.not_delivery_num):0,Number(e.isdecorate_num)?Number(e.isdecorate_num):0,Number(e.not_isdecorate_num)?Number(e.not_isdecorate_num):0])):(s=0,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="欠费统计表",this.tableArrys[s].headers=["项目名称","欠费金额"],this.tableArrys[s].datas=e.map(e=>[e.villagename,Number(e.money)?Number(e.money):0]));break;case"advancecollectstatistics":"info"===t?(s=1,e=e.return_data,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="预收明细表",this.tableArrys[s].headers=["小区名称","资源名称","面积","资源类型","业主姓名","支付方式","总金额","科目名称"],this.tableArrys[s].datas=e.map(e=>[e.villagename,e.name,Number(e.area)?Number(e.area):0,e.type,e.owner_name,e.payment_type,Number(e.money)?Number(e.money):0,e.subject_text])):(s=0,e=this.detailCollectHandle(e,t,s),this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="预收统计表",this.tableArrys[s].headers=this.tableArrys[s].tableTitles.map(e=>e.label),this.tableArrys[s].datas=e.map(e=>this.tableArrys[s].tableTitles.map(t=>Number(e[t.prop])?Number(e[t.prop]):e[t.prop])));break;case"refundstatistics":e&&e.length>0&&e.forEach(e=>{e.vname=e.village?e.village.villagename:"--",e.oname=e.realname?e.realname:"--",e.sname=e.subject_text?e.subject_text:"--"}),"info"===t?(s=1,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="退款明细表",this.tableArrys[s].headers=["项目名称","资源名称","资源类型","业主姓名","科目名称","欠费金额","缴费金额","未退款金额","已退金额","付款时间"],this.tableArrys[s].datas=e.map(e=>[e.vname,e.model_text,e.resources_type_name,e.oname,e.sname,Number(e.money)?Number(e.money):0,Number(e.refund_cost_money)?Number(e.refund_cost_money):"",Number(e.refund_cost_notrefundmoney)?Number(e.refund_cost_notrefundmoney):"",Number(e.refund_cost_refundmoney)?Number(e.refund_cost_refundmoney):"",e.pay_time_text])):(s=0,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="退款统计表",this.tableArrys[s].headers=["项目名称","欠费金额"],this.tableArrys[s].datas=e.map(e=>[e.villagename,Number(e.money)?Number(e.money):0]));break;case"ownerHouse":break;case"resources":break;case"financemonthstatistics":break;case"cashaccountstatistics":if("info"===t){s=1;let t=[];e.forEach(e=>{let s={resources_type_name:e.resources_type_name?e.resources_type_name:"--",resources_name:e.model_text?e.model_text:"--",oname:e.realname?e.realname:"--",snnum:e.fphm?e.fphm:e.receipt?e.receipt:"--",pjlx:e.fphm?"发票":e.receipt?"收据":"--",paytime:e.pay_time?e.pay_time:"--",pname:e.u_realname?e.u_realname:"--",payname:e.pay_type_name?e.pay_type_name:"--",tax_rate:e.tax_rate,describe:e.describe?e.describe:"--",money:e.money,discount_money:e.discount_money};t.push(s)}),e=t,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="现金台账明细表",this.tableArrys[s].headers=["资源类型","资源","客户","票据号","票据类型","收费日期","收款人","收款方式","税额","收费备注","总金额","优惠金额"],this.tableArrys[s].datas=e.map(e=>[e.resources_type_name,e.resources_name,e.oname,e.snnum,e.pjlx,e.paytime,e.pname,e.payname,Number(e.tax_rate)?Number(e.tax_rate):0,e.describe,Number(e.money)?Number(e.money):0,Number(e.discount_money)?Number(e.discount_money):0])}else if("subject_pay"===t){s=2;let t=[];e&&e.length>0&&e.forEach(e=>{let s={code:e.code?e.code:"--",village_name:e.village_name?e.village_name:"--",village_code:e.village_code?e.village_code:"--",content:e.village_name+e.name+"收入",pay_money:e.pay_money?e.pay_money:"--",subject_money:e.subject_money?e.subject_money:"--"};t.push(s)}),e=t,this.$refs["xeTable2"][0].loadData(e),this.tableArrys[s].tableName="收费科目组合表",this.tableArrys[s].headers=["编码","项目名称","项目编码","摘要","支付金额","科目费用"],this.tableArrys[s].datas=e.map(e=>[e.code,e.village_name,e.village_code,e.content,Number(e.pay_money)?Number(e.pay_money):0,Number(e.subject_money)?Number(e.subject_money):0])}else if("count"===t){s=0;let t=[{label:"科目名称",prop:"sname",with:150},{label:"科目总金额",prop:"allmoney",with:120},{label:"不含税金额",prop:"taxmoeny",with:120},{label:"优惠金额",prop:"discountmoney",with:120}];e.pay_data&&e.pay_data.length>0&&e.pay_data.forEach(e=>{let s={label:e.name,prop:e.key,with:120};t.push(s)}),this.tableArrys[s].tableTitles=t;let a=[];e.return_data&&e.return_data.length>0&&e.return_data.forEach(e=>{let t={sname:e.name,allmoney:e.subject_all_moeny,taxmoeny:e.subject_tax_moeny,discountmoney:e.subject_discount_moeny,...e.pay_type_money};a.push(t)}),e=a,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="现金台账统计表",this.tableArrys[s].headers=this.tableArrys[s].tableTitles.map(e=>e.label),this.tableArrys[s].datas=e.map(e=>this.tableArrys[s].tableTitles.map(t=>0==e[t.prop]||Number(e[t.prop])?Number(e[t.prop]):e[t.prop]))}break;case"combinationstatistics":"info"===t?(s=1,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="组合资源明细表",this.tableArrys[s].headers=["项目名称","楼栋","业主姓名","资源名称","资源类型","应收金额","实收金额","优惠金额","收缴率","费用归属区间"],this.tableArrys[s].datas=e.map(e=>[e.villagename,e.block,e.owner_name,e.name,e.type,Number(e.ys_money)?Number(e.ys_money):0,Number(e.ss_money)?Number(e.ss_money):0,Number(e.discount_money)?Number(e.discount_money):0,e.proportion,e.ymonth])):"subject"===t?(s=2,this.$refs["xeTable2"][0].loadData(e),this.tableArrys[s].tableName="组合科目汇总表",this.tableArrys[s].headers=["科目名称","应收金额","实收金额","收缴率"],this.tableArrys[s].datas=e.map(e=>[e.name,Number(e.ys_money)?Number(e.ys_money):0,Number(e.ss_money)?Number(e.ss_money):0,e.proportion])):(s=0,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="组合统计表",this.tableArrys[s].headers=["项目名称","应收金额","实收金额","收缴率"],this.tableArrys[s].datas=e.map(e=>[e.villagename,Number(e.ys_money)?Number(e.ys_money):0,Number(e.ss_money)?Number(e.ss_money):0,e.proportion]));break;case"wegcoststatistics":if("info"===t)s=1,e.forEach(e=>{e.vname=e.village?e.village.villagename:"--",e.oname=e.owner?e.owner.realname:"--",e.status_text=1==e.status?"已交":"未交",e.etime=this.getYMDHMS(1e3*e.etime)}),this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="三表抄表明细表",this.tableArrys[s].headers=["项目名称","业主姓名","资源名称","资源类型","状态","上次读数","本次读数","使用度数","单价","抄表时间","备注"],this.tableArrys[s].datas=e.map(e=>[e.vname,e.oname,e.resources_name,e.resources_type,e.status_text,Number(e.last)?Number(e.last):0,Number(e.this)?Number(e.this):0,Number(e.use)?Number(e.use):0,Number(e.price)?Number(e.price):0,e.etime,e.describe]);else if("count"===t){s=0;let t=[],a=["项目名称"],i=[""];e.return_subject_data&&e.return_subject_data.length>0&&e.return_subject_data.forEach(e=>{let s={label:e.name,prop:String(e.id),width:120};t.push(s),a.push(e.name),a.push(""),i.push("未收"),i.push("已收")}),this.tableArrys[s].tableTitles=t;let r=[];e.return_data&&e.return_data.length>0&&e.return_data.forEach(e=>{let t={villagename:e.villagename};Object.keys(e.subject).forEach(s=>{t["no_pay"+s]=e.subject[s].no_pay,t["has_pay"+s]=e.subject[s].has_pay}),r.push(t)}),e=r;const l=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];this.tableArrys[s].tableName="三表抄表统计表",this.tableArrys[s].ismultiple=!0,this.tableArrys[s].multiHeader=a,this.tableArrys[s].multiHeader2=i,this.tableArrys[s].merges=["A1:A2"];let o=["项目名称"];this.tableArrys[s].datas=e.map(e=>{let t=[e.villagename];return this.tableArrys[s].tableTitles.forEach(s=>{t.push(e["no_pay"+s.prop]),t.push(e["has_pay"+s.prop])}),t}),this.tableArrys[s].tableTitles.forEach(e=>{o.push("no_pay"+e.prop),o.push("has_pay"+e.prop)}),o.forEach((e,t)=>{t>0&&t%2!==0&&this.tableArrys[t].merges.push(`${l[t]}1:${l[t+1]}1`)})}break;case"budgetstatistics":let a=[{label:"月份",prop:"month"}];e.return_subject_data&&e.return_subject_data.length>0&&e.return_subject_data.forEach(e=>{let t={label:e.name,prop:String(e.id),width:"120"};a.push(t)});let i=[];e.return_data&&e.return_data.length>0&&e.return_data.forEach(e=>{let t={month:e.month+"月",...e.subject_data};i.push(t)}),e=i,"share"===t?(s=1,this.tableArrys[s].tableTitles=a,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="预算分摊统计表"):(s=0,this.tableArrys[s].tableTitles=a,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="预算实收统计表"),this.tableArrys[s].headers=this.tableArrys[s].tableTitles.map(e=>e.label),this.tableArrys[s].datas=e.map(e=>this.tableArrys[s].tableTitles.map(t=>Number(e[t.prop])?Number(e[t.prop]):e[t.prop]));break;case"sharestatistics":let r=[{label:"收款月份",prop:"month"}];e.header&&e.header.length>0&&e.header.forEach(e=>{let t={label:e.name,prop:String(e.time),width:"120"};r.push(t)});let l=[];e.return_data&&e.return_data.length>0&&e.return_data.forEach(e=>{let t={month:e.month,...e.time_money};l.push(t)}),e=l,"ex_tax"===t?(s=1,this.tableArrys[s].tableTitles=r,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="分摊不含税统计表"):(s=0,this.tableArrys[s].tableTitles=r,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="分摊含税统计表"),this.tableArrys[s].headers=this.tableArrys[s].tableTitles.map(e=>e.label),this.tableArrys[s].datas=e.map(e=>this.tableArrys[s].tableTitles.map(t=>0==e[t.prop]||Number(e[t.prop])?Number(e[t.prop]):e[t.prop]));break;case"carrecordstatistics":s=0,this.creater=e.tablemaker?e.tablemaker.user:"",this.createTime=e.tablemaker?e.tablemaker.time:"",e=e.data,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="停车场收费统计报表",this.tableArrys[s].headers=["项目名称","应收","实收","减免","减免占比率"],e&&e.length>0&&e.forEach(e=>{let t=[e.name,Number(e.need_pay)?Number(e.need_pay):0,Number(e.pay_money)?Number(e.pay_money):0,Number(e.reduction_money)?Number(e.reduction_money):0,e.reduction_proportion];this.tableArrys[s].datas.push(t)});break;case"depositstatistics":"count"===t?(s=0,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="押金汇总表",this.tableArrys[s].headers=["项目名称","科目名称","期初金额","本期增加","本期减少","期末余额"],this.tableArrys[s].datas=e.map(e=>[e.villagename,e.subject_name,Number(e.begin_time_money)?Number(e.begin_time_money):0,Number(e.this_time_add_money)?Number(e.this_time_add_money):0,Number(e.this_time_del_money)?Number(e.this_time_del_money):0,Number(e.end_time_money)?Number(e.end_time_money):0])):"owner_info"===t?(s=1,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="押金客户明细表",this.tableArrys[s].headers=["项目名称","科目名称","客户名称","期初金额","本期增加","本期减少","期末余额"],this.tableArrys[s].datas=e.map(e=>[e.villagename,e.subject_name,e.owner_name,Number(e.begin_time_money)?Number(e.begin_time_money):0,Number(e.this_time_add_money)?Number(e.this_time_add_money):0,Number(e.this_time_del_money)?Number(e.this_time_del_money):0,Number(e.end_time_money)?Number(e.end_time_money):0])):"order_info"===t&&(s=2,this.$refs["xeTable2"][0].loadData(e),this.tableArrys[s].tableName="预存款订单明细表",this.tableArrys[s].headers=["项目名称","科目名称","客户名称","资源名称","订单号","金额","收款方式","对方科目"],this.tableArrys[s].datas=e.map(e=>[e.village_name,e.subject_name,e.realname,e.model_text,e.sn,Number(e.money)?Number(e.money):0,e.payment_type_name,e.other_subject]));break;case"advancedepositstatistics":"count"===t?(s=0,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="预存款汇总表",this.tableArrys[s].headers=["项目名称","期初金额","本期增加","本期减少","期末余额"],this.tableArrys[s].datas=e.map(e=>[e.villagename,Number(e.begin_time_money)?Number(e.begin_time_money):0,Number(e.this_time_add_money)?Number(e.this_time_add_money):0,Number(e.this_time_del_money)?Number(e.this_time_del_money):0,Number(e.end_time_money)?Number(e.end_time_money):0])):"owner_info"===t?(s=1,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="预存款客户明细表",this.tableArrys[s].headers=["项目名称","客户名称","期初金额","本期增加","本期减少","期末余额"],this.tableArrys[s].datas=e.map(e=>[e.village_name,e.owner_name,Number(e.begin_time_money)?Number(e.begin_time_money):0,Number(e.this_time_add_money)?Number(e.this_time_add_money):0,Number(e.this_time_del_money)?Number(e.this_time_del_money):0,Number(e.end_time_money)?Number(e.end_time_money):0])):"order_info"===t&&(s=2,this.$refs["xeTable2"][0].loadData(e),this.tableArrys[s].tableName="预存款订单明细表",this.tableArrys[s].headers=["项目名称","客户名称","订单号","金额","收款方式","对方科目"],this.tableArrys[s].datas=e.map(e=>[e.village_name,e.realname,e.sn,Number(e.money)?Number(e.money):0,e.payment_type_name,e.other_subject]));break;case"arrearsanalysisstatistics":"info"===t&&(s=1,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="欠费原因明细表",this.tableArrys[s].headers=["项目名称","楼栋","单元","房号","面积","欠费金额","交房状态","装修状态","业主名称","联系方式","欠费周期","欠费原因","欠费原因备注"],this.tableArrys[s].datas=e.map(e=>[e.villagename,e.block,e.unit,e.resources_name,e.buildareas,e.money,e.rooms_check,e.rooms_renovation,e.owner_name,e.owner_tel,e.cycle,e.arrears_reson_name,e.reason]));break;case"arrearsrecoverstatistics":"count"===t?(s=0,this.$refs["xeTable0"][0].loadData(e),this.tableArrys[s].tableName="欠费收回统计表",this.tableArrys[s].headers=["项目名称","欠费总计金额","欠费总计户数","欠费收回金额","欠费收回金额占比","欠费收回户数","欠费收回户数占比","欠费收回100%户数","欠费收回100%户数占比"],this.tableArrys[s].datas=e.map(e=>[e.villagename,e.all_money,e.rooms_num,e.pay_money,e.pay_proportion,e.pay_rooms_num,e.pay_rooms_num_proportion,e.pay_all_num,e.pay_all_num_proportion])):"info"===t&&(s=1,this.$refs["xeTable1"][0].loadData(e),this.tableArrys[s].tableName="欠费收回明细表",this.tableArrys[s].headers=["项目名称","楼栋","单元","房号","面积","交房状态","装修状态","业主名称","联系方式","费用周期","金额"],this.tableArrys[s].datas=e.map(e=>[e.village_name,e.block,e.unit,e.resources_name,e.buildareas,e.rooms_check,e.rooms_renovation,e.owner_name,e.owner_tel,e.cycle,e.money]));break;case"housekeepercostcountstatistics":break}this.tableArrys[s].tableData=e},getTableData(){"info"===this.activeName&&("reportstatistics"==this.tableType||"receivablestatistics"==this.tableType||"arrearsstatistics"==this.tableType||"advancecollectstatistics"==this.tableType||"refundstatistics"==this.tableType||"cashaccountstatistics"==this.tableType||"combinationstatistics"==this.tableType||"wegcoststatistics"==this.tableType||"arrearsanalysisstatistics"==this.tableType||"arrearsrecoverstatistics"==this.tableType||"arrearsdurationstatistics"==this.tableType)||"depositstatistics"==this.tableType&&("owner_info"===this.activeName||"order_info"===this.activeName)||"advancedepositstatistics"==this.tableType&&("owner_info"===this.activeName||"order_info"===this.activeName)?this.$confirm("明细报表数据可能过多，请选择一个操作","提示",{confirmButtonText:"下载报表",cancelButtonText:"查询报表"}).then(e=>{this.queryStart(2)}).catch(()=>{this.queryStart(1)}):this.queryStart(1)},queryStart(e){if(""==this.tableType){let e=JSON.parse(JSON.stringify(this.tableArrys));e[0].isLoading=!0,e[1].isLoading=!0,this.tableArrys=e}else{let t=JSON.parse(JSON.stringify(this.tableArrys[this.currentIndex]));t.isLoading=2!==e,this.$set(this.tableArrys,this.currentIndex,t)}let t={select:this.tableType,type:this.activeName,uuid:this.uuid,uid:this.uid,data:this.filter,info_select_type:e};this.$axios.post(this.$api.state.Report.addreportquery.url,t).then(t=>{if(200===t.Code)1==e?this.$store.commit("setQueryid",t.Data.id):(this.$store.commit("setMsgStatus",!0),this.$notify({type:"success",title:"温馨提示",message:"下载已添加到查询队列，查询完毕后可到消息中心查看或下载！",duration:1500}));else{this.$message({type:"error",message:t.Message?t.Message:"报表数据查询失败！"});let e=JSON.parse(JSON.stringify(this.tableArrys[this.currentIndex]));e.isLoading=!1,this.$set(this.tableArrys,this.currentIndex,e)}})},messageHandle(e){if(e.data&&e.data.startsWith("{")){let t=JSON.parse(e.data);if(this.tableType==t.select){if(1!=t.is_excel){let e=this.tableArrys.findIndex(e=>e.name===t.type);if(200==t.code){this.$store.commit("setQueryid",""),t.data?this.returnTypeJudg(t):this.tableDataHandle([],t.type);let s=JSON.parse(JSON.stringify(this.tableArrys[e]));s.isLoading=!1,this.$set(this.tableArrys,e,s)}else if(300==t.code){let e=t.msg?t.msg:"表格数据查询队列中！";this.$message({type:"warning",message:e})}else{500==t.code&&this.$store.commit("setQueryid","");let s=JSON.parse(JSON.stringify(this.tableArrys[e])),a=t.msg?t.msg:"表格数据获取失败！";this.$message({type:"error",message:a}),s.isLoading=!1,this.$set(this.tableArrys,e,s)}}}else if(t.code&&200!=t.code){let e=t.msg?t.msg:"表格数据获取失败！";this.$message({type:"error",message:e})}}},returnTypeJudg(e){let t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];if("financemonthstatistics"===this.tableType){let t=[],s=[];e.data.data.forEach(e=>{e.return_data.forEach(s=>{s.village=e.villagename,t.push(s)}),e.return_data_no_tex.forEach(t=>{t.village=e.villagename,s.push(t)})}),this.tableArrys[0].tableData=t,this.tableArrys[1].tableData=s,this.tableArrys[0].ismultiple=!0,this.tableArrys[1].ismultiple=!0,this.tableArrys[0].multiHeader=["项目","科目名称","期初余额","","","本月应收","","","","本月实收","","","","","期末余额","","","","","收缴率",""],this.tableArrys[1].multiHeader=["项目","科目名称","期初余额","","","本月应收","","","","本月实收","","","","","期末余额","","","","","收缴率",""],this.tableArrys[0].multiHeader2=["","","往年欠费","往月欠费","往月预收","结转往年","结转往月","本月新增","应收总计","实收往年","实收往月","实收本月","本月预收","实收总计","往年欠费","往月欠费","本月欠费","本月止预收","本月分摊","收历史率","收本月率"],this.tableArrys[1].multiHeader2=["","","往年欠费","往月欠费","往月预收","结转往年","结转往月","本月新增","应收总计","实收往年","实收往月","实收本月","本月预收","实收总计","往年欠费","往月欠费","本月欠费","本月止预收","本月分摊","收历史率","收本月率"],this.tableArrys[0].merges=["A1:A2","B1:B2","C1:E1","F1:I1","J1:N1","O1:S1","T1:U1"],this.tableArrys[1].merges=["A1:A2","B1:B2","C1:E1","F1:I1","J1:N1","O1:S1","T1:U1"],this.tableArrys[0].tableName="财务含税月报表",this.tableArrys[0].datas=this.tableArrys[0].tableData.map(e=>[e.village,e.name,Number(e.wnqf)?Number(e.wnqf):0,Number(e.wyqf)?Number(e.wyqf):0,Number(e.wyys)?Number(e.wyys):0,Number(e.jzwn)?Number(e.jzwn):0,Number(e.jzwy)?Number(e.jzwy):0,Number(e.byxz)?Number(e.byxz):0,Number(e.yszj)?Number(e.yszj):0,Number(e.sswn)?Number(e.sswn):0,Number(e.sswy)?Number(e.sswy):0,Number(e.ssby)?Number(e.ssby):0,Number(e.byys)?Number(e.byys):0,Number(e.sszj)?Number(e.sszj):0,Number(e.qm_wnqf)?Number(e.qm_wnqf):0,Number(e.qm_wyqf)?Number(e.qm_wyqf):0,Number(e.qm_byqf)?Number(e.qm_byqf):0,Number(e.qm_byzys)?Number(e.qm_byzys):0,Number(e.qm_byft)?Number(e.qm_byft):0,e.slsl,e.sbyl]),this.tableArrys[1].tableName="财务不含税月报表",this.tableArrys[1].datas=this.tableArrys[1].tableData.map(e=>[e.village,e.name,Number(e.wnqf)?Number(e.wnqf):0,Number(e.wyqf)?Number(e.wyqf):0,Number(e.wyys)?Number(e.wyys):0,Number(e.jzwn)?Number(e.jzwn):0,Number(e.jzwy)?Number(e.jzwy):0,Number(e.byxz)?Number(e.byxz):0,Number(e.yszj)?Number(e.yszj):0,Number(e.sswn)?Number(e.sswn):0,Number(e.sswy)?Number(e.sswy):0,Number(e.ssby)?Number(e.ssby):0,Number(e.byys)?Number(e.byys):0,Number(e.sszj)?Number(e.sszj):0,Number(e.qm_wnqf)?Number(e.qm_wnqf):0,Number(e.qm_wyqf)?Number(e.qm_wyqf):0,Number(e.qm_byqf)?Number(e.qm_byqf):0,Number(e.qm_byzys)?Number(e.qm_byzys):0,Number(e.qm_byft)?Number(e.qm_byft):0,e.slsl,e.sbyl]),this.$nextTick(()=>{this.$refs.financeTable[0].doLayout()});let a=JSON.parse(JSON.stringify(this.tableArrys));a[0].isLoading=!1,a[1].isLoading=!1,this.tableArrys=a}else if("taxescomputestatistics"===this.tableType){this.tableArrys[0].tableData=e.data?e.data:[],this.tableArrys[0].ismultiple=!0,this.tableArrys[0].multiHeader=["项目","科目名称","以前预收","当月应收","","当月预收","以前预收当月应收","预收余额","纳税合计"],this.tableArrys[0].multiHeader2=["","","","当月应收未收","当月应收实收","","","",""],this.tableArrys[0].merges=["A1:A2","B1:B2","C1:C2","D1:E1","F1:F2","G1:G2","H1:H2","I1:I2"],this.tableArrys[0].tableName="当期纳税计算表",this.tableArrys[0].datas=this.tableArrys[0].tableData.map(e=>[e.villagename,e.subject_name,Number(e.yqys)?Number(e.yqys):0,Number(e.dyysws)?Number(e.dyysws):0,Number(e.dyysss)?Number(e.dyysss):0,Number(e.dyys)?Number(e.dyys):0,Number(e.yqysdyys)?Number(e.yqysdyys):0,Number(e.ysye)?Number(e.ysye):0,Number(e.nshj)?Number(e.nshj):0]),this.$nextTick(()=>{this.$refs.taxTable[0].doLayout()});let t=JSON.parse(JSON.stringify(this.tableArrys));t[0].isLoading=!1,this.tableArrys=t}else if("arrearsanalysisstatistics"===this.tableType&&"count"===e.type){this.tableArrys[0].tableData=e.data&&e.data.data?e.data.data:[],this.tableArrys[0].header=e.data&&e.data.header?e.data.header:[],this.tableArrys[0].ismultiple=!0,this.tableArrys[0].multiHeader=["项目名称","欠费总计金额","户数","欠费原因"],this.tableArrys[0].multiHeader2=["","",""],e.data.header.forEach((e,t)=>{0!==t&&this.tableArrys[0].multiHeader.push(""),this.tableArrys[0].multiHeader2.push(e.title)});let s="";s=e.data.header.length+3>26?"A"+t[e.data.header.length-24]:t[e.data.header.length+2],this.tableArrys[0].merges=["A1:A2","B1:B2","C1:C2","D1:"+("D"===s?"D2":s+"1")],this.tableArrys[0].tableName="欠费原因统计表",this.tableArrys[0].datas=this.tableArrys[0].tableData.map(t=>{let s=[t.villagename,t.all_money,t.resources_count];return e.data.header.forEach(e=>{s.push(t[e.prop])}),s});let a=JSON.parse(JSON.stringify(this.tableArrys));a[0].isLoading=!1,this.tableArrys=a}else if("arrearsanalysisstatistics"===this.tableType&&"analysis"===e.type){this.tableArrys[2].tableData=e.data&&e.data.data?e.data.data:[],this.tableArrys[2].header=e.data&&e.data.header?e.data.header:[],this.tableArrys[2].ismultiple=!0,this.tableArrys[2].multiHeader=["项目名称","欠费总计金额","户数"],this.tableArrys[2].multiHeader2=["","",""],e.data.header.forEach((e,t)=>{this.tableArrys[2].multiHeader.push(`${e.title}（${e.cycle}）`),this.tableArrys[2].multiHeader2.push(e.cycle)});let s="";s=e.data.header.length+3>26?"A"+t[e.data.header.length-24]:t[e.data.header.length+2],this.tableArrys[2].merges=["A1:A2","B1:B2","C1:C2","D1:"+("D"===s?"D2":s+"1")],this.tableArrys[2].tableName="欠费原因分析表",this.tableArrys[2].datas=this.tableArrys[2].tableData.map(t=>{let s=[t.villagename,t.all_money,t.rooms_num];return e.data.header.forEach(e=>{s.push(t[e.prop])}),s});let a=JSON.parse(JSON.stringify(this.tableArrys));a[2].isLoading=!1,this.tableArrys=a}else if("arrearsrecoverstatistics"===this.tableType&&"analysis"===e.type){this.tableArrys[2].tableData=e.data&&e.data.data?e.data.data:[],this.tableArrys[2].header=e.data&&e.data.header?e.data.header:[],this.tableArrys[2].ismultiple=!0,this.tableArrys[2].multiHeader=["项目名称","欠费总计金额","户数","欠费收回金额"],this.tableArrys[2].multiHeader2=["","","",""],e.data.header.forEach((e,t)=>{this.tableArrys[2].multiHeader.push(`${e.title}（${e.cycle}）`),this.tableArrys[2].multiHeader2.push(e.cycle)});let s="";s=e.data.header.length+4>26?"A"+t[e.data.header.length-23]:t[e.data.header.length+3],this.tableArrys[2].merges=["A1:A2","B1:B2","C1:C2","D1:D2","E1:"+("E"===s?"E2":s+"1")],this.tableArrys[2].tableName="欠费收回分析表",this.tableArrys[2].datas=this.tableArrys[2].tableData.map(t=>{let s=[t.villagename,t.all_money,t.rooms_num,t.pay_money];return e.data.header.forEach(e=>{s.push(t[e.prop])}),s});let a=JSON.parse(JSON.stringify(this.tableArrys));a[2].isLoading=!1,this.tableArrys=a}else if("arrearsdurationstatistics"===this.tableType&&"count"===e.type){this.tableArrys[0].tableData=e.data&&e.data.data?e.data.data:[],this.tableArrys[0].all_cost_header=e.data.all_cost_header,this.tableArrys[0].pay_cost_header_year=e.data.pay_cost_header_year,this.tableArrys[0].pay_cost_header_month=e.data.pay_cost_header_month,this.tableArrys[0].cost_num_header_year=e.data.cost_num_header_year,this.tableArrys[0].cost_pay_num_header_year=e.data.cost_pay_num_header_year,this.tableArrys[0].cost_pay_num_header_month=e.data.cost_pay_num_header_month,this.tableArrys[0].ismultiple=!0,this.tableArrys[0].multiHeader=["项目名称"],this.tableArrys[0].multiHeader2=[""],this.tableArrys[0].multiHeader3=[""],e.data.all_cost_header.forEach((e,t)=>{0===t&&(this.tableArrys[0].multiHeader.push("欠费金额"),this.tableArrys[0].multiHeader2.push("欠费总额"),this.tableArrys[0].multiHeader3.push("")),this.tableArrys[0].multiHeader.push(""),this.tableArrys[0].multiHeader2.push(e.title),this.tableArrys[0].multiHeader3.push(e.cycle)}),e.data.pay_cost_header_month.forEach((e,t)=>{0===t?(this.tableArrys[0].multiHeader.push("欠费金额收回情况"),this.tableArrys[0].multiHeader2.push("累计收回欠费金额"),this.tableArrys[0].multiHeader2.push("月份收回展示"),this.tableArrys[0].multiHeader3.push("")):this.tableArrys[0].multiHeader2.push(""),this.tableArrys[0].multiHeader.push(""),this.tableArrys[0].multiHeader3.push(e.title)}),e.data.pay_cost_header_year.forEach((e,t)=>{this.tableArrys[0].multiHeader.push(""),this.tableArrys[0].multiHeader2.push(e.title),this.tableArrys[0].multiHeader3.push(e.cycle)}),e.data.cost_num_header_year.forEach((e,t)=>{0===t&&(this.tableArrys[0].multiHeader.push("欠费户数"),this.tableArrys[0].multiHeader2.push("欠费总户数"),this.tableArrys[0].multiHeader3.push("")),this.tableArrys[0].multiHeader.push(""),this.tableArrys[0].multiHeader2.push(e.title),this.tableArrys[0].multiHeader3.push(e.cycle)}),e.data.cost_pay_num_header_month.forEach((e,t)=>{0===t?(this.tableArrys[0].multiHeader.push("欠费户数收回情况"),this.tableArrys[0].multiHeader2.push("累计收回欠费户数"),this.tableArrys[0].multiHeader2.push("月份收回展示"),this.tableArrys[0].multiHeader3.push("")):this.tableArrys[0].multiHeader2.push(""),this.tableArrys[0].multiHeader.push(""),this.tableArrys[0].multiHeader3.push(e.title)}),e.data.cost_pay_num_header_year.forEach((e,t)=>{this.tableArrys[0].multiHeader.push(""),this.tableArrys[0].multiHeader2.push(e.title),this.tableArrys[0].multiHeader3.push(e.cycle)});let s=e.data.all_cost_header.length+1,a=e.data.pay_cost_header_month.length+e.data.pay_cost_header_year.length+1,i=e.data.cost_num_header_year.length+1,r=e.data.cost_pay_num_header_month.length+e.data.cost_pay_num_header_year.length+1,l="",o="",n="",m="",c="",h="",u="";s+1>26?(l="A"+t[s-26],o="A"+t[s-25]):(l=t[s],o=t[s+1]),s+a+1>26?(n="A"+t[s+a-26],m="A"+t[s+a-25]):(n=t[s+a],m=t[s+a+1]),s+a+i+1>26?(c="A"+t[s+a+i-26],h="A"+t[s+a+i-25]):(c=t[s+a+i],h=t[s+a+i+1]),u=s+a+i+r+1>26?"A"+t[s+a+i+r-26]:t[s+a+i+r],this.tableArrys[0].merges=["A1:A3","B1:"+(l+"1"),`${o+"1"}:${n+"1"}`,`${m+"1"}:${c+"1"}`,`${h+"1"}:${u+"1"}`],this.tableArrys[0].tableName="欠费时长统计表",this.tableArrys[0].datas=this.tableArrys[0].tableData.map(t=>{let s=[t.villagename,t.all_cost_money];return e.data.all_cost_header.forEach(e=>{s.push(t[e.prop])}),s.push(t.pay_cost_money),e.data.pay_cost_header_month.forEach(e=>{s.push(t[e.prop])}),e.data.pay_cost_header_year.forEach(e=>{s.push(t[e.prop])}),s.push(t.cost_num_num),e.data.cost_num_header_year.forEach(e=>{s.push(t[e.prop])}),s.push(t.cost_pay_num_num),e.data.cost_pay_num_header_month.forEach(e=>{s.push(t[e.prop])}),e.data.cost_pay_num_header_year.forEach(e=>{s.push(t[e.prop])}),s});let b=JSON.parse(JSON.stringify(this.tableArrys));b[0].isLoading=!1,this.tableArrys=b}else if("roomssubjectinfostatistics"===this.tableType&&"count"===e.type){this.tableArrys[0].tableData=e.data&&e.data.data?e.data.data:[],this.$refs["xeTable0"][0].loadData(e.data.data);let s=[];e.data.subject.forEach((e,t)=>{s.push({label:e.name,pay_money:"pay"+e.id,refund_money:"refund"+e.id})}),this.tableArrys[0].dynamicTableTitles=s,this.tableArrys[0].header=e.data&&e.data.header?e.data.header:[],this.tableArrys[0].ismultiple=!0,this.tableArrys[0].multiHeader=["项目","房号","资源类型","房屋面积","现业主名字","交房状态","装修状态","入住状态"],this.tableArrys[0].multiHeader2=["","","","","","","",""],this.tableArrys[0].merges=["A1:A2","B1:B2","C1:C2","D1:D2","E1:E2","F1:F2","G1:G2","H1:H2"],e.data.subject.forEach((e,s)=>{this.tableArrys[0].multiHeader.push(""+e.name),this.tableArrys[0].multiHeader.push(""),this.tableArrys[0].multiHeader2.push("收费金额"),this.tableArrys[0].multiHeader2.push("退费金额");let a=parseInt((2*s+9)/26),i=(2*s+9)%26;2*s+9<26?this.tableArrys[0].merges.push(`${t[8+2*s]}1:${t[9+2*s]}1`):0===i?this.tableArrys[0].merges.push(`${t[a]}Z1:${t[a+1]}${t[0]}1`):this.tableArrys[0].merges.push(`${t[a]}${t[i-1]}1:${t[a]}${t[i]}1`)}),this.tableArrys[0].tableName="房源欠费一览表",this.tableArrys[0].datas=this.tableArrys[0].tableData.map(t=>{let s=[t.villagename,t.roomnum,t.resources_type_name,t.buildareas,t.realname,t.check,t.isdecorate,t.into_house];return e.data.subject.forEach((e,a)=>{s.push(t["pay"+e.id]),s.push(t["refund"+e.id])}),s}),this.tableArrys[0].tableTitles=[{prop:"villagename",label:"项目"},{prop:"roomnum",label:"房号"},{prop:"resources_type_name",label:"资源类型"},{prop:"buildareas",label:"房屋面积"},{prop:"realname",label:"现业主名字"},{prop:"check",label:"交房状态"},{prop:"isdecorate",label:"装修状态"},{prop:"into_house",label:"入住状态"}];let a=JSON.parse(JSON.stringify(this.tableArrys));a[0].isLoading=!1,this.tableArrys=a}else if("housekeepercostcountstatistics"===this.tableType&&"count"===e.type){this.tableArrys[0].tableData=[],e.data&&e.data.length>0&&e.data.forEach(e=>{let t={villagename:e.name,...e.stewards[0]};this.tableArrys[0].tableData.push(t)}),this.tableArrys[0].tableName="楼栋管家统计表",this.tableArrys[0].ismultiple=!0,this.tableArrys[0].multiHeader=["项目名称","管家","楼栋","本月应收金额","应收本月","","","本月实收","","","","","收缴率"],this.tableArrys[0].multiHeader2=["","","","","应收往年","应收往月","应收本月","实收往年","实收往月","实收本月","本月预收","实收总计",""],this.tableArrys[0].merges=["A1:A2","B1:B2","C1:C2","D1:D2","E1:G1","H1:L1","M1:M2"],this.tableArrys[0].datas=this.tableArrys[0].tableData.map(e=>[e.villagename,e.realname,e.unit_name,e.byysje,e.yswn,e.yswy,e.ysby,e.sswn,e.sswy,e.ssby,e.byys,e.sszj,e.sjl]),this.$nextTick(()=>{this.$refs.taxTable[0].doLayout()});let t=JSON.parse(JSON.stringify(this.tableArrys));t[0].isLoading=!1,this.tableArrys=t}else this.tableDataHandle(e.data,e.type)},filterAgain(){this.tableArrys.forEach(e=>{e.tableData=[]}),this.$emit("queryAgain")},exportExcel(){if(!this.tableArrys[this.currentIndex?this.currentIndex:0].isLoading)try{this.tableArrys[this.currentIndex].ismultiple?Promise.all([s.e("chunk-3a869cfb"),s.e("chunk-2a5081b0"),s.e("chunk-2dffb9fa")]).then(s.bind(null,"b395")).then(e=>{let t={multiHeader:this.tableArrys[this.currentIndex].multiHeader,multiHeader2:this.tableArrys[this.currentIndex].multiHeader2,data:this.tableArrys[this.currentIndex].datas,merges:this.tableArrys[this.currentIndex].merges,filename:this.tableArrys[this.currentIndex].tableName};this.tableArrys[this.currentIndex].multiHeader3&&this.tableArrys[this.currentIndex].multiHeader3.length>0&&(t.multiHeader3=this.tableArrys[this.currentIndex].multiHeader3),console.log(t),e.export_json_to_excel(t)}):Promise.all([s.e("chunk-3a869cfb"),s.e("chunk-2a5081b0"),s.e("chunk-3f768d28")]).then((()=>{let{export_json_to_excel:e}=s("628d");e(this.tableArrys[this.currentIndex].headers,this.tableArrys[this.currentIndex].datas,this.tableArrys[this.currentIndex].tableName)}).bind(null,s)).catch(s.oe),this.$notify({type:"success",title:"温馨提示",message:"导出报表成功",duration:1500})}catch(e){this.$notify({type:"error",title:"温馨提示",message:"导出报表失败",duration:1500})}},getSummaries(e){const{columns:t,data:s}=e,a=[];return t.forEach((e,t)=>{if("carrecordstatistics"===this.tableType&&4===t){let e=0,i=0;s.forEach(t=>{e=_.add(Number(e),Number(t.need_pay)),i=_.add(Number(i),Number(t.reduction_money))}),a[t]=_.round(100*_.divide(Number(i),Number(e)),2).toFixed(2)+"%"}else{if(0===t)return void(a[t]="合计");const i=s.map(t=>Number(t[e.property]));i.every(e=>isNaN(e))?a[t]=0:a[t]=i.reduce((e,t)=>{const s=Number(t);return isNaN(s)?e:_.round(_.add(Number(e),Number(t)),2).toFixed(2)},0)}}),a},cellClassName({row:e,column:t}){return 1!=e.is_info||"结转往月"!==t.label&&"实收往月"!==t.label&&"本月分摊"!==t.label?"":"click-text"},cellClick(e,t){1!=e.is_info||"结转往月"!==t.label&&"实收往月"!==t.label&&"本月分摊"!==t.label||(this.showSourceDialog=!0,this.getResourceData(e))},getResourceData(e){this.sourceLoading=!0;let t={vid:e.vid,subject_id:e.subject_id,starttime:this.filter.starttime,endtime:this.filter.endtime,pay_type:this.filter.pay_type,is_tax:"count"===this.activeName?1:2};this.$axios.post(this.urlObj.financemonthinfo,t).then(e=>{if(200===e.Code)this.$refs.sourceTable.loadData(e.Data);else{let t=e.Message?e.Message:"获取明细来源数据失败！";this.$message({message:t,type:"error"})}this.sourceLoading=!1}).catch(()=>{this.sourceLoading=!1})}}},o=l,n=(s("4e85"),s("1805")),m=Object(n["a"])(o,a,i,!1,null,null,null);t["a"]=m.exports},"97ba":function(e,t,s){"use strict";var a=s("0f07"),i=s("fda4").left,r=s("a7f6"),l=s("2e13"),o=s("ea45"),n=!o&&l>79&&l<83,m=n||!r("reduce");a({target:"Array",proto:!0,forced:m},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},"9c15":function(e,t,s){"use strict";s("2e96")},a7f6:function(e,t,s){"use strict";var a=s("c54e");e.exports=function(e,t){var s=[][e];return!!s&&a((function(){s.call(null,t||function(){return 1},1)}))}},c252:function(e,t,s){},d881:function(e,t,s){"use strict";s("16ad")},ea45:function(e,t,s){"use strict";var a=s("2da6");e.exports="NODE"===a},f21c:function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"preselect"}},[t("el-scrollbar",{staticStyle:{height:"calc(100% - 5rem)"}},[t("div",{staticClass:"main-wp"},[t("h3",[e._v(e._s(e.title))]),t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"hide-required-asterisk":!0}},[t("el-form-item",{attrs:{label:"项目选择",prop:"village"}},[t("el-select",{staticClass:"village",attrs:{multiple:"","collapse-tags":"","popper-class":"customSelect",placeholder:"默认全部","popper-append-to-body":!0},model:{value:e.ruleForm.village,callback:function(t){e.$set(e.ruleForm,"village",t)},expression:"ruleForm.village"}})],1),e.showBuild?t("el-form-item",{attrs:{label:"楼栋选择",prop:"build"}},[t("el-select",{attrs:{clearable:"",multiple:"","collapse-tags":"",placeholder:"默认全部"},on:{change:e.buildChange},model:{value:e.ruleForm.build,callback:function(t){e.$set(e.ruleForm,"build",t)},expression:"ruleForm.build"}},e._l(e.buildOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.block,value:e.id}})})),1)],1):e._e(),e.showUnit?t("el-form-item",{attrs:{label:"单元选择",prop:"unit"}},[t("el-select",{attrs:{clearable:"",multiple:"","collapse-tags":"",placeholder:"默认全部"},on:{change:e.unitChange},model:{value:e.ruleForm.unit,callback:function(t){e.$set(e.ruleForm,"unit",t)},expression:"ruleForm.unit"}},e._l(e.unitOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.block+" / "+e.unit,value:e.id}})})),1)],1):e._e(),e.showRoom?t("el-form-item",{attrs:{label:"房号选择",prop:"room"}},[t("el-select",{attrs:{clearable:"","collapse-tags":"",multiple:"",placeholder:"默认全部"},model:{value:e.ruleForm.room,callback:function(t){e.$set(e.ruleForm,"room",t)},expression:"ruleForm.room"}},e._l(e.roomOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.roomnum,value:e.id}})})),1)],1):e._e(),e.showSubject?t("el-form-item",{staticClass:"tree-wp",attrs:{label:"科目选择",prop:"subject"}},[t("tree-select",{ref:"treeSelect",attrs:{data:e.subTreeOptions,defaultProps:{label:"name",value:"id"},multiple:"",nodeKey:"id"},on:{popoverHide:e.popoverHide}})],1):e._e(),"advancecollectstatistics"===e.preType?t("el-form-item",{staticClass:"tree-wp",attrs:{label:"预收科目",prop:"subject"}},[t("el-select",{attrs:{clearable:"",multiple:"","collapse-tags":"",placeholder:"默认全部"},model:{value:e.ruleForm.subject,callback:function(t){e.$set(e.ruleForm,"subject",t)},expression:"ruleForm.subject"}},e._l(e.subjectOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),e.showPayment?t("el-form-item",{attrs:{label:"收费方式",prop:"payment"}},[t("el-select",{attrs:{clearable:"",multiple:"","collapse-tags":"",placeholder:"默认全部"},model:{value:e.ruleForm.payment,callback:function(t){e.$set(e.ruleForm,"payment",t)},expression:"ruleForm.payment"}},e._l(e.paymentOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),e.showInvoice?t("el-form-item",{attrs:{label:"开具发票",prop:"invoice"}},[t("el-select",{attrs:{multiple:"","collapse-tags":"",clearable:"",placeholder:"默认全部"},model:{value:e.ruleForm.invoice,callback:function(t){e.$set(e.ruleForm,"invoice",t)},expression:"ruleForm.invoice"}},e._l(e.invoiceOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"combinationstatistics"===e.preType||"housekeepercostcountstatistics"===e.preType?t("el-form-item",{attrs:{label:"交房状态",prop:"check"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择交房状态"},model:{value:e.ruleForm.check,callback:function(t){e.$set(e.ruleForm,"check",t)},expression:"ruleForm.check"}},[t("el-option",{key:1,attrs:{label:"未交房",value:1}}),t("el-option",{key:2,attrs:{label:"已交房",value:2}})],1)],1):e._e(),"combinationstatistics"===e.preType||"housekeepercostcountstatistics"===e.preType?t("el-form-item",{attrs:{label:"选择模式",prop:"pattern"}},[t("el-select",{attrs:{placeholder:"请选择模式"},model:{value:e.ruleForm.pattern,callback:function(t){e.$set(e.ruleForm,"pattern",t)},expression:"ruleForm.pattern"}},[t("el-option",{key:1,attrs:{label:"应收模式",value:1}}),t("el-option",{key:2,attrs:{label:"欠费模式",value:2}})],1)],1):e._e(),"arrearsanalysisstatistics"===e.preType||"arrearsrecoverstatistics"===e.preType||"arrearsdurationstatistics"===e.preType?t("el-form-item",{attrs:{label:"分析年份数量",prop:"yearNum"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入分析年份数量"},model:{value:e.ruleForm.yearNum,callback:function(t){e.$set(e.ruleForm,"yearNum",t)},expression:"ruleForm.yearNum"}})],1):e._e(),e.showDate?t("div",{staticStyle:{width:"100%",display:"flex"}},[t("el-form-item",{attrs:{label:e.timeTitle+"开始时间",prop:"stime"}},[t("el-date-picker",{attrs:{type:e.timeType,align:"center","picker-options":e.spickerOptions,"value-format":e.valueFormat,placeholder:"请选择开始时间"},model:{value:e.ruleForm.stime,callback:function(t){e.$set(e.ruleForm,"stime",t)},expression:"ruleForm.stime"}})],1),t("span",{staticStyle:{color:"#999",position:"relative",width:"0",height:"0",bottom:"-2.5rem",left:"-0.3rem"}},[e._v(" ~ ")]),t("el-form-item",{attrs:{label:e.timeTitle+"结束时间",prop:"etime"}},[t("el-date-picker",{attrs:{type:e.timeType,align:"center","picker-options":e.epickerOptions,"value-format":e.valueFormat,placeholder:"请选择结束时间"},model:{value:e.ruleForm.etime,callback:function(t){e.$set(e.ruleForm,"etime",t)},expression:"ruleForm.etime"}})],1)],1):e._e(),"combinationstatistics"===e.preType||"arrearsrecoverstatistics"===e.preType||"housekeepercostcountstatistics"===e.preType?t("div",{staticStyle:{width:"100%",display:"flex"}},[t("el-form-item",{attrs:{label:"combinationstatistics"===e.preType||"arrearsrecoverstatistics"===e.preType||"housekeepercostcountstatistics"===e.preType?"实收开始时间":"收款开始时间",prop:"sstime"}},[t("el-date-picker",{attrs:{type:"arrearsrecoverstatistics"===e.preType?"date":"datetime",align:"center","picker-options":e.sspickerOptions,"value-format":"timestamp",placeholder:"请选择开始时间"},model:{value:e.ruleForm.sstime,callback:function(t){e.$set(e.ruleForm,"sstime",t)},expression:"ruleForm.sstime"}})],1),t("span",{staticStyle:{color:"#999",position:"relative",width:"0",height:"0",bottom:"-2.5rem",left:"-0.3rem"}},[e._v(" ~ ")]),t("el-form-item",{attrs:{label:"combinationstatistics"===e.preType||"arrearsrecoverstatistics"===e.preType||"housekeepercostcountstatistics"===e.preType?"实收结束时间":"收款结束时间",prop:"setime"}},[t("el-date-picker",{attrs:{type:"arrearsrecoverstatistics"===e.preType?"date":"datetime",align:"center","picker-options":e.sepickerOptions,"value-format":"timestamp",placeholder:"请选择结束时间"},model:{value:e.ruleForm.setime,callback:function(t){e.$set(e.ruleForm,"setime",t)},expression:"ruleForm.setime"}})],1)],1):e._e(),"budgetstatistics"===e.preType?t("el-form-item",{attrs:{label:"年限范围",prop:"year"}},[t("el-date-picker",{attrs:{type:"year",placeholder:"选择年限","value-format":"yyyy"},model:{value:e.ruleForm.year,callback:function(t){e.$set(e.ruleForm,"year",t)},expression:"ruleForm.year"}})],1):e._e(),e.showEndtime?t("el-form-item",{attrs:{label:e.etimeTitle,prop:"endTime"}},[t("el-date-picker",{attrs:{type:e.etimeType,placeholder:"选择截止日期","value-format":"timestamp"},model:{value:e.ruleForm.endTime,callback:function(t){e.$set(e.ruleForm,"endTime",t)},expression:"ruleForm.endTime"}})],1):e._e()],1)],1)]),t("div",{staticClass:"btn-wp"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:e.queryStart}},[e._v(" 开始查询 ")]),t("el-button",{staticClass:"empty",attrs:{type:"primary",round:""},on:{click:e.resetForm}},[e._v(" 重置条件 ")])],1)],1)},i=[],r=(s("5948"),function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSelect,expression:"isShowSelect"}],staticClass:"mask",on:{click:function(t){e.isShowSelect=!e.isShowSelect}}}),t("el-popover",{attrs:{placement:"bottom-start",width:e.width,trigger:"manual"},on:{hide:e.popoverHide},model:{value:e.isShowSelect,callback:function(t){e.isShowSelect=t},expression:"isShowSelect"}},[t("el-input",{staticClass:"tree-search",attrs:{placeholder:"输入关键字过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),t("el-scrollbar",{staticStyle:{height:"calc(100% - 2.5rem)"}},[t("el-tree",{ref:"tree",staticClass:"common-tree",style:e.style,attrs:{data:e.data,props:e.defaultProps,"show-checkbox":e.multiple,"node-key":e.nodeKey,"check-strictly":e.checkStrictly,"filter-node-method":e.filterNode,"default-checked-keys":e.defaultCheckedKeys,"highlight-current":!0},on:{"node-click":e.handleNodeClick,"check-change":e.handleCheckChange}})],1),t("el-select",{ref:"select",staticClass:"tree-select",style:e.selectStyle,attrs:{slot:"reference",multiple:e.multiple,"collapse-tags":"",placeholder:"请选择科目"},nativeOn:{click:function(t){e.isShowSelect=!e.isShowSelect}},slot:"reference",model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)}),l=[],o={name:"tree-select",props:{data:{type:Array,default(){return[]}},defaultProps:{type:Object,default(){return{}}},multiple:{type:Boolean,default(){return!1}},nodeKey:{type:String,default(){return"id"}},checkStrictly:{type:Boolean,default(){return!1}},checkedKeys:{type:Array,default(){return[]}},width:{type:Number,default(){return 240}},height:{type:Number,default(){return 300}}},data(){return{defaultCheckedKeys:[],isShowSelect:!1,options:[],selectedData:[],style:"width:"+this.width+"px;",selectStyle:"width:"+(this.width+10)+"px;",checkedIds:[],checkedData:[],filterText:""}},watch:{filterText(e){this.$refs.tree.filter(e)},isShowSelect(e){this.$refs.select.blur()}},mounted(){if(this.checkedKeys.length>0)if(this.multiple)this.defaultCheckedKeys=this.checkedKeys,this.selectedData=this.checkedKeys.map(e=>{var t=this.$refs.tree.getNode(e);return t.label});else{var e=this.checkedKeys[0];this.$refs.tree.setCurrentKey(e);var t=this.$refs.tree.getNode(e);this.selectedData=t.label}},methods:{filterNode(e,t){return!e||-1!==t.name.indexOf(e)},popoverHide(){this.multiple?(this.checkedIds=this.$refs.tree.getCheckedKeys(),this.checkedData=this.$refs.tree.getCheckedNodes()):(this.checkedIds=this.$refs.tree.getCurrentKey(),this.checkedData=this.$refs.tree.getCurrentNode()),this.$emit("popoverHide",this.checkedIds,this.checkedData,this.selectedData)},handleNodeClick(e,t){if(!this.multiple){let e={};e.value=t.key,e.label=t.label,this.options=[],this.options.push(e),this.selectedData=t.label,this.isShowSelect=!this.isShowSelect}},handleCheckChange(){var e=this.$refs.tree.getCheckedKeys();this.options=e.map(e=>{var t=this.$refs.tree.getNode(e);let s={};return s.value=t.key,s.label=t.label,s}),this.selectedData=this.options.map(e=>e.label)},clearData(){this.defaultCheckedKeys=[],this.selectedData=[],this.$refs.tree.setCheckedKeys([])}}},n=o,m=(s("d881"),s("9c15"),s("1805")),c=Object(m["a"])(n,r,l,!1,null,"43a84c9e",null),h=c.exports,u={name:"preselect",components:{TreeSelect:h},props:{preType:{type:String,default:""}},data(){return{urlObj:{treeData:this.$api.state.Means.treeData.url,subTreeData:this.$api.state.Setting.treeData.url,paymentList:this.$api.state.Setting.paymentList.url,allsubject:this.$api.state.Public.allsubject.url,buildOfVillage:this.$api.state.Public.buildOfVillage.url,unitOfBuild:this.$api.state.Public.unitOfBuild.url,searchUnit:this.$api.state.Public.searchUnit.url,roomOfUnit:this.$api.state.Public.roomOfUnit.url,getadvancesub:this.$api.state.Report.getadvancesub.url,depositsubject:this.$api.state.Report.depositsubject.url},isShowSelect:!1,ruleForm:{village:[],build:[],unit:[],room:[],subject:[],payment:[],invoice:[],stime:"",etime:"",sstime:"",setime:"",year:"",endTime:"",pattern:1,check:"",yearNum:""},rules:{village:[{required:!1,message:"请选择项目",trigger:"change"}],build:[{required:!1,message:"请选择楼栋",trigger:"change"}],unit:[{required:!1,message:"请选择单元",trigger:"change"}],room:[{required:!1,message:"请选择房号",trigger:"change"}],subject:[{required:!1,message:"请选择科目",trigger:"blur"}],payment:[{required:!1,message:"请选择收费方式",trigger:"change"}],invoice:[{required:!1,message:"请选择是否开具发票",trigger:"change"}],stime:[{required:!1,message:"请选择开始时间",trigger:"change"}],etime:[{required:!1,message:"请选择结束时间",trigger:"change"}],sstime:[{required:!1,message:"请选择实收开始时间",trigger:"change"}],setime:[{required:!1,message:"请选择实收结束时间",trigger:"change"}],year:[{required:!0,message:"请选择年限",trigger:"change"}],endTime:[{required:!1,message:"请选择截止日期",trigger:"change"}],pattern:[{required:!0,message:"请选择模式",trigger:"change"}],check:[{required:!1,message:"请选择交房状态",trigger:"change"}],yearNum:[{required:!0,message:"请输入分析年份数量",trigger:"blur"}]},title:"",timeTitle:"",timeType:"",valueFormat:"timestamp",etimeTitle:"",etimeType:"",villageSelected:[],buildOptions:[],unitOptions:[],roomOptions:[],subTreeOptions:[],subjectOptions:[],subNames:[],paymentOptions:[],invoiceOptions:[{value:1,label:"发票"},{value:2,label:"收据"}],showBuild:!0,showUnit:!0,showRoom:!0,showSubject:!0,showPayment:!0,showInvoice:!0,showDate:!0,showEndtime:!0}},computed:{vid(){return this.$store.state.vid},spickerOptions(){return{disabledDate:e=>{if(e){let t=this.ruleForm.etime;return"sharestatistics"===this.preType&&(t=t?new Date(t).getTime():""),!!t&&e.getTime()>t}}}},epickerOptions(){return{disabledDate:e=>{if(e){let t=this.ruleForm.stime;return"sharestatistics"===this.preType&&(t=t?new Date(t).getTime():""),!!t&&e.getTime()<t}}}},sspickerOptions(){return{disabledDate:e=>{if(e)return!!this.ruleForm.setime&&e.getTime()>this.ruleForm.setime}}},sepickerOptions(){return{disabledDate:e=>{if(e)return!!this.ruleForm.sstime&&e.getTime()<this.ruleForm.sstime}}}},watch:{isShowSelect(){this.$refs.select.blur()}},created(){this.init()},methods:{dateFormat(e,t){if(e){e=new Date(1e3*Number(e));let s=e.getFullYear(),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getDate()<10?"0"+e.getDate():e.getDate(),r=e.getHours()<10?"0"+e.getHours():e.getHours(),l=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return"datetime"==t?s+"-"+a+"-"+i+" "+r+":"+l+":"+o:"month"==t?s+"-"+a:s+"-"+a+"-"+i}return""},popoverHide(e,t,s){this.subNames=s;let a=[];t.forEach(e=>{1===e.is_end&&a.push(e.id)}),this.ruleForm.subject=a,"financemonthstatistics"!==this.preType&&"sharestatistics"!==this.preType||this.$refs.ruleForm.validateField("subject")},init(){switch(this.preType){case"reportstatistics":this.title="实收统计报表",this.timeTitle="实收",this.timeType="datetime",this.showEndtime=!1,this.getVillageData(),this.getSubjectTreeData(),this.getPaymentData();break;case"receivablestatistics":this.title="应收统计报表",this.timeTitle="应收",this.timeType="month",this.showPayment=!1,this.showInvoice=!1,this.showEndtime=!1,this.getVillageData(),this.getSubjectTreeData();break;case"arrearsstatistics":this.title="欠费统计报表",this.timeTitle="应收",this.timeType="month",this.etimeTitle="实收截止时间",this.etimeType="datetime",this.showPayment=!1,this.showInvoice=!1,this.getVillageData(),this.getSubjectTreeData();break;case"advancecollectstatistics":this.title="资源预收统计报表",this.showSubject=!1,this.timeTitle="预收",this.timeType="date",this.etimeTitle="预收截止时间",this.etimeType="date",this.showInvoice=!1,this.getVillageData(),this.getPreSubject(),this.getPaymentData();break;case"refundstatistics":this.title="退款统计报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showPayment=!1,this.showInvoice=!1,this.showEndtime=!1,this.timeTitle="退款",this.timeType="date",this.getVillageData(),this.getSubjectTreeData();break;case"ownerHouse":this.title="业主及房产统计报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showSubject=!1,this.showPayment=!1,this.showInvoice=!1,this.showDate=!1,this.showEndtime=!1,this.rules.village=[{required:!0,message:"请选择项目",trigger:"change"}],this.getVillageData();break;case"resources":this.title="资源明细报表";break;case"financemonthstatistics":this.title="财务月报表报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showEndtime=!1,this.showInvoice=!1,this.timeTitle="",this.timeType="month",this.rules.village=[{required:!0,message:"请选择项目",trigger:"change"}],this.rules.subject=[{required:!0,message:"请选择科目",trigger:"blur"}],this.rules.stime=[{required:!0,message:"请选择开始时间",trigger:"blur"}],this.rules.etime=[{required:!0,message:"请选择结束时间",trigger:"blur"}],this.getVillageData(),this.getSubjectTreeData(),this.getPaymentData();break;case"cashaccountstatistics":this.title="现金台账报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showEndtime=!1,this.showInvoice=!1,this.showSubject=!1,this.showPayment=!1,this.timeTitle="实收",this.timeType="datetime",this.rules.village=[{required:!0,message:"请选择项目",trigger:"change"}],this.getVillageData();break;case"combinationstatistics":this.title="组合报表报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showInvoice=!1,this.timeTitle="应收",this.timeType="month",this.showEndtime=!1,this.getVillageData(),this.getSubjectTreeData(),this.getPaymentData();break;case"wegcoststatistics":this.title="三表抄表统计报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showInvoice=!1,this.showPayment=!1,this.showEndtime=!1,this.timeTitle="应收",this.timeType="datetime",this.getVillageData(),this.getSubjectTreeData();break;case"budgetstatistics":this.title="预算统计报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showInvoice=!1,this.showSubject=!1,this.showDate=!1,this.etimeTitle="实收截止时间",this.etimeType="datetime",this.getVillageData(),this.getPaymentData();break;case"sharestatistics":this.title="分摊统计报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showInvoice=!1,this.showEndtime=!1,this.timeTitle="月份",this.timeType="month",this.valueFormat="yyyy-MM",this.rules.village=[{required:!0,message:"请选择项目",trigger:"change"}],this.rules.subject=[{required:!0,message:"请选择科目",trigger:"blur"}],this.getVillageData(),this.getSubjectTreeData(),this.getPaymentData();break;case"carrecordstatistics":this.title="停车场收费统计表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showSubject=!1,this.showInvoice=!1,this.showEndtime=!1,this.timeTitle="缴费",this.timeType="datetime",this.getVillageData(),this.getPaymentData();break;case"taxescomputestatistics":this.title="当期纳税计算表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showInvoice=!1,this.showPayment=!1,this.showEndtime=!1,this.timeTitle="归属月",this.timeType="month",this.rules.subject=[{required:!0,message:"请选择科目",trigger:"blur"}],this.getVillageData(),this.getSubjectTreeData();break;case"depositstatistics":this.title="押金统计报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showInvoice=!1,this.showPayment=!1,this.showEndtime=!1,this.timeTitle="缴费",this.timeType="date",this.rules.subject=[{required:!0,message:"请选择科目",trigger:"blur"}],this.getVillageData(),this.getDepositSubject();break;case"advancedepositstatistics":this.title="预存款统计报表",this.showBuild=!1,this.showUnit=!1,this.showRoom=!1,this.showInvoice=!1,this.showPayment=!1,this.showEndtime=!1,this.showSubject=!1,this.timeTitle="缴费",this.timeType="date",this.getVillageData();break;case"arrearsanalysisstatistics":this.title="欠费原因分析表",this.showRoom=!1,this.showInvoice=!1,this.showPayment=!1,this.timeTitle="应收",this.timeType="month",this.etimeTitle="截止时间",this.etimeType="date",this.getVillageData(),this.getSubjectTreeData();break;case"arrearsrecoverstatistics":this.title="收回情况统计表",this.showRoom=!1,this.showInvoice=!1,this.showPayment=!1,this.timeTitle="应收",this.timeType="month",this.etimeTitle="截止时间",this.etimeType="date",this.getVillageData(),this.getSubjectTreeData();break;case"arrearsdurationstatistics":this.title="欠费时长分析表",this.showRoom=!1,this.showInvoice=!1,this.showPayment=!1,this.timeTitle="应收",this.timeType="date",this.etimeTitle="截止时间",this.etimeType="date",this.getVillageData(),this.getSubjectTreeData();break;case"roomssubjectinfostatistics":this.title="房源收费一览表",this.showRoom=!1,this.showInvoice=!1,this.showPayment=!1,this.showSubject=!1,this.showBuild=!1,this.showEndtime=!1,this.showUnit=!1,this.timeTitle="收款",this.timeType="date",this.etimeTitle="截止时间",this.etimeType="date",this.getVillageData();break;case"housekeepercostcountstatistics":this.title="楼栋管家统计表",this.showRoom=!1,this.showInvoice=!1,this.showBuild=!1,this.showEndtime=!1,this.showPayment=!1,this.showUnit=!1,this.showCard=!1,this.timeTitle="应收",this.timeType="date",this.etimeTitle="截止时间",this.etimeType="date",this.rules.subject=[{required:!0,message:"请选择科目",trigger:"blur"}],this.rules.sstime=[{required:!0,message:"请选择实收开始时间",trigger:"change"}],this.rules.setime=[{required:!0,message:"请选择实收结束时间",trigger:"change"}],this.getVillageData(),this.getSubjectTreeData();break}},getVillageData(){this.$axios.post(this.urlObj.treeData).then(e=>{if(200===e.Code){let t="";e.Data&&e.Data.length>0&&e.Data.forEach(e=>{let s="";e.children&&e.children.length>0&&e.children.forEach(t=>{t.id==this.vid?(s+=`<li id="${t.id}" pid="${e.id}" class="active">${t.label}</li>`,this.villageSelected=[{id:t.id,name:t.label}],this.ruleForm.village=[t.label],this.villageChange()):s+=`<li id="${t.id}" pid="${e.id}">${t.label}</li>`});let a="";a=1===e.children.length&&e.children[0].id==this.vid?`\n                  <div class="city">\n                    <div class="title">${e.label}</div>\n                    <ul>\n                      <li id="0" pid="${e.id}" class="active">全选</li>\n                      ${s}\n                    </ul>\n                  </div>\n                `:`\n                  <div class="city">\n                    <div class="title">${e.label}</div>\n                    <ul>\n                      <li id="0" pid="${e.id}">全选</li>\n                      ${s}\n                    </ul>\n                  </div>\n                `,t+=a});let s=document.querySelector(".el-select-dropdown.customSelect");s.style.width="45%",s.style.height="45%";let a=document.querySelector(".el-select-dropdown.customSelect .el-scrollbar");a.style.display="block",a.style.height="100%";let i=document.querySelector(".el-select-dropdown.customSelect .el-scrollbar .el-select-dropdown__wrap");i.style.height="100%",i.style.maxHeight="500px",i.style.overflowX="auto";let r=document.querySelector(".el-select-dropdown.customSelect .el-select-dropdown__empty");r.style.display="none";let l=document.querySelector(".el-select-dropdown.customSelect .el-scrollbar__view");e.Data&&1===e.Data.length&&1===e.Data[0].children.length&&e.Data[0].children[0].id==this.vid?l.innerHTML=`<div class="select-content active">\n              <div class="select-all">选择全部</div>\n              ${t}</div>`:l.innerHTML=`<div class="select-content">\n              <div class="select-all">选择全部</div>\n              ${t}</div>`,this.bindIncident()}else this.$message({type:"error",message:"项目数据获取失败！"})}).catch(()=>{})},bindIncident(){this.$nextTick(()=>{let e=document.querySelector(".select-content .select-all");e.addEventListener("click",()=>{e.classList.contains("active")?(e.classList.remove("active"),t.forEach(e=>{e.classList.remove("active")})):(e.classList.add("active"),t.forEach(e=>{e.classList.add("active")})),this.setVillage()},!1);let t=document.querySelectorAll(".select-content ul li");t.forEach(t=>{t.onclick=t=>{let s=t.target,a=s.getAttribute("pid");if("0"==s.getAttribute("id")){let t=document.querySelectorAll(`.select-content ul li[pid='${a}']`);if(s.classList.contains("active"))t.forEach(e=>{e.classList.remove("active")}),s.classList.remove("active"),e.classList.remove("active");else{t.forEach(e=>{e.classList.add("active")}),s.classList.add("active");let a=document.querySelectorAll(".select-content ul li"),i=!0;for(let e=0;e<a.length;e++)if(!a[e].classList.contains("active")){i=!1;break}i&&e.classList.add("active")}}else{let t=document.querySelector(`.select-content ul li[id='0'][pid='${a}']`);if(s.classList.contains("active"))s.classList.remove("active"),t.classList.remove("active"),e.classList.remove("active");else{s.classList.add("active");let i=document.querySelectorAll(`.select-content ul li[pid='${a}']`),r=!0;for(let e=1;e<i.length;e++)if(!i[e].classList.contains("active")){r=!1;break}r&&t.classList.add("active");let l=document.querySelectorAll(".select-content ul li"),o=!0;for(let e=0;e<l.length;e++)if(!l[e].classList.contains("active")){o=!1;break}o&&e.classList.add("active")}}this.setVillage()}})})},setVillage(){let e=document.querySelectorAll(".select-content ul li"),t=[];e.forEach(e=>{e.classList.contains("active")&&"0"!=e.getAttribute("id")&&t.push({id:e.getAttribute("id"),name:e.innerText})}),this.villageSelected=t,this.ruleForm.village=t.map(e=>e.name),this.villageChange()},getBuildData(){let e={vid:this.villageSelected[0].id};this.$axios.post(this.urlObj.buildOfVillage,e).then(e=>{200===e.Code?this.buildOptions=e.Data?e.Data:[]:this.$message({type:"error",message:"楼栋数据获取失败！"})}).catch(e=>{this.$message({type:"error",message:"楼栋数据获取失败！"})})},getUnitData(){this.$axios.post(this.urlObj.searchUnit,{bids:this.ruleForm.build}).then(e=>{200===e.Code?this.unitOptions=e.Data?e.Data:[]:this.$message({type:"error",message:"单元数据获取失败！"})}).catch(e=>{this.$message({type:"error",message:"单元数据获取失败！"})})},getRoomData(){this.$axios.post(this.urlObj.roomOfUnit,{unit_ids:this.ruleForm.unit}).then(e=>{200===e.Code?this.roomOptions=e.Data?e.Data:[]:this.$message({type:"error",message:"房号数据获取失败！"})}).catch(e=>{this.$message({type:"error",message:"房号数据获取失败！"})})},getSubjectData(){this.$axios.post(this.urlObj.allsubject).then(e=>{200===e.Code?this.subjectOptions=e.Data?e.Data:[]:this.$message({type:"error",message:"科目数据获取失败！"})}).catch(e=>{this.$message({type:"error",message:"科目数据获取失败！"})})},getSubjectTreeData(){this.$axios.post(this.urlObj.subTreeData).then(e=>{200===e.Code?this.subTreeOptions=e.Data&&e.Data.length>0?e.Data:[]:this.$message({type:"error",message:"科目数据获取失败！"})}).catch(e=>{this.$message({type:"error",message:"科目数据获取失败！"})})},getDepositSubject(){this.$axios.post(this.urlObj.depositsubject).then(e=>{200===e.Code?this.subTreeOptions=e.Data&&e.Data.length>0?e.Data:[]:this.$message({type:"error",message:"科目数据获取失败！"})}).catch(e=>{this.$message({type:"error",message:"科目数据获取失败！"})})},getPreSubject(){this.$axios.post(this.urlObj.getadvancesub).then(e=>{200===e.Code?this.subjectOptions=e.Data?e.Data:[]:this.$message({type:"error",message:"科目数据获取失败！"})}).catch(e=>{this.$message({type:"error",message:"科目数据获取失败！"})})},getPaymentData(){this.$axios.post(this.urlObj.paymentList).then(e=>{200===e.Code?this.paymentOptions=e.Data?e.Data:[]:this.$message({type:"error",message:"收费方式数据获取失败！"})}).catch(e=>{this.$message({type:"error",message:"收费方式数据获取失败！"})})},villageChange(){this.ruleForm.build=[],this.ruleForm.unit=[],this.ruleForm.room=[],this.buildOptions=[],this.unitOptions=[],this.roomOptions=[],1==this.ruleForm.village.length&&this.showBuild&&this.getBuildData()},buildChange(){this.ruleForm.unit=[],this.ruleForm.room=[],this.unitOptions=[],this.roomOptions=[],this.ruleForm.build.length>0&&this.getUnitData()},unitChange(){this.ruleForm.room=[],this.roomOptions=[],this.ruleForm.unit&&this.getRoomData()},resetForm(){this.$refs.ruleForm.resetFields(),this.villageSelected=[];let e=document.querySelector(".select-content .select-all"),t=document.querySelectorAll(".select-content ul li");e.classList.remove("active"),t.forEach(e=>{e.classList.remove("active")}),this.$refs.treeSelect.clearData()},queryStart(){this.$refs.ruleForm.validate(e=>{if(e){let e=JSON.parse(JSON.stringify(this.ruleForm));e.village=this.villageSelected.map(e=>e.id),"timestamp"===this.valueFormat&&(e.stime=e.stime?e.stime/1e3:"",e.etime=e.etime?e.etime/1e3:""),"combinationstatistics"!==this.preType&&"arrearsrecoverstatistics"!==this.preType&&"housekeepercostcountstatistics"!==this.preType||(e.sstime=e.sstime?e.sstime/1e3:"",e.setime=e.setime?e.setime/1e3:""),e.endTime=e.endTime?e.endTime/1e3:"";let t=[];this.buildOptions.forEach(s=>{e.build.includes(s.id)&&t.push(s.block)});let s=[];this.unitOptions.forEach(t=>{e.unit.includes(t.id)&&s.push(t.block+" / "+t.unit)});let a=[];this.roomOptions.forEach(t=>{e.room.includes(t.id)&&a.push(t.roomnum)});let i=[];this.paymentOptions.forEach(t=>{e.payment.includes(t.id)&&i.push(t.name)});let r=[];this.invoiceOptions.forEach(t=>{e.invoice.includes(t.value)&&r.push(t.label)});let l=[];this.subjectOptions.forEach(t=>{e.subject.includes(t.id)&&l.push(t.name)}),e.filterText={village:this.villageSelected.map(e=>e.name),build:t,unit:s,room:a,subject:"advancecollectstatistics"===this.preType?l:this.subNames,payment:i,invoice:r,stime:"sharestatistics"===this.preType?e.stime:this.dateFormat(e.stime,this.timeType),etime:"sharestatistics"===this.preType?e.etime:this.dateFormat(e.etime,this.timeType),sstime:this.dateFormat(e.sstime,"arrearsrecoverstatistics"===this.preType?"date":"datetime"),setime:this.dateFormat(e.setime,"arrearsrecoverstatistics"===this.preType?"date":"datetime"),year:e.year,endTime:this.dateFormat(e.endTime,this.etimeType),pattern:1==e.pattern?"应收模式":"欠费模式",check:1==e.check?"未交房":"已交房",yearNum:e.yearNum},this.$emit("verifySuccess",e)}})}}},b=u,d=(s("30a9"),Object(m["a"])(b,a,i,!1,null,null,null));t["a"]=d.exports},fda4:function(e,t,s){"use strict";var a=s("42f0"),i=s("501f"),r=s("4ee9"),l=s("a9ca"),o=TypeError,n="Reduce of empty array with no initial value",m=function(e){return function(t,s,m,c){var h=i(t),u=r(h),b=l(h);if(a(s),0===b&&m<2)throw new o(n);var d=e?b-1:0,y=e?-1:1;if(m<2)while(1){if(d in u){c=u[d],d+=y;break}if(d+=y,e?d<0:b<=d)throw new o(n)}for(;e?d>=0:b>d;d+=y)d in u&&(c=s(c,u[d],d,h));return c}};e.exports={left:m(!1),right:m(!0)}}}]);