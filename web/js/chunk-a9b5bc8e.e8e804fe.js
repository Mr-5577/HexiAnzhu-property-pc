(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9b5bc8e"],{"04d8":function(t,a,e){},"5ecc":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAAlZJREFUaEPl2U1KAzEUAOCXKYLUEdzWA9QLeAAP4Am8gFuhHkC3IogIegQPUA/gAezOjSKCC0E3ioqtVZpnpnXa0U6ayUz+7arMJPR9ySTNe0Ng670BNVgG3z8DHADM9QG6PeiTFzhZes4jkeHFUNBZ4Rftw3x8B3vkLXt5BA4VPQAExHs4jB9T5gQcKjpx9Rj6OH5Ivv4Gh4pOZnpQv4Ej8joNDhVN8RMOFi7zwaGiu/VbPtgWGqN1ttG02GJblPqnRGxDBLsz+5DoaTbYBpqSc4aNpbBpY4qb7EzR4fal9EMMNo1GcjEMGPGMbTVtIZyQJhug1rCdCMwOJ8XAJtEpWBR8diQk+hQHm0JLBD82S/SRA5tASwRvBqwb7SRYJ9pZsC6002AdaOfBqtFegFWivQGrQnsFVoH2DlwV7SW4CnqcPADLmsiVMHkATNLIjULJA2skf7QURzBpUaYamoLzfoey1I/ACjd9LJBw6AWXmWkeOMXQiOXKeMrQjakxcQIsi+aBCa6OgTTaB4Jr7oJl0NwZZuu0htejtUrabs9wOhVF1jSvxIOQvEHosCpIk9Wu8l8NOfNIZ589EXpUxNuWrmslJaEIdkR7qv5NKy8CEVoUdYX7dsAya7oCLq+rPbAltF2wBbR9sGG0G2CDaHfAhtBugQ2g3QNrRrsJ1oh2F6wJ7TZYA9p9sGK0H2CFaH/AitB+gRWg/QNXRPsJroD2F1wS7Te4BNp/sCQ6DLAEOhxwQXRY4ALo8MACdJjgGehwwRx02OAcdPjgP+j/Ac6g/w/4B/0NiX1YnZnCM68AAAAASUVORK5CYII="},"985a":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAAkpJREFUaEPl2r1xwjAYBmB5CxggBRWLZIG0UGSG0OAyGYAhmCBNetp0XApygSwABW2STxzOSVgCv/qx/rhTgfnO0mPD59c+KsZYTWNOw/trtVqx8XgszbPdbtloNHIx94F28kXjncYrjaVqp9V5IwdzuNeXZ/Dl2j9pwyONN/GDBsy3eT/TPYO56ZfGE42XBi2CvaMDgBsnRz/zN5dgr+iA4B+C3fPftgrMJpNJPRwOjRvZfr9ni8Wi1Q8Q8HQ6ZYPBwLinKNbwTTu7U4L5LMfjsa6qygit67wIWFWL6DVreNCCbdARg5dXwaboiMEfN8Em6IjBh05gFB0xWHlZutYbWuHEthH5Oji6/XY+w8JRkNAlgKVwUgr4H10S+IQm8LzrLV8MB8fkNyw1tc1m04qhvhqRLrKqYqjLptXq4pcx1BfYQbSEL0vaOUV0EWAxnBQDbtC73W6uek5l27Si+kqLi1mv1zWBW7eW2YLPeKsYipxNpNb6snRjMuMYiiCQWt9g4xiKIJDaPsBGMRRBILV9geEYiiCQ2j7BTBVDdXERQSC1vYLFcIIs0mVt7+DQ6CDgkOhg4FDooOAQ6OBgXQxFGhWS0WMBS4kMwfLaVMHG6JTBRujUwTA6BzCEVj211EXWmJqWqldJ99NoM1PVxw6GznSXA5IC2Ck6FbAzdEpgJ+jUwNboFMFW6FTBxuiUwUbo1MEwOgcwm81mnf8mmQUYeXKSDbgrOitwF3R24FvoLMHX0NmCdU9Dcwe3rtMlgCV0KeB/dEngE/oPjl4jL7/cyWAAAAAASUVORK5CYII="},a55b:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"login-main",attrs:{id:"login"}},[a("div",{staticClass:"login-body"},[a("div",{staticClass:"login-logo"}),a("div",{staticClass:"change-box",on:{click:t.changeBox}},[a("div",{staticClass:"change-text"},[t._v(t._s(t.changeBoxData.title))]),a("img",{attrs:{src:t.changeBoxData.img}})]),"phone"==t.changeType?[a("div",{staticClass:"login-title"},[t._v("四川和喜物业信息管理系统")]),a("el-form",{ref:"accForm",staticClass:"login-form",attrs:{model:t.accForm,rules:t.rules}},[a("el-form-item",{staticClass:"login-item",attrs:{prop:"account_name"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入用户名或手机号"},nativeOn:{keydown:function(a){return t.keyDown(a)}},model:{value:t.accForm.account_name,callback:function(a){t.$set(t.accForm,"account_name",a)},expression:"accForm.account_name"}}),a("i",{staticClass:"fa fa-user"}),a("hr")],1),a("el-form-item",{staticClass:"login-item",attrs:{prop:"account_pass"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入登录密码"},nativeOn:{keydown:function(a){return t.keyDown(a)}},model:{value:t.accForm.account_pass,callback:function(a){t.$set(t.accForm,"account_pass",a)},expression:"accForm.account_pass"}}),a("i",{staticClass:"fa fa-lock"}),a("hr")],1),a("div",{staticClass:"login-btn-item"},[a("div",{staticClass:"login-btn"},[a("el-button",{attrs:{type:"primary",loading:t.isSubmitLoading},on:{click:function(a){return t.openCaptcha()}}},[t._v(" "+t._s(!0===t.isSubmitLoading?"登录中,请稍等...":"登录")+" ")])],1)])],1)]:a("div",{staticClass:"code-login"},[a("div",{staticClass:"code-login-title"},[t._v("四川和喜物业信息管理系统")]),t._m(0)]),t._m(1)],2)])},i=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"code-container"},[a("div",{attrs:{id:"codeImg"}})])},function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"tip"},[a("div",[t._v("Copyright 四川和喜物业服务有限公司 ")]),a("div",[t._v(" 云驰物业业务管理系统 V1.0 "),a("a",{attrs:{href:"http://beian.miit.gov.cn",target:"_blank"}},[t._v(" 蜀ICP备18023330号-1 ")])]),a("div",[t._v("开发者：成都云驰科技有限公司 028-83166986")])])}],o=(e("5948"),e("985a")),n=e.n(o),c=e("5ecc"),g=e.n(c),r=e("c1a1"),l={data(){return{accForm:{account_name:"",account_pass:""},rules:{account_name:[{required:!0,message:"请输入用户名或手机号",trigger:"blur"}],account_pass:[{required:!0,message:"请输入登录密码",trigger:"blur"}]},captcha:"",isSubmitLoading:!1,changeBoxData:{title:"切换账户登录",img:g.a},changeType:"qrcode",useLoginPass:!1}},mounted(){sessionStorage.clear(),this.configCaptcha(!1),this.getQrcodeData()},methods:{getQrcodeData(){let t=this;t.$axios({url:t.$api.state.Login.qy_login_config.url,method:"post",responseType:"json"}).then(a=>{if(200===a.Code){let t=Object(r["a"])(a.Data);1==t.qyConfig.use_password_login?this.useLoginPass=!0:this.useLoginPass=!1;let e={id:"codeImg",appid:t.qyConfig.appid,agentid:t.qyConfig.agentid,redirect_uri:encodeURIComponent(`${window.location.origin}${window.location.pathname}#/Init`),state:t.state};window.WwLogin(e)}else{let e=a.Message?a.Message:"获取基础信息失败！";t.$message({message:e,type:"success"})}})},changeBox(){"phone"==this.changeType?(this.changeType="qrcode",this.changeBoxData.title="切换账户登录",this.changeBoxData.img=g.a,this.getQrcodeData()):(this.changeType="phone",this.changeBoxData.title="切换扫码登录",this.changeBoxData.img=n.a)},configCaptcha(t){this.$nextTick(()=>{this.captcha=new window.TencentCaptcha(this.$common.state.captcha_appid,this.loginSystem),t&&this.captcha.show()})},openCaptcha(){this.$refs.accForm.validate(t=>{if(!1===t)return!1;this.captcha?this.captcha.show():this.configCaptcha(!0)})},loginSystem(t){let a=this;0===t.ret?(a.isSubmitLoading=!0,t.account_name=a.accForm.account_name,t.account_pass=a.accForm.account_pass,a.$axios({url:a.$api.state.Login.account.url,method:"post",responseType:"json",data:t}).then(t=>{200===t.Code?(a.$message({message:t.Message,type:"success"}),setTimeout(()=>{a.$router.push({path:"/Main"})},1500)):(a.isSubmitLoading=!1,a.$message({message:t.Message,type:"error"}))}).catch(()=>{a.isSubmitLoading=!1,a.$message({message:"服务器连接失败",type:"error"})})):a.$message({message:"请完成滑块验证",type:"warning"})},keyDown(t){13===t.keyCode&&this.openCaptcha()}}},p=l,A=(e("c4a2"),e("1805")),h=Object(A["a"])(p,s,i,!1,null,null,null);a["default"]=h.exports},c4a2:function(t,a,e){"use strict";e("04d8")}}]);