(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01fc8288"],{"20af":function(e,t,i){},"2e34":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isSubmit,expression:"isSubmit"}],attrs:{id:"subject","element-loading-text":"数据提交中"}},[t("div",{staticClass:"left-wp"},[t("div",{staticClass:"top"},[t("subject-tree",{ref:"subjectTree",attrs:{showSearch:!0},on:{checkChange:e.checkChange,setData:e.setData}})],1),t("div",{staticClass:"bottom"},[e.$menu.getters.judgeRole("Btn-OhBnIMrYNaQwP86op5S1RZgt")?t("el-button",{attrs:{type:"primary",round:""},on:{click:e.newHandle}},[e._v(" 新增科目 ")]):e._e()],1)]),e.$menu.getters.judgeRole("Btn-h0bgw6HmtW3JiUuOaF9xcZEd")?t("el-button",{attrs:{type:"warning",round:"",plain:"",icon:"iconfont iconqingkuang"},on:{click:e.showCondition}},[e._v(" 项目使用情况 ")]):e._e(),e.currentSubject.id?t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"right-wp"},[t("div",{staticClass:"title"},[t("img",{staticStyle:{width:"1rem",height:"1rem","vertical-align":"middle","margin-right":"0.5rem"},attrs:{src:i("897c"),alt:""}}),t("span",[e._v(e._s(e.subjectDetail.name))]),e.$menu.getters.judgeRole("Btn-4IczafWSxOotLX6ZlyAmeuvE")?t("el-switch",{attrs:{"active-color":"#3ebb75","inactive-color":"#f2f2f2","inactive-text":"启用"},on:{change:e.switchChange},model:{value:e.switchVal,callback:function(t){e.switchVal=t},expression:"switchVal"}}):e._e()],1),t("el-scrollbar",{staticStyle:{height:"calc(100% - 8.5rem)"}},[t("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"hide-required-asterisk":!0}},[e._l(e.editInfo,(function(i,r){return t("el-form-item",{key:r,attrs:{label:i.name,prop:i.value}},["cascader"==i.type?t("el-cascader",{attrs:{options:i.options,props:i.props,clearable:"","show-all-levels":!1},model:{value:e.editForm[i.value],callback:function(t){e.$set(e.editForm,i.value,t)},expression:"editForm[item.value]"}}):"select"==i.type?t("el-select",{attrs:{clearable:"",disabled:i.readonly,placeholder:"请选择"+i.name},model:{value:e.editForm[i.value],callback:function(t){e.$set(e.editForm,i.value,t)},expression:"editForm[item.value]"}},e._l(i.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):t("el-input",{attrs:{type:i.type,disabled:i.readonly,placeholder:"请输入"+i.name},model:{value:e.editForm[i.value],callback:function(t){e.$set(e.editForm,i.value,t)},expression:"editForm[item.value]"}})],1)})),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"科目类型",prop:"subType"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择科目类型"},model:{value:e.editForm.subType,callback:function(t){e.$set(e.editForm,"subType",t)},expression:"editForm.subType"}},e._l(e.subjects,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"计量单位",prop:"unitVal"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计量单位"},model:{value:e.editForm.unitVal,callback:function(t){e.$set(e.editForm,"unitVal",t)},expression:"editForm.unitVal"}},e._l(e.units,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"计算公式",prop:"formulaVal"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计算公式"},model:{value:e.editForm.formulaVal,callback:function(t){e.$set(e.editForm,"formulaVal",t)},expression:"editForm.formulaVal"}},e._l(e.formulas,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"收费模式",prop:"pattern"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择收费模式"},model:{value:e.editForm.pattern,callback:function(t){e.$set(e.editForm,"pattern",t)},expression:"editForm.pattern"}},e._l(e.patterns,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"是否在添加收费显示",prop:"show"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否在添加收费显示"},model:{value:e.editForm.show,callback:function(t){e.$set(e.editForm,"show",t)},expression:"editForm.show"}},[t("el-option",{key:0,attrs:{label:"不显示",value:0}}),t("el-option",{key:1,attrs:{label:"显示",value:1}})],1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"是否是装修科目",prop:"fitSub"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否是装修科目"},model:{value:e.editForm.fitSub,callback:function(t){e.$set(e.editForm,"fitSub",t)},expression:"editForm.fitSub"}},[t("el-option",{key:0,attrs:{label:"否",value:0}}),t("el-option",{key:1,attrs:{label:"是",value:1}})],1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"沪友开票名称",prop:"invoiceName"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择沪友开票名称"},model:{value:e.editForm.invoiceName,callback:function(t){e.$set(e.editForm,"invoiceName",t)},expression:"editForm.invoiceName"}},e._l(e.inameOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"是否允许多次退款",prop:"isrefund"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许多次退款"},model:{value:e.editForm.isrefund,callback:function(t){e.$set(e.editForm,"isrefund",t)},expression:"editForm.isrefund"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"是否允许编辑计算公式",prop:"isformedit"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许编辑计算公式"},model:{value:e.editForm.isformedit,callback:function(t){e.$set(e.editForm,"isformedit",t)},expression:"editForm.isformedit"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"是否允许自定义开始时间",prop:"is_custom_time"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许自定义开始时间"},model:{value:e.editForm.is_custom_time,callback:function(t){e.$set(e.editForm,"is_custom_time",t)},expression:"editForm.is_custom_time"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"是否允许选择目前欠费之前的时间",prop:"is_choice_before"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许选择目前欠费之前的时间"},model:{value:e.editForm.is_choice_before,callback:function(t){e.$set(e.editForm,"is_choice_before",t)},expression:"editForm.is_choice_before"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"是否允许跳交",prop:"expire_chose_starttime"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许跳交"},model:{value:e.editForm.expire_chose_starttime,callback:function(t){e.$set(e.editForm,"expire_chose_starttime",t)},expression:"editForm.expire_chose_starttime"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{attrs:{label:"计费周期",prop:"billing_rules"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计费周期"},model:{value:e.editForm.billing_rules,callback:function(t){e.$set(e.editForm,"billing_rules",t)},expression:"editForm.billing_rules"}},[t("el-option",{attrs:{label:"按自然月",value:1}}),t("el-option",{attrs:{label:"按月",value:2}})],1)],1):e._e(),e.editForm&&e.editForm.isend?t("el-form-item",{staticClass:"priority",attrs:{label:"计费优先级"}},[t("el-form-item",{attrs:{prop:"priority1"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计费优先级"},model:{value:e.editForm.priority1,callback:function(t){e.$set(e.editForm,"priority1",t)},expression:"editForm.priority1"}},e._l(e.priorityOptions1,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("span",{staticClass:"line",attrs:{span:1}},[e._v(">")]),t("el-form-item",{attrs:{prop:"priority2"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计费优先级"},model:{value:e.editForm.priority2,callback:function(t){e.$set(e.editForm,"priority2",t)},expression:"editForm.priority2"}},e._l(e.priorityOptions2,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("span",{staticClass:"line",attrs:{span:1}},[e._v(">")]),t("el-form-item",{attrs:{prop:"priority3"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计费优先级"},model:{value:e.editForm.priority3,callback:function(t){e.$set(e.editForm,"priority3",t)},expression:"editForm.priority3"}},e._l(e.priorityOptions3,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1):e._e()],2),t("div",{staticClass:"btn-wp"},[t("el-button",{attrs:{type:"primary",plain:"",round:"",icon:"iconfont iconzu3638"},on:{click:e.logHandle}},[e._v(" 变更日志 ")])],1)],1),t("div",{staticClass:"bottom-btn"},[e.$menu.getters.judgeRole("Btn-lEBjoJTvcgmb2KhZAYwdnSRa")?t("el-button",{attrs:{type:"primary",round:""},on:{click:e.editSubmit}},[e._v(" 保存修改 ")]):e._e()],1)],1):t("div",{staticClass:"right-wp"},[t("div",{staticClass:"empty"},[e._v("请在左侧选择科目！")])]),t("el-dialog",{staticClass:"addDialog",attrs:{visible:e.showAddPop,title:"新增科目",width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.showAddPop=t}}},[t("el-scrollbar",{staticStyle:{height:"100%"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"hide-required-asterisk":!0}},[e._l(e.infoList,(function(i,r){return t("el-form-item",{key:r,attrs:{label:i.name,prop:i.value}},["cascader"==i.type?t("el-cascader",{attrs:{options:i.options,props:i.props,clearable:"","show-all-levels":!1},model:{value:e.ruleForm[i.value],callback:function(t){e.$set(e.ruleForm,i.value,t)},expression:"ruleForm[item.value]"}}):"select"==i.type?t("el-select",{attrs:{clearable:"",placeholder:"请选择"+i.name},model:{value:e.ruleForm[i.value],callback:function(t){e.$set(e.ruleForm,i.value,t)},expression:"ruleForm[item.value]"}},e._l(i.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):t("el-input",{attrs:{type:i.type,readonly:i.readonly,placeholder:"请输入"+i.name},model:{value:e.ruleForm[i.value],callback:function(t){e.$set(e.ruleForm,i.value,t)},expression:"ruleForm[item.value]"}})],1)})),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"科目类型",prop:"subType"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择科目类型"},model:{value:e.ruleForm.subType,callback:function(t){e.$set(e.ruleForm,"subType",t)},expression:"ruleForm.subType"}},e._l(e.subjects,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.ruleForm.isend?t("el-form-item",{attrs:{label:"计量单位",prop:"unitVal"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计量单位"},model:{value:e.ruleForm.unitVal,callback:function(t){e.$set(e.ruleForm,"unitVal",t)},expression:"ruleForm.unitVal"}},e._l(e.units,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.ruleForm.isend?t("el-form-item",{attrs:{label:"计算公式",prop:"formulaVal"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计量单位"},model:{value:e.ruleForm.formulaVal,callback:function(t){e.$set(e.ruleForm,"formulaVal",t)},expression:"ruleForm.formulaVal"}},e._l(e.formulas,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"收费模式",prop:"pattern"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择收费模式"},model:{value:e.ruleForm.pattern,callback:function(t){e.$set(e.ruleForm,"pattern",t)},expression:"ruleForm.pattern"}},e._l(e.patterns,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"是否在添加收费显示",prop:"show"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否在添加收费显示"},model:{value:e.ruleForm.show,callback:function(t){e.$set(e.ruleForm,"show",t)},expression:"ruleForm.show"}},[t("el-option",{key:0,attrs:{label:"不显示",value:0}}),t("el-option",{key:1,attrs:{label:"显示",value:1}})],1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"是否是装修科目",prop:"fitSub"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否是装修科目"},model:{value:e.ruleForm.fitSub,callback:function(t){e.$set(e.ruleForm,"fitSub",t)},expression:"ruleForm.fitSub"}},[t("el-option",{key:0,attrs:{label:"否",value:0}}),t("el-option",{key:1,attrs:{label:"是",value:1}})],1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"沪友开票名称",prop:"invoiceName"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择沪友开票名称"},model:{value:e.ruleForm.invoiceName,callback:function(t){e.$set(e.ruleForm,"invoiceName",t)},expression:"ruleForm.invoiceName"}},e._l(e.inameOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"是否允许多次退款",prop:"isrefund"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许多次退款"},model:{value:e.ruleForm.isrefund,callback:function(t){e.$set(e.ruleForm,"isrefund",t)},expression:"ruleForm.isrefund"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"是否允许编辑计算公式",prop:"isformedit"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许编辑计算公式"},model:{value:e.ruleForm.isformedit,callback:function(t){e.$set(e.ruleForm,"isformedit",t)},expression:"ruleForm.isformedit"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"是否允许自定义时间",prop:"is_custom_time"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许自定义时间"},model:{value:e.ruleForm.is_custom_time,callback:function(t){e.$set(e.ruleForm,"is_custom_time",t)},expression:"ruleForm.is_custom_time"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"是否允许选择目前欠费之前的时间",prop:"is_choice_before"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许选择目前欠费之前的时间"},model:{value:e.ruleForm.is_choice_before,callback:function(t){e.$set(e.ruleForm,"is_choice_before",t)},expression:"ruleForm.is_choice_before"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"是否允许跳交",prop:"expire_chose_starttime"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择是否允许跳交"},model:{value:e.ruleForm.expire_chose_starttime,callback:function(t){e.$set(e.ruleForm,"expire_chose_starttime",t)},expression:"ruleForm.expire_chose_starttime"}},[t("el-option",{attrs:{label:"是",value:1}}),t("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),e.ruleForm&&e.ruleForm.isend?t("el-form-item",{attrs:{label:"计费周期",prop:"billing_rules"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计费周期"},model:{value:e.ruleForm.billing_rules,callback:function(t){e.$set(e.ruleForm,"billing_rules",t)},expression:"ruleForm.billing_rules"}},[t("el-option",{attrs:{label:"按自然月",value:1}}),t("el-option",{attrs:{label:"按月",value:2}})],1)],1):e._e(),e.ruleForm.isend?t("el-form-item",{staticClass:"priority",attrs:{label:"计费优先级"}},[t("el-form-item",{attrs:{prop:"priority1"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计费优先级"},model:{value:e.ruleForm.priority1,callback:function(t){e.$set(e.ruleForm,"priority1",t)},expression:"ruleForm.priority1"}},e._l(e.popPriorityOpt1,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("span",{staticClass:"line",attrs:{span:1}},[e._v(">")]),t("el-form-item",{attrs:{prop:"priority2"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计费优先级"},model:{value:e.ruleForm.priority2,callback:function(t){e.$set(e.ruleForm,"priority2",t)},expression:"ruleForm.priority2"}},e._l(e.popPriorityOpt2,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("span",{staticClass:"line",attrs:{span:1}},[e._v(">")]),t("el-form-item",{attrs:{prop:"priority3"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择计费优先级"},model:{value:e.ruleForm.priority3,callback:function(t){e.$set(e.ruleForm,"priority3",t)},expression:"ruleForm.priority3"}},e._l(e.popPriorityOpt3,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1):e._e()],2)],1),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{loading:e.isCommit,type:"primary",round:""},on:{click:e.submitForm}},[e._v(" 提交保存 ")]),t("el-button",{attrs:{loading:e.isCommit,type:"info",round:""},on:{click:function(t){e.showAddPop=!1}}},[e._v(" 取消 ")])],1)],1),t("el-dialog",{staticClass:"useDialog",attrs:{visible:e.showUsePop,title:"项目使用情况",width:"50%","close-on-click-modal":!0},on:{"update:visible":function(t){e.showUsePop=t}}},[t("div",{staticClass:"table-wp"},[t("cus-table",{attrs:{datas:e.tableData,cusColums:e.columns,cusConf:e.conf,ispaging:!1}})],1)]),t("el-dialog",{staticClass:"logDialog",attrs:{visible:e.showLogDialog,title:"变更日志",width:"50%","close-on-click-modal":!0},on:{"update:visible":function(t){e.showLogDialog=t}}},[t("div",{staticClass:"table-wp"},[t("cus-table",{attrs:{datas:e.logTableData,cusColums:e.logColumns,cusConf:e.logConf,ispaging:!0},on:{sizeChange:e.logSizeChange,currentChange:e.logCurrentChange}})],1)])],1)},a=[],l=(i("5948"),i("58ea")),s=i("d093"),o=i("423f"),n=i("f0a4"),u={name:"subject",components:{subjectTree:l["a"]},data(){return{urlObj:{villages:this.$api.state.System.village.list.url,subDetail:this.$api.state.Setting.subDetail.url,openCloseSub:this.$api.state.Setting.openCloseSub.url,useCondition:this.$api.state.Setting.useCondition.url,newSubject:this.$api.state.Setting.newSubject.url,subjectLog:this.$api.state.Setting.subjectLog.url,subEdit:this.$api.state.Setting.subEdit.url,getpatterns:this.$api.state.Setting.getpatterns.url,getinvoices:this.$api.state.Setting.getinvoices.url},treeData:null,switchVal:!1,isLoading:!1,currentSubject:{},subjectDetail:{},showAddPop:!1,editInfo:[],editForm:null,ruleForm:{pid:"",code:"",subName:"",price:"",alias:"",isend:"",subType:"",isOpen:"",source:[],sort:"",tax_rate:"",unitVal:"",formulaVal:"",pattern:"",show:"",fitSub:"",invoiceName:"",isrefund:"",isformedit:"",is_custom_time:"",is_choice_before:"",expire_chose_starttime:"",billing_rules:"",priority1:"",priority2:"",priority3:"",online:"",invoice_type:"",isRefund:"",isCharge:""},rules:{pid:[{required:!0,message:"请选择上级节点",trigger:"change"}],code:[{required:!0,message:"请输入科目编码",trigger:"blur"}],subName:[{required:!0,message:"请输入科目名称",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],alias:[{required:!0,message:"请输入打印别名",trigger:"blur"}],isend:[{required:!0,message:"请选择是否为末级",trigger:"change"}],subType:[{required:!0,message:"请选择科目类型",trigger:"change"}],isOpen:[{required:!0,message:"请选择是否开启计费",trigger:"change"}],source:[{required:!0,message:"请选择可用资源",trigger:"change"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],tax_rate:[{required:!0,message:"请输入税率",trigger:"blur"}],unitVal:[{required:!0,message:"请选择计量单位",trigger:"change"}],formulaVal:[{required:!0,message:"请选择计算公式",trigger:"change"}],pattern:[{required:!0,message:"请选择收费模式",trigger:"change"}],show:[{required:!0,message:"请选择是否在添加收费显示",trigger:"change"}],fitSub:[{required:!0,message:"请选择是否是装修科目",trigger:"change"}],invoiceName:[{required:!1,message:"请选择沪友开票名称",trigger:"change"}],isrefund:[{required:!0,message:"请选择是否允许多次退款",trigger:"change"}],isformedit:[{required:!0,message:"请选择是否允许编辑计算公式",trigger:"change"}],is_custom_time:[{required:!0,message:"请选择是否允许自定义开始时间",trigger:"change"}],is_choice_before:[{required:!0,message:"请选择是否允许选择目前欠费之前的时间",trigger:"change"}],expire_chose_starttime:[{required:!0,message:"请选择是否允许跳交",trigger:"change"}],billing_rules:[{required:!0,message:"请选择计费周期",trigger:"change"}],priority1:[{required:!0,message:"请选择计费优先级1",trigger:"change"}],priority2:[{required:!0,message:"请选择计费优先级2",trigger:"change"}],priority3:[{required:!0,message:"请选择计费优先级3",trigger:"change"}],online:[{required:!0,message:"请选择是否线上缴费",trigger:"change"}],invoice_type:[{required:!0,message:"请选择是否开具发票",trigger:"change"}],isRefund:[{required:!0,message:"请选择是否允许退款",trigger:"change"}],isCharge:[{required:!0,message:"请选择是否生成欠费",trigger:"change"}]},isCommit:!1,isSubmit:!1,showUsePop:!1,tableData:[],columns:s.list,conf:{loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},patterns:[],showLogDialog:!1,logTableData:[],logColumns:o.list,logConf:{loadStatus:!1,emptyText:"",curPage:1,limit:20,dataTotal:0},infoList:[],inameOptions:[]}},computed:{...Object(n["b"])(["resource","prioritys","units","formulas","subjects"]),priorityOptions1(){let e=[this.editForm.priority2,this.editForm.priority3],t=[];return this.prioritys.forEach(i=>{e.includes(i.id)||t.push(i)}),t},priorityOptions2(){let e=[this.editForm.priority1,this.editForm.priority3],t=[];return this.prioritys.forEach(i=>{e.includes(i.id)||t.push(i)}),t},priorityOptions3(){let e=[this.editForm.priority1,this.editForm.priority2],t=[];return this.prioritys.forEach(i=>{e.includes(i.id)||t.push(i)}),t},popPriorityOpt1(){let e=[this.ruleForm.priority2,this.ruleForm.priority3],t=[];return this.prioritys.forEach(i=>{e.includes(i.id)||t.push(i)}),t},popPriorityOpt2(){let e=[this.ruleForm.priority1,this.ruleForm.priority3],t=[];return this.prioritys.forEach(i=>{e.includes(i.id)||t.push(i)}),t},popPriorityOpt3(){let e=[this.ruleForm.priority1,this.ruleForm.priority2],t=[];return this.prioritys.forEach(i=>{e.includes(i.id)||t.push(i)}),t}},watch:{resource(e){this.resource.length>0&&(this.infoList[7].options=e)}},mounted(){this.dataInit(),this.getPatterns(),this.getInvoices()},methods:{dataInit(){let e=[{name:"上级节点",value:"pid",type:"cascader",props:{checkStrictly:!0,label:"name",value:"id"},readonly:!1,options:[]},{name:"科目编码",value:"code",type:"text",readonly:!1},{name:"科目名称",value:"subName",type:"text",readonly:!1},{name:"价格",value:"price",type:"number",readonly:!1},{name:"打印别名",value:"alias",type:"text",readonly:!1},{name:"是否为末级",value:"isend",type:"select",options:[{value:0,label:"否"},{value:1,label:"是"}],readonly:!1},{name:"是否开启计费",value:"isOpen",type:"select",options:[{value:0,label:"否"},{value:1,label:"是"}],readonly:!1},{name:"可用资源",value:"source",type:"cascader",props:{checkStrictly:!0,label:"label",value:"id"},options:[],readonly:!1},{name:"排序",value:"sort",type:"text",options:[],readonly:!1},{name:"税率",value:"tax_rate",type:"text",options:[],readonly:!1},{name:"是否线上缴费",value:"online",type:"select",options:[{value:0,label:"否"},{value:1,label:"是"}],readonly:!1},{name:"是否开具发票",value:"invoice_type",type:"select",options:[{value:0,label:"否"},{value:1,label:"是"}],readonly:!1}];this.$menu.getters.judgeRole("Btn-NkxXgoLdf5rKVRT1Ve37D2oS")&&(e.push({name:"是否允许退款",value:"isRefund",type:"select",options:[{value:0,label:"否"},{value:1,label:"是"}],readonly:!1}),e.push({name:"是否生成欠费",value:"isCharge",type:"select",options:[{value:0,label:"否"},{value:1,label:"是"}],readonly:!1})),this.infoList=e},setData(e){let t=JSON.parse(JSON.stringify(e));t.unshift({id:0,name:"顶级节点"}),this.infoList[0].options=t},checkChange(e){this.currentSubject.id&&e.id==this.currentSubject.id||(this.currentSubject=e,this.getSubjectDetail(e.id))},getPatterns(){this.$axios.post(this.urlObj.getpatterns).then(e=>{if(200===e.Code)this.patterns=e.Data?e.Data:[];else{let t=e.Message?e.Message:"获取收费模式失败！";this.$message({type:"error",message:t})}}).catch(()=>{})},getInvoices(){this.$axios.post(this.urlObj.getinvoices).then(e=>{if(200===e.Code)this.inameOptions=e.Data;else{let t=e.Message?e.Message:"获取沪友开票名称数据失败！";this.$message({type:"error",message:t})}}).catch(()=>{})},getSubjectDetail(e){this.isLoading=!0;let t={id:e};this.$axios.post(this.urlObj.subDetail,t).then(e=>{if(200===e.Code){this.subjectDetail=e.Data;let t=JSON.parse(JSON.stringify(this.infoList));t.shift(),t[4].readonly=!0,this.editInfo=t;let i={pid:"",code:e.Data.code,subName:e.Data.name,price:e.Data.price,alias:e.Data.alias,isend:e.Data.is_end,subType:e.Data.subject_type?e.Data.subject_type:"",isOpen:e.Data.is_open,source:e.Data.resource_type_id,sort:e.Data.sort,tax_rate:e.Data.tax_rate,online:e.Data.is_online,invoice_type:e.Data.is_invoice};this.$menu.getters.judgeRole("Btn-NkxXgoLdf5rKVRT1Ve37D2oS")&&(i.isRefund=e.Data.is_refund,i.isCharge=e.Data.is_refund_create),1==e.Data.is_end&&(i.unitVal=e.Data.subjectBillTemplate?e.Data.subjectBillTemplate.unit:"",i.formulaVal=e.Data.subjectBillTemplate?e.Data.subjectBillTemplate.formula:"",i.pattern=e.Data.subjectBillTemplate?e.Data.subjectBillTemplate.patterns:"",e.Data.subjectFeesSort.length>0?(i.priority1=e.Data.subjectFeesSort[0].type,i.priority2=e.Data.subjectFeesSort[1].type,i.priority3=e.Data.subjectFeesSort[2].type):(i.priority1="",i.priority2="",i.priority3=""),i.show=e.Data.is_add_arrears,i.fitSub=e.Data.is_renovation,i.invoiceName=e.Data.invoice_name,i.isrefund=e.Data.is_many_refund,i.isformedit=e.Data.is_edit_template,i.is_custom_time=e.Data.is_custom_time,i.is_choice_before=e.Data.is_choice_before,i.expire_chose_starttime=e.Data.expire_chose_starttime,i.billing_rules=e.Data.billing_rules),this.editForm=i,this.switchVal=1==e.Data.is_open,this.$refs.editForm&&this.$refs.editForm.resetFields()}else{let t=e.Message?e.Message:"科目详情数据获取失败！";this.$message({type:"error",message:t})}this.isLoading=!1}).catch(e=>{this.isLoading=!1})},newHandle(){this.ruleForm={pid:"",code:"",subName:"",price:"",alias:"",isend:"",subType:"",isOpen:"",source:[],unitVal:"",formulaVal:"",pattern:"",priority1:"",priority2:"",priority3:"",online:"",invoice_type:"",isRefund:"",isCharge:"",isrefund:0,isformedit:0,is_custom_time:0,is_choice_before:0,expire_chose_starttime:0,billing_rules:1},this.$refs.ruleForm&&this.$refs.ruleForm.resetFields(),this.showAddPop=!0},submitForm(){this.$refs.ruleForm.validate(e=>{if(e){let e={pid:this.ruleForm.pid[this.ruleForm.pid.length-1],is_open:this.ruleForm.isOpen,name:this.ruleForm.subName,code:this.ruleForm.code,price:parseInt(this.ruleForm.price),resource_type_id:this.ruleForm.source[this.ruleForm.source.length-1],subject_type:this.ruleForm.subType,is_end:this.ruleForm.isend,alias:this.ruleForm.alias,order:this.ruleForm.sort,tax_rate:this.ruleForm.tax_rate,is_invoice:this.ruleForm.invoice_type,is_online:this.ruleForm.online};this.$menu.getters.judgeRole("Btn-NkxXgoLdf5rKVRT1Ve37D2oS")&&(e.is_refund=this.ruleForm.isRefund,e.is_refund_create=this.ruleForm.isCharge),e.is_end&&(e.sort=[{sort:3,type:this.ruleForm.priority1},{sort:2,type:this.ruleForm.priority2},{sort:1,type:this.ruleForm.priority3}],e.template={unit:parseInt(this.ruleForm.unitVal),formula:parseInt(this.ruleForm.formulaVal),patterns:this.ruleForm.pattern},e.is_add_arrears=this.ruleForm.show,e.is_renovation=this.ruleForm.fitSub,e.invoice_name=this.ruleForm.invoiceName,e.is_many_refund=this.ruleForm.isrefund,e.is_edit_template=this.ruleForm.isformedit,e.is_custom_time=this.ruleForm.is_custom_time,e.is_choice_before=this.ruleForm.is_choice_before,e.expire_chose_starttime=this.ruleForm.expire_chose_starttime,e.billing_rules=this.ruleForm.billing_rules),this.isCommit=!0,this.$axios.post(this.urlObj.newSubject,e).then(e=>{if(200===e.Code)this.$message({type:"success",message:"新增科目成功！"}),this.showAddPop=!1,this.$refs.subjectTree.getTreeData();else{let t=e.Message?e.Message:"新增科目失败！";this.$message({type:"error",message:t})}this.isCommit=!1}).catch(e=>{this.isCommit=!1})}})},editSubmit(){this.$refs.editForm.validate(e=>{if(e){let e={id:this.subjectDetail.id,pid:this.subjectDetail.pid,is_open:this.editForm.isOpen,name:this.editForm.subName,code:this.editForm.code,price:parseInt(this.editForm.price),resource_type_id:this.editForm.source[this.editForm.source.length-1],subject_type:this.editForm.subType,is_end:this.editForm.isend,alias:this.editForm.alias,order:this.editForm.sort,tax_rate:this.editForm.tax_rate,is_invoice:this.editForm.invoice_type,is_online:this.editForm.online};this.$menu.getters.judgeRole("Btn-NkxXgoLdf5rKVRT1Ve37D2oS")&&(e.is_refund=this.editForm.isRefund,e.is_refund_create=this.editForm.isCharge),e.is_end&&(e.sort=[{id:this.subjectDetail.subjectFeesSort[0]?this.subjectDetail.subjectFeesSort[0].id:"",sort:3,type:this.editForm.priority1},{id:this.subjectDetail.subjectFeesSort[1]?this.subjectDetail.subjectFeesSort[1].id:"",sort:2,type:this.editForm.priority2},{id:this.subjectDetail.subjectFeesSort[2]?this.subjectDetail.subjectFeesSort[2].id:"",sort:1,type:this.editForm.priority3}],e.template={unit:parseInt(this.editForm.unitVal),formula:parseInt(this.editForm.formulaVal),patterns:this.editForm.pattern},e.is_add_arrears=this.editForm.show,e.is_renovation=this.editForm.fitSub,e.invoice_name=this.editForm.invoiceName,e.is_many_refund=this.editForm.isrefund,e.is_edit_template=this.editForm.isformedit,e.is_custom_time=this.editForm.is_custom_time,e.is_choice_before=this.editForm.is_choice_before,e.expire_chose_starttime=this.editForm.expire_chose_starttime,e.billing_rules=this.editForm.billing_rules),this.isSubmit=!0,this.$axios.post(this.urlObj.subEdit,e).then(e=>{if(200===e.Code)this.$message({type:"success",message:"科目修改成功！"});else{let t=e.Message?e.Message:"科目修改失败！";this.$message({type:"error",message:t})}this.isSubmit=!1}).catch(e=>{this.isSubmit=!1})}})},showCondition(){this.showUsePop=!0,this.tableLoad()},tableLoad(){this.conf.loadStatus=!0,this.$axios.post(this.urlObj.useCondition).then(e=>{200===e.Code?(this.tableData=e.Data,this.conf.loadStatus=!1,this.conf.emptyText=""):204===e.Code?(this.$message({message:e.Message,type:"error"}),this.$router.push({path:this.$common.state.loginPath})):(this.tableData=[],this.conf.emptyText=e.Message,this.conf.dataTotal=0,this.conf.loadStatus=!1)}).catch(()=>{this.tableData=[],this.conf.emptyText="服务器连接失败...",this.conf.dataTotal=0,this.conf.loadStatus=!1})},switchChange(e){let t={id:this.subjectDetail.id,is_open:e?1:0};this.$axios.post(this.urlObj.openCloseSub,t).then(t=>{if(200===t.Code)this.$message({type:"success",message:e?"启用成功！":"关闭成功！"}),this.getSubjectDetail(this.subjectDetail.id);else{let i=t.Message?t.Message:e?"启用失败！":"关闭失败！";this.$message({type:"error",message:i}),this.switchVal=!e}}).catch(t=>{this.switchVal=!e})},logHandle(){this.showLogDialog=!0,this.logTableLoad()},logTableLoad(){this.logConf.loadStatus=!0;let e={id:this.subjectDetail.id,page:this.logConf.curPage,limit:this.logConf.limit};this.$axios.post(this.urlObj.subjectLog,e).then(e=>{200===e.Code?(e.Data.data&&e.Data.data.length>0&&e.Data.data.forEach(e=>{e.cname=e.createuser.realname}),this.logConf.dataTotal=e.Data.total,this.logTableData=e.Data.data,this.logConf.loadStatus=!1,this.logConf.emptyText=""):204===e.Code?(this.$message({message:e.Message,type:"error"}),this.$router.push({path:this.$common.state.loginPath})):(this.logTableData=[],this.logConf.emptyText=e.Message,this.logConf.dataTotal=0,this.logConf.loadStatus=!1)}).catch(()=>{this.logTableData=[],this.logConf.emptyText="服务器连接失败...",this.logConf.dataTotal=0,this.logConf.loadStatus=!1})},logSizeChange(e){this.logConf.limit=e,this.logTableLoad()},logCurrentChange(e){this.logConf.curPage=e,this.logTableLoad()}}},c=u,m=(i("b6b1"),i("1805")),d=Object(m["a"])(c,r,a,!1,null,null,null);t["default"]=d.exports},"423f":function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"内容","prop":"content","show":true},{"label":"操作人","prop":"cname","show":true},{"label":"操作时间","prop":"create_time","show":true}]}')},"56e9":function(e,t,i){},"58ea":function(e,t,i){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"subject-tree"}},[t("div",{staticClass:"search-wrap"},[e.showSearch?t("el-input",{staticClass:"search",attrs:{placeholder:"请输入关键字搜索","suffix-icon":"iconfont iconzu3664"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}):t("div",{staticClass:"title"},[t("span",[e._v("科目列表")]),t("el-select",{on:{change:e.typeChange},model:{value:e.typeVal,callback:function(t){e.typeVal=t},expression:"typeVal"}},e._l(e.typeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-scrollbar",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticStyle:{height:"calc(100% - 4.05rem)"}},[t("div",{staticClass:"tree-wrap"},[t("el-tree",{ref:"subTree",staticClass:"filter-tree",attrs:{data:e.treeData,props:e.defaultProps,"node-key":e.treeType?"nodeid":"id",accordion:"","filter-node-method":e.filterNode,"show-checkbox":"","check-strictly":"","default-expanded-keys":e.defaultShowNodes,"default-checked-keys":e.defaultChecked},on:{"node-expand":e.handleNodeExpand,"node-collapse":e.handleNodeCollapse,"node-click":e.nodeClick,check:e.nodeCheck},scopedSlots:e._u([{key:"default",fn:function({node:i,data:r}){return t("span",{staticClass:"custom-tree-node"},[t("span",[e._v(e._s(i.label))]),"charge"==e.treeType&&!e.showSearch&&r.is_setting&&1==r.is_setting?t("span",{staticClass:"status",staticStyle:{color:"#3ebb75"}},[e._v(" 已设置 ")]):e._e(),"charge"!=e.treeType||e.showSearch||0!=r.is_setting?e._e():t("span",{staticClass:"status",staticStyle:{color:"#ccc"}},[e._v(" 未设置 ")])])}}])})],1)])],1)},a=[],l=(i("5948"),{name:"SubjectTree",props:{showSearch:{type:Boolean,default:!1},treeType:{type:String,default:""},vid:{type:[Number,String],default:0}},data(){return{urlObj:{treeData:this.$api.state.Setting.treeData.url,chargeTree:this.$api.state.Setting.chargeTree.url},treeLoading:!1,filterText:"",treeData:[],defaultProps:{children:"children",label:"name",isLeaf:"isLeaf"},typeVal:0,typeOptions:[{label:"全部科目",value:0},{label:"已设置",value:1},{label:"未设置",value:2}],defaultShowNodes:[],defaultChecked:[]}},watch:{filterText(e){this.$refs.subTree.filter(e)}},created(){this.getTreeData()},methods:{getTreeData(){this.treeLoading=!0;let e=this.urlObj.treeData,t={};"charge"==this.treeType?(e=this.urlObj.chargeTree,t.vid=this.vid):"relevance"==this.treeType&&(e=this.urlObj.chargeTree,t.vid=this.vid,t.charging_correlation=!0),this.$axios.post(e,t).then(e=>{if(200===e.Code)this.treeData=e.Data,this.$emit("setData",e.Data);else{let t=e.Message?e.Message:"数据获取失败！";this.$message({type:"error",message:t})}this.treeLoading=!1}).catch(e=>{this.$message({type:"error",message:"执行失败！"}),this.treeLoading=!1})},filterNode(e,t){return!e||("charge"!=this.treeType||this.showSearch?-1!==t.name.indexOf(e):1==e?1==t.is_setting:2!=e||0==t.is_setting)},nodeClick(e){this.$nextTick(()=>{e.disabled||(this.$refs.subTree.setCheckedNodes([e]),this.$emit("checkChange",e))})},nodeCheck(e){e.disabled||(this.$refs.subTree.setCheckedNodes([e]),this.$emit("checkChange",e))},typeChange(e){this.$refs.subTree.filter(e)},handleNodeExpand(e){let t="";t=this.treeType?e.nodeid:e.id;let i=this.defaultShowNodes.findIndex(e=>e==t);-1===i&&this.defaultShowNodes.push(t)},handleNodeCollapse(e){let t="";t=this.treeType?e.nodeid:e.id;let i=this.defaultShowNodes.findIndex(e=>e==t);this.defaultShowNodes.splice(i,1)},setDefaultChecked(e){this.defaultChecked=[e]}}}),s=l,o=(i("87a6"),i("1805")),n=Object(o["a"])(s,r,a,!1,null,null,null);t["a"]=n.exports},"87a6":function(e,t,i){"use strict";i("20af")},"897c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAA6tJREFUWEfNWU1uIlcQ/orunm18g+ATxLOLokBACmyHOUHsE5iR6Ci7eHajAcn4BGZOYGbbRDIy0Si7IScwOUFga9r+ovegGX66m/eajjVsu6reV1XvVX1VCDL+fgj8E1f4ipATIYoQnGyYIsYUTAQch5SPn+rtcZajxEbp+9vfil4YngulAUHRRhfEhML+3HWv/qq+m5jqGgGs3DaPHufepQhOTQ2nyZHoOd78zbDane6ztxdg6Y9fG8Kna0CO9hmz+84ppXA2+vl9P00vFWAp8K/ziloSCBXNUb19lvQ9FqBOaehdC9Cwi0o2aQJ9x52fxaU8FmBp4N88F7jIJQVyVGu/3nZxB+BzpDUxzsTVXb3dXP++AXDxIHiTLVH5aFHk9frDWQFU9+4pdO/zf622wDktuOFxdB9XAEtBqyciv9ia+z/kSX4Y1Tu65mqAqkO8CB/vDQ+bAewSOBHIKwMdW3lt8sF1jlXH0QDLgd+F4NzgMAB8e1frXChZg6jPQqIS9eHyoPWv8RVaPpgI4L1pbyU4HNU61ciZFJAb4BbkAp/NgqDigMldvX0s1opKd6v6x4CMAcdb4+gtvQiJl1IetC4A+d3Ys6XgDshBqymQSwC5gFPHEHwjpUGrb3jZd33YKqwqG0+eM12nU+XAN74+2wcQ/CjlwP+8QzYTwknybxGs2MeD6/b2cbslG1qQWcqR+WPUIRxLeeDTNL1PYPXPWmdoKh8nZ1cxACuA6k6Map1uVoALluTeCKRiasMKYEqTnzx4TjVKdynwT0V4aftq4+znA3D54qLolgJ/KIKfTKOUJieloDUWke8Mjc1IxExnnDhe2Iwa/I+DVkUoutts/nhkcRb0o7QpM9tUyNCpDTGr83SZsSjUuQC0YE26UNu1Ok6J3RQLMCy44VWUYmXTAc4h3JidZVEHNwf8lDToVqdZyaA1Eci3WVIW6ayXIJvin3QmwX9GtU4xA91KNLmiYTbFP6V06fkkC2FNaoS5AtwgrDrNFpc3HuEXIntwBNdIyNbQ5KmlzjfZ7iKnEDbJQuPAmXpWcOfFnaFJR/FrHjujqB2e6mzx11r7BvcVyENIbEZ8ipyOap2dXVDK8sjtZWbaliAVOMcNT42XR8+a7pi0rvtnuMBkL/vrTgznjCKnBy0wI9OLFbDbzW01QlwVvPlFLivgdf/1imT+2KSwYdu7VW8VSv/Bc7r7Bi2rFCclSDMWoZotKiCK20RUkU0IVOEfPlKGWf+G+A/Hgu+F6WilFAAAAABJRU5ErkJggg=="},b6b1:function(e,t,i){"use strict";i("56e9")},d093:function(e){e.exports=JSON.parse('{"commonet":{"label":"列名称","prop":"字段名称","width":"列宽度","type":"text/number/checkbox(0,1)/button","action":"抛出的方法名称","role":"type存在时使用操作加载对应的权限名","show":"显示/隐藏列","btns":{"name":"按钮名称","type":"按钮样式","size":"按钮大小","round":"是否圆角","class":"自定义class","action":"抛出的方法名称"}},"list":[{"label":"科目名称","prop":"name","show":true},{"label":"使用情况","prop":"vname","show":true}]}')}}]);